/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={207:()=>{console.log(123456789)},365:(t,e,n)=>{"use strict";n.r(e);var r=function(){var t=this;return(0,t._self._c)("span",[t._v(t._s(t.txt))])};r._withStripped=!0;var o=function(t,e,n,r,o,i,a,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:t,options:u}}({data:()=>({txt:"Hello"}),created(){},updated(){},destroyed(){},methods:{},mounted(){}},r,[],!1,null,null,null);const i=o.exports;document.addEventListener("DOMContentLoaded",(function(){new Vue({el:"#tst",render:t=>t(i),components:{Tst:i}})}))}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t=Object.freeze({}),e=Array.isArray;function r(t){return null==t}function o(t){return null!=t}function i(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return"function"==typeof t}function c(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function f(t){return"[object RegExp]"===u.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return o(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function h(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m("slot,component",!0);var _=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var g=Object.prototype.hasOwnProperty;function b(t,e){return g.call(t,e)}function C(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var $=/-(\w)/g,w=C((function(t){return t.replace($,(function(t,e){return e?e.toUpperCase():""}))})),x=C((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),O=/\B([A-Z])/g,k=C((function(t){return t.replace(O,"-$1").toLowerCase()}));var S=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function T(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function A(t,e){for(var n in e)t[n]=e[n];return t}function j(t){for(var e={},n=0;n<t.length;n++)t[n]&&A(e,t[n]);return e}function E(t,e,n){}var I=function(t,e,n){return!1},P=function(t){return t};function D(t,e){if(t===e)return!0;var n=c(t),r=c(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every((function(t,n){return D(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return D(t[n],e[n])}))}catch(t){return!1}}function N(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function L(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function M(t,e){return t===e?0===t&&1/t!=1/e:t==t||e==e}var F="data-server-rendered",R=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:I,isReservedAttr:I,isUnknownElement:I,getTagNamespace:E,parsePlatformTagName:P,mustUseProp:I,async:!0,_lifecycleHooks:V},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function B(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function z(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var W=new RegExp("[^".concat(H.source,".$_\\d]"));var K="__proto__"in{},q="undefined"!=typeof window,G=q&&window.navigator.userAgent.toLowerCase(),X=G&&/msie|trident/.test(G),Z=G&&G.indexOf("msie 9.0")>0,J=G&&G.indexOf("edge/")>0;G&&G.indexOf("android");var Q=G&&/iphone|ipad|ipod|ios/.test(G);G&&/chrome\/\d+/.test(G),G&&/phantomjs/.test(G);var Y,tt=G&&G.match(/firefox\/(\d+)/),et={}.watch,nt=!1;if(q)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var ot=function(){return void 0===Y&&(Y=!q&&void 0!==n.g&&(n.g.process&&"server"===n.g.process.env.VUE_ENV)),Y},it=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,ct="undefined"!=typeof Symbol&&at(Symbol)&&"undefined"!=typeof Reflect&&at(Reflect.ownKeys);st="undefined"!=typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=null;function lt(t){void 0===t&&(t=null),t||ut&&ut._scope.off(),ut=t,t&&t._scope.on()}var ft=E,dt=0,pt=function(){function t(){this.id=dt++,this.subs=[]}return t.prototype.addSub=function(t){this.subs.push(t)},t.prototype.removeSub=function(t){y(this.subs,t)},t.prototype.depend=function(e){t.target&&t.target.addDep(this)},t.prototype.notify=function(t){var e=this.subs.slice();for(var n=0,r=e.length;n<r;n++){e[n].update()}},t}();pt.target=null;var vt=[];function ht(t){vt.push(t),pt.target=t}function mt(){vt.pop(),pt.target=vt[vt.length-1]}var _t=function(){function t(t,e,n,r,o,i,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(t.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),t}(),yt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function gt(t){return new _t(void 0,void 0,void 0,String(t))}function bt(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Ct=Array.prototype,$t=Object.create(Ct);function wt(t){return xt(t,!0),z(t,"__v_isShallow",!0),t}function xt(t,e){if(!Ot(t)){gn(t,e,ot());0}}function Ot(t){return!(!t||!t.__v_isReadonly)}["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=Ct[t];z($t,t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o,i=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&a.observeArray(o),a.dep.notify(),i}))}));function kt(t){return!(!t||!0!==t.__v_isRef)}function St(t,e,n){Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){return function(t){return kt(t)?t.value:t}(e[n])},set:function(t){var r=e[n];kt(r)&&!kt(t)?r.value=t:e[n]=t}})}var Tt=new st;function At(t){return jt(t,Tt),Tt.clear(),t}function jt(t,n){var r,o,i=e(t);if(!(!i&&!c(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(i)for(r=t.length;r--;)jt(t[r],n);else for(r=(o=Object.keys(t)).length;r--;)jt(t[o[r]],n)}}var Et=C((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function It(t,n){function r(){var t=r.fns;if(!e(t))return Qe(t,null,arguments,n,"v-on handler");for(var o=t.slice(),i=0;i<o.length;i++)Qe(o[i],null,arguments,n,"v-on handler")}return r.fns=t,r}function Pt(t,e,n,o,a,s){var c,u,l,f;for(c in t)u=t[c],l=e[c],f=Et(c),r(u)||(r(l)?(r(u.fns)&&(u=t[c]=It(u,s)),i(f.once)&&(u=t[c]=a(f.name,u,f.capture)),n(f.name,u,f.capture,f.passive,f.params)):u!==l&&(l.fns=u,t[c]=l));for(c in e)r(t[c])&&o((f=Et(c)).name,e[c],f.capture)}function Dt(t,e,n){var a;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function c(){n.apply(this,arguments),y(a.fns,c)}r(s)?a=It([c]):o(s.fns)&&i(s.merged)?(a=s).fns.push(c):a=It([s,c]),a.merged=!0,t[e]=a}function Nt(t,e,n,r,i){if(o(e)){if(b(e,n))return t[n]=e[n],i||delete e[n],!0;if(b(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Lt(t){return a(t)?[gt(t)]:e(t)?Ft(t):void 0}function Mt(t){return o(t)&&o(t.text)&&!1===t.isComment}function Ft(t,n){var s,c,u,l,f=[];for(s=0;s<t.length;s++)r(c=t[s])||"boolean"==typeof c||(l=f[u=f.length-1],e(c)?c.length>0&&(Mt((c=Ft(c,"".concat(n||"","_").concat(s)))[0])&&Mt(l)&&(f[u]=gt(l.text+c[0].text),c.shift()),f.push.apply(f,c)):a(c)?Mt(l)?f[u]=gt(l.text+c):""!==c&&f.push(gt(c)):Mt(c)&&Mt(l)?f[u]=gt(l.text+c.text):(i(t._isVList)&&o(c.tag)&&r(c.key)&&o(n)&&(c.key="__vlist".concat(n,"_").concat(s,"__")),f.push(c)));return f}function Rt(t,e){if(ut){var n=ut._provided,r=ut.$parent&&ut.$parent._provided;r===n&&(n=ut._provided=Object.create(r)),n[t]=e}else 0}function Vt(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){var a=t[i].from;if(a in e._provided)n[i]=e._provided[a];else if("default"in t[i]){var c=t[i].default;n[i]=s(c)?c.call(e):c}else 0}}return n}}function Ut(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],a=i.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,i.context!==e&&i.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(i);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in n)n[u].every(Ht)&&delete n[u];return n}function Ht(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Bt(t){return t.isComment&&t.asyncFactory}function zt(e,n,r,o){var i,a=Object.keys(r).length>0,s=n?!!n.$stable:!a,c=n&&n.$key;if(n){if(n._normalized)return n._normalized;if(s&&o&&o!==t&&c===o.$key&&!a&&!o.$hasNormal)return o;for(var u in i={},n)n[u]&&"$"!==u[0]&&(i[u]=Wt(e,r,u,n[u]))}else i={};for(var l in r)l in i||(i[l]=Kt(r,l));return n&&Object.isExtensible(n)&&(n._normalized=i),z(i,"$stable",s),z(i,"$key",c),z(i,"$hasNormal",a),i}function Wt(t,n,r,o){var i=function(){var n=ut;lt(t);var r=arguments.length?o.apply(null,arguments):o({}),i=(r=r&&"object"==typeof r&&!e(r)?[r]:Lt(r))&&r[0];return lt(n),r&&(!i||1===r.length&&i.isComment&&!Bt(i))?void 0:r};return o.proxy&&Object.defineProperty(n,r,{get:i,enumerable:!0,configurable:!0}),i}function Kt(t,e){return function(){return t[e]}}function qt(t,n){var r,i,a,s,u=null;if(e(t)||"string"==typeof t)for(u=new Array(t.length),r=0,i=t.length;r<i;r++)u[r]=n(t[r],r);else if("number"==typeof t)for(u=new Array(t),r=0;r<t;r++)u[r]=n(r+1,r);else if(c(t))if(ct&&t[Symbol.iterator]){u=[];for(var l=t[Symbol.iterator](),f=l.next();!f.done;)u.push(n(f.value,u.length)),f=l.next()}else for(a=Object.keys(t),u=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],u[r]=n(t[s],s,r);return o(u)||(u=[]),u._isVList=!0,u}function Gt(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=A(A({},r),n)),o=i(n)||(s(e)?e():e)):o=this.$slots[t]||(s(e)?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},o):o}function Xt(t){return En(this.$options,"filters",t,!0)||P}function Zt(t,n){return e(t)?-1===t.indexOf(n):t!==n}function Jt(t,e,n,r,o){var i=U.keyCodes[e]||n;return o&&r&&!U.keyCodes[e]?Zt(o,r):i?Zt(i,t):r?k(r)!==e:void 0===t}function Qt(t,n,r,o,i){if(r)if(c(r)){e(r)&&(r=j(r));var a=void 0,s=function(e){if("class"===e||"style"===e||_(e))a=t;else{var s=t.attrs&&t.attrs.type;a=o||U.mustUseProp(n,s,e)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=w(e),u=k(e);c in a||u in a||(a[e]=r[e],i&&((t.on||(t.on={}))["update:".concat(e)]=function(t){r[e]=t}))};for(var u in r)s(u)}else;return t}function Yt(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||ee(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,this._c,this),"__static__".concat(t),!1),r}function te(t,e,n){return ee(t,"__once__".concat(e).concat(n?"_".concat(n):""),!0),t}function ee(t,n,r){if(e(t))for(var o=0;o<t.length;o++)t[o]&&"string"!=typeof t[o]&&ne(t[o],"".concat(n,"_").concat(o),r);else ne(t,n,r)}function ne(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function re(t,e){if(e)if(l(e)){var n=t.on=t.on?A({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}else;return t}function oe(t,n,r,o){n=n||{$stable:!r};for(var i=0;i<t.length;i++){var a=t[i];e(a)?oe(a,n,r):a&&(a.proxy&&(a.fn.proxy=!0),n[a.key]=a.fn)}return o&&(n.$key=o),n}function ie(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function ae(t,e){return"string"==typeof t?e+t:t}function se(t){t._o=te,t._n=h,t._s=v,t._l=qt,t._t=Gt,t._q=D,t._i=N,t._m=Yt,t._f=Xt,t._k=Jt,t._b=Qt,t._v=gt,t._e=yt,t._u=oe,t._g=re,t._d=ie,t._p=ae}function ce(n,r,o,a,s){var c,u=this,l=s.options;b(a,"_uid")?(c=Object.create(a))._original=a:(c=a,a=a._original);var f=i(l._compiled),d=!f;this.data=n,this.props=r,this.children=o,this.parent=a,this.listeners=n.on||t,this.injections=Vt(l.inject,a),this.slots=function(){return u.$slots||zt(a,n.scopedSlots,u.$slots=Ut(o,a)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return zt(a,n.scopedSlots,this.slots())}}),f&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=zt(a,n.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,n,r,o){var i=he(c,t,n,r,o,d);return i&&!e(i)&&(i.fnScopeId=l._scopeId,i.fnContext=a),i}:this._c=function(t,e,n,r){return he(c,t,e,n,r,d)}}function ue(t,e,n,r,o){var i=bt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function le(t,e){for(var n in e)t[w(n)]=e[n]}se(ce.prototype);var fe={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;fe.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Ae)).$mount(e?t.elm:void 0,e)}},prepatch:function(e,n){var r=n.componentOptions;!function(e,n,r,o,i){0;var a=o.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==t&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),u=!!(i||e.$options._renderChildren||c),l=e.$vnode;e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o);e.$options._renderChildren=i;var f=o.data.attrs||t;e._attrsProxy&&ye(e._attrsProxy,f,l.data&&l.data.attrs||t,e)&&(u=!0);if(e.$attrs=f,e.$listeners=r||t,n&&e.$options.props){mn(!1);for(var d=e._props,p=e.$options._propKeys||[],v=0;v<p.length;v++){var h=p[v],m=e.$options.props;d[h]=In(h,m,n,e)}mn(!0),e.$options.propsData=n}r=r||t;var _=e.$options._parentListeners;e.$options._parentListeners=r,Te(e,r,_),u&&(e.$slots=Ut(i,o.context),e.$forceUpdate());0}(n.componentInstance=e.componentInstance,r.propsData,r.listeners,n,r.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,De(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,Le.push(e)):Ie(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Pe(e,!0):e.$destroy())}},de=Object.keys(fe);function pe(n,a,s,u,l){if(!r(n)){var f=s.$options._base;if(c(n)&&(n=f.extend(n)),"function"==typeof n){var d;if(r(n.cid)&&(n=function(t,e){if(i(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=$e;n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(i(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var a=t.owners=[n],s=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return y(a,n)}));var f=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},d=L((function(n){t.resolved=we(n,e),s?a.length=0:f(!0)})),v=L((function(e){o(t.errorComp)&&(t.error=!0,f(!0))})),h=t(d,v);return c(h)&&(p(h)?r(t.resolved)&&h.then(d,v):p(h.component)&&(h.component.then(d,v),o(h.error)&&(t.errorComp=we(h.error,e)),o(h.loading)&&(t.loadingComp=we(h.loading,e),0===h.delay?t.loading=!0:u=setTimeout((function(){u=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,f(!1))}),h.delay||200)),o(h.timeout)&&(l=setTimeout((function(){l=null,r(t.resolved)&&v(null)}),h.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}(d=n,f),void 0===n))return function(t,e,n,r,o){var i=yt();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}(d,a,s,u,l);a=a||{},Kn(n),o(a.model)&&function(t,n){var r=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(n.attrs||(n.attrs={}))[r]=n.model.value;var a=n.on||(n.on={}),s=a[i],c=n.model.callback;o(s)?(e(s)?-1===s.indexOf(c):s!==c)&&(a[i]=[c].concat(s)):a[i]=c}(n.options,a);var v=function(t,e,n){var i=e.options.props;if(!r(i)){var a={},s=t.attrs,c=t.props;if(o(s)||o(c))for(var u in i){var l=k(u);Nt(a,c,u,l,!0)||Nt(a,s,u,l,!1)}return a}}(a,n);if(i(n.options.functional))return function(n,r,i,a,s){var c=n.options,u={},l=c.props;if(o(l))for(var f in l)u[f]=In(f,l,r||t);else o(i.attrs)&&le(u,i.attrs),o(i.props)&&le(u,i.props);var d=new ce(i,u,s,a,n),p=c.render.call(null,d._c,d);if(p instanceof _t)return ue(p,i,d.parent,c);if(e(p)){for(var v=Lt(p)||[],h=new Array(v.length),m=0;m<v.length;m++)h[m]=ue(v[m],i,d.parent,c);return h}}(n,v,a,s,u);var h=a.on;if(a.on=a.nativeOn,i(n.options.abstract)){var m=a.slot;a={},m&&(a.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<de.length;n++){var r=de[n],o=e[r],i=fe[r];o===i||o&&o._merged||(e[r]=o?ve(i,o):i)}}(a);var _=n.options.name||l;return new _t("vue-component-".concat(n.cid).concat(_?"-".concat(_):""),a,void 0,void 0,void 0,s,{Ctor:n,propsData:v,listeners:h,tag:l,children:u},d)}}}function ve(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function he(t,n,r,u,l,f){return(e(r)||a(r))&&(l=u,u=r,r=void 0),i(f)&&(l=2),function(t,n,r,i,a){if(o(r)&&o(r.__ob__))return yt();o(r)&&o(r.is)&&(n=r.is);if(!n)return yt();0;e(i)&&s(i[0])&&((r=r||{}).scopedSlots={default:i[0]},i.length=0);2===a?i=Lt(i):1===a&&(i=function(t){for(var n=0;n<t.length;n++)if(e(t[n]))return Array.prototype.concat.apply([],t);return t}(i));var u,l;if("string"==typeof n){var f=void 0;l=t.$vnode&&t.$vnode.ns||U.getTagNamespace(n),u=U.isReservedTag(n)?new _t(U.parsePlatformTagName(n),r,i,void 0,void 0,t):r&&r.pre||!o(f=En(t.$options,"components",n))?new _t(n,r,i,void 0,void 0,t):pe(f,r,t,i,n)}else u=pe(n,r,t,i);return e(u)?u:o(u)?(o(l)&&me(u,l),o(r)&&function(t){c(t.style)&&At(t.style);c(t.class)&&At(t.class)}(r),u):yt()}(t,n,r,u,l)}function me(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var a=0,s=t.children.length;a<s;a++){var c=t.children[a];o(c.tag)&&(r(c.ns)||i(n)&&"svg"!==c.tag)&&me(c,e,n)}}function _e(e){return{get attrs(){return function(e){if(!e._attrsProxy){var n=e._attrsProxy={};z(n,"_v_attr_proxy",!0),ye(n,e.$attrs,t,e)}return e._attrsProxy}(e)},get slots(){return function(t){t._slotsProxy||be(t._slotsProxy={},t.$scopedSlots);return t._slotsProxy}(e)},emit:S(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return St(e,t,n)}))}}}function ye(t,e,n,r){var o=!1;for(var i in e)i in t?e[i]!==n[i]&&(o=!0):(o=!0,ge(t,i,r));for(var i in t)i in e||(o=!0,delete t[i]);return o}function ge(t,e,n){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){return n.$attrs[e]}})}function be(t,e){for(var n in e)t[n]=e[n];for(var n in t)n in e||delete t[n]}var Ce,$e=null;function we(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function xe(t){if(e(t))for(var n=0;n<t.length;n++){var r=t[n];if(o(r)&&(o(r.componentOptions)||Bt(r)))return r}}function Oe(t,e){Ce.$on(t,e)}function ke(t,e){Ce.$off(t,e)}function Se(t,e){var n=Ce;return function r(){var o=e.apply(null,arguments);null!==o&&n.$off(t,r)}}function Te(t,e,n){Ce=t,Pt(e,n||{},Oe,ke,Se,t),Ce=void 0}var Ae=null;function je(t){var e=Ae;return Ae=t,function(){Ae=e}}function Ee(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Ie(t,e){if(e){if(t._directInactive=!1,Ee(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ie(t.$children[n]);De(t,"activated")}}function Pe(t,e){if(!(e&&(t._directInactive=!0,Ee(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Pe(t.$children[n]);De(t,"deactivated")}}function De(t,e,n){ht();var r=ut;lt(t);var o=t.$options[e],i="".concat(e," hook");if(o)for(var a=0,s=o.length;a<s;a++)Qe(o[a],t,n||null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),lt(r),mt()}var Ne=[],Le=[],Me={},Fe=!1,Re=!1,Ve=0;var Ue,He=0,Be=Date.now;if(q&&!X){var ze=window.performance;ze&&"function"==typeof ze.now&&Be()>document.createEvent("Event").timeStamp&&(Be=function(){return ze.now()})}function We(){var t,e;for(He=Be(),Re=!0,Ne.sort((function(t,e){return t.id-e.id})),Ve=0;Ve<Ne.length;Ve++)(t=Ne[Ve]).before&&t.before(),e=t.id,Me[e]=null,t.run();var n=Le.slice(),r=Ne.slice();Ve=Ne.length=Le.length=0,Me={},Fe=Re=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ie(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r&&r._watcher===n&&r._isMounted&&!r._isDestroyed&&De(r,"updated")}}(r),it&&U.devtools&&it.emit("flush")}function Ke(t){var e=t.id;if(null==Me[e]&&(t!==pt.target||!t.noRecurse)){if(Me[e]=!0,Re){for(var n=Ne.length-1;n>Ve&&Ne[n].id>t.id;)n--;Ne.splice(n+1,0,t)}else Ne.push(t);Fe||(Fe=!0,fn(We))}}var qe=function(){function t(t){void 0===t&&(t=!1),this.active=!0,this.effects=[],this.cleanups=[],!t&&Ue&&(this.parent=Ue,this.index=(Ue.scopes||(Ue.scopes=[])).push(this)-1)}return t.prototype.run=function(t){if(this.active){var e=Ue;try{return Ue=this,t()}finally{Ue=e}}else 0},t.prototype.on=function(){Ue=this},t.prototype.off=function(){Ue=this.parent},t.prototype.stop=function(t){if(this.active){var e=void 0,n=void 0;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].teardown();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(this.parent&&!t){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}},t}();var Ge=0,Xe=function(){function t(t,e,n,r,o){var i,a;i=this,void 0===(a=Ue||(t?t._scope:void 0))&&(a=Ue),a&&a.active&&a.effects.push(i),(this.vm=t)&&o&&(t._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Ge,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="",s(e)?this.getter=e:(this.getter=function(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=E)),this.value=this.lazy?void 0:this.get()}return t.prototype.get=function(){var t;ht(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Je(t,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&At(t),mt(),this.cleanupDeps()}return t},t.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},t.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},t.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ke(this)},t.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'.concat(this.expression,'"');Qe(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},t.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},t.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},t.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&y(this.vm._scope.effects,this),this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},t}();var Ze="watcher";"".concat(Ze," callback"),"".concat(Ze," getter"),"".concat(Ze," cleanup");function Je(t,e,n){ht();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,t,e,n))return}catch(t){Ye(t,r,"errorCaptured hook")}}Ye(t,e,n)}finally{mt()}}function Qe(t,e,n,r,o){var i;try{(i=n?t.apply(e,n):t.call(e))&&!i._isVue&&p(i)&&!i._handled&&(i.catch((function(t){return Je(t,r,o+" (Promise/async)")})),i._handled=!0)}catch(t){Je(t,r,o)}return i}function Ye(t,e,n){if(U.errorHandler)try{return U.errorHandler.call(null,t,e,n)}catch(e){e!==t&&tn(e,null,"config.errorHandler")}tn(t,e,n)}function tn(t,e,n){if(!q||"undefined"==typeof console)throw t;console.error(t)}var en,nn=!1,rn=[],on=!1;function an(){on=!1;var t=rn.slice(0);rn.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&at(Promise)){var sn=Promise.resolve();en=function(){sn.then(an),Q&&setTimeout(E)},nn=!0}else if(X||"undefined"==typeof MutationObserver||!at(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())en="undefined"!=typeof setImmediate&&at(setImmediate)?function(){setImmediate(an)}:function(){setTimeout(an,0)};else{var cn=1,un=new MutationObserver(an),ln=document.createTextNode(String(cn));un.observe(ln,{characterData:!0}),en=function(){cn=(cn+1)%2,ln.data=String(cn)},nn=!0}function fn(t,e){var n;if(rn.push((function(){if(t)try{t.call(e)}catch(t){Je(t,e,"nextTick")}else n&&n(e)})),on||(on=!0,en()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}function dn(t){return function(e,n){if(void 0===n&&(n=ut),n)return function(t,e,n){var r=t.$options;r[e]=Sn(r[e],n)}(n,t,e)}}dn("beforeMount"),dn("mounted"),dn("beforeUpdate"),dn("updated"),dn("beforeDestroy"),dn("destroyed"),dn("errorCaptured"),dn("activated"),dn("deactivated"),dn("serverPrefetch"),dn("renderTracked"),dn("renderTriggered");var pn=Object.getOwnPropertyNames($t),vn={},hn=!0;function mn(t){hn=t}var _n={notify:E,depend:E,addSub:E,removeSub:E},yn=function(){function t(t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),this.value=t,this.shallow=n,this.mock=r,this.dep=r?_n:new pt,this.vmCount=0,z(t,"__ob__",this),e(t)){if(!r)if(K)t.__proto__=$t;else for(var o=0,i=pn.length;o<i;o++){z(t,s=pn[o],$t[s])}n||this.observeArray(t)}else{var a=Object.keys(t);for(o=0;o<a.length;o++){var s;bn(t,s=a[o],vn,void 0,n,r)}}}return t.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)gn(t[e],!1,this.mock)},t}();function gn(t,n,r){var o;if(!(!c(t)||kt(t)||t instanceof _t))return b(t,"__ob__")&&t.__ob__ instanceof yn?o=t.__ob__:!hn||!r&&ot()||!e(t)&&!l(t)||!Object.isExtensible(t)||t.__v_skip||(o=new yn(t,n,r)),o}function bn(t,n,r,o,i,a){var s=new pt,c=Object.getOwnPropertyDescriptor(t,n);if(!c||!1!==c.configurable){var u=c&&c.get,l=c&&c.set;u&&!l||r!==vn&&2!==arguments.length||(r=t[n]);var f=!i&&gn(r,!1,a);return Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var n=u?u.call(t):r;return pt.target&&(s.depend(),f&&(f.dep.depend(),e(n)&&wn(n))),kt(n)&&!i?n.value:n},set:function(e){var n=u?u.call(t):r;if(M(n,e)){if(l)l.call(t,e);else{if(u)return;if(kt(n)&&!kt(e))return void(n.value=e);r=e}f=!i&&gn(e,!1,a),s.notify()}}}),s}}function Cn(t,n,r){if(!Ot(t)){var o=t.__ob__;return e(t)&&d(n)?(t.length=Math.max(t.length,n),t.splice(n,1,r),o&&!o.shallow&&o.mock&&gn(r,!1,!0),r):n in t&&!(n in Object.prototype)?(t[n]=r,r):t._isVue||o&&o.vmCount?r:o?(bn(o.value,n,r,void 0,o.shallow,o.mock),o.dep.notify(),r):(t[n]=r,r)}}function $n(t,n){if(e(t)&&d(n))t.splice(n,1);else{var r=t.__ob__;t._isVue||r&&r.vmCount||Ot(t)||b(t,n)&&(delete t[n],r&&r.dep.notify())}}function wn(t){for(var n=void 0,r=0,o=t.length;r<o;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),e(n)&&wn(n)}var xn=U.optionMergeStrategies;function On(t,e){if(!e)return t;for(var n,r,o,i=ct?Reflect.ownKeys(e):Object.keys(e),a=0;a<i.length;a++)"__ob__"!==(n=i[a])&&(r=t[n],o=e[n],b(t,n)?r!==o&&l(r)&&l(o)&&On(r,o):Cn(t,n,o));return t}function kn(t,e,n){return n?function(){var r=s(e)?e.call(n,n):e,o=s(t)?t.call(n,n):t;return r?On(r,o):o}:e?t?function(){return On(s(e)?e.call(this,this):e,s(t)?t.call(this,this):t)}:e:t}function Sn(t,n){var r=n?t?t.concat(n):e(n)?n:[n]:t;return r?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(r):r}function Tn(t,e,n,r){var o=Object.create(t||null);return e?A(o,e):o}xn.data=function(t,e,n){return n?kn(t,e,n):e&&"function"!=typeof e?t:kn(t,e)},V.forEach((function(t){xn[t]=Sn})),R.forEach((function(t){xn[t+"s"]=Tn})),xn.watch=function(t,n,r,o){if(t===et&&(t=void 0),n===et&&(n=void 0),!n)return Object.create(t||null);if(!t)return n;var i={};for(var a in A(i,t),n){var s=i[a],c=n[a];s&&!e(s)&&(s=[s]),i[a]=s?s.concat(c):e(c)?c:[c]}return i},xn.props=xn.methods=xn.inject=xn.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return A(o,t),e&&A(o,e),o},xn.provide=kn;var An=function(t,e){return void 0===e?t:e};function jn(t,n,r){if(s(n)&&(n=n.options),function(t,n){var r=t.props;if(r){var o,i,a={};if(e(r))for(o=r.length;o--;)"string"==typeof(i=r[o])&&(a[w(i)]={type:null});else if(l(r))for(var s in r)i=r[s],a[w(s)]=l(i)?i:{type:i};t.props=a}}(n),function(t,n){var r=t.inject;if(r){var o=t.inject={};if(e(r))for(var i=0;i<r.length;i++)o[r[i]]={from:r[i]};else if(l(r))for(var a in r){var s=r[a];o[a]=l(s)?A({from:a},s):{from:s}}}}(n),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];s(r)&&(e[n]={bind:r,update:r})}}(n),!n._base&&(n.extends&&(t=jn(t,n.extends,r)),n.mixins))for(var o=0,i=n.mixins.length;o<i;o++)t=jn(t,n.mixins[o],r);var a,c={};for(a in t)u(a);for(a in n)b(t,a)||u(a);function u(e){var o=xn[e]||An;c[e]=o(t[e],n[e],r,e)}return c}function En(t,e,n,r){if("string"==typeof n){var o=t[e];if(b(o,n))return o[n];var i=w(n);if(b(o,i))return o[i];var a=x(i);return b(o,a)?o[a]:o[n]||o[i]||o[a]}}function In(t,e,n,r){var o=e[t],i=!b(n,t),a=n[t],c=Ln(Boolean,o.type);if(c>-1)if(i&&!b(o,"default"))a=!1;else if(""===a||a===k(t)){var u=Ln(String,o.type);(u<0||c<u)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!b(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return s(r)&&"Function"!==Dn(e.type)?r.call(t):r}(r,o,t);var l=hn;mn(!0),gn(a),mn(l)}return a}var Pn=/^\s*function (\w+)/;function Dn(t){var e=t&&t.toString().match(Pn);return e?e[1]:""}function Nn(t,e){return Dn(t)===Dn(e)}function Ln(t,n){if(!e(n))return Nn(n,t)?0:-1;for(var r=0,o=n.length;r<o;r++)if(Nn(n[r],t))return r;return-1}var Mn={enumerable:!0,configurable:!0,get:E,set:E};function Fn(t,e,n){Mn.get=function(){return this[e][n]},Mn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Mn)}function Rn(t){var n=t.$options;if(n.props&&function(t,e){var n=t.$options.propsData||{},r=t._props=wt({}),o=t.$options._propKeys=[];t.$parent&&mn(!1);var i=function(i){o.push(i);var a=In(i,e,n,t);bn(r,i,a),i in t||Fn(t,"_props",i)};for(var a in e)i(a);mn(!0)}(t,n.props),function(t){var e=t.$options,n=e.setup;if(n){var r=t._setupContext=_e(t);lt(t),ht();var o=Qe(n,null,[t._props||wt({}),r],t,"setup");if(mt(),lt(),s(o))e.render=o;else if(c(o))if(t._setupState=o,o.__sfc){var i=t._setupProxy={};for(var a in o)"__sfc"!==a&&St(i,o,a)}else for(var a in o)B(a)||St(t,o,a)}}(t),n.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?E:S(e[n],t)}(t,n.methods),n.data)!function(t){var e=t.$options.data;l(e=t._data=s(e)?function(t,e){ht();try{return t.call(e,e)}catch(t){return Je(t,e,"data()"),{}}finally{mt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,o=(t.$options.methods,n.length);for(;o--;){var i=n[o];0,r&&b(r,i)||B(i)||Fn(t,"_data",i)}var a=gn(e);a&&a.vmCount++}(t);else{var r=gn(t._data={});r&&r.vmCount++}n.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=ot();for(var o in e){var i=e[o],a=s(i)?i:i.get;0,r||(n[o]=new Xe(t,a||E,E,Vn)),o in t||Un(t,o,i)}}(t,n.computed),n.watch&&n.watch!==et&&function(t,n){for(var r in n){var o=n[r];if(e(o))for(var i=0;i<o.length;i++)zn(t,r,o[i]);else zn(t,r,o)}}(t,n.watch)}var Vn={lazy:!0};function Un(t,e,n){var r=!ot();s(n)?(Mn.get=r?Hn(e):Bn(n),Mn.set=E):(Mn.get=n.get?r&&!1!==n.cache?Hn(e):Bn(n.get):E,Mn.set=n.set||E),Object.defineProperty(t,e,Mn)}function Hn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),pt.target&&e.depend(),e.value}}function Bn(t){return function(){return t.call(this,this)}}function zn(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var Wn=0;function Kn(t){var e=t.options;if(t.super){var n=Kn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}(t);r&&A(t.extendOptions,r),(e=t.options=jn(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function qn(t){this._init(t)}function Gn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=t.name||n.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=jn(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)Fn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)Un(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,R.forEach((function(t){a[t]=n[t]})),i&&(a.options.components[i]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=A({},a.options),o[r]=a,a}}function Xn(t){return t&&(t.Ctor.options.name||t.tag)}function Zn(t,n){return e(t)?t.indexOf(n)>-1:"string"==typeof t?t.split(",").indexOf(n)>-1:!!f(t)&&t.test(n)}function Jn(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var a=n[i];if(a){var s=a.name;s&&!e(s)&&Qn(n,i,r,o)}}}function Qn(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(e){e.prototype._init=function(e){var n=this;n._uid=Wn++,n._isVue=!0,n.__v_skip=!0,n._scope=new qe(!0),e&&e._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(n,e):n.$options=jn(Kn(n.constructor),e||{},n),n._renderProxy=n,n._self=n,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._provided=n?n._provided:Object.create(null),t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(n),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Te(t,e)}(n),function(e){e._vnode=null,e._staticTrees=null;var n=e.$options,r=e.$vnode=n._parentVnode,o=r&&r.context;e.$slots=Ut(n._renderChildren,o),e.$scopedSlots=t,e._c=function(t,n,r,o){return he(e,t,n,r,o,!1)},e.$createElement=function(t,n,r,o){return he(e,t,n,r,o,!0)};var i=r&&r.data;bn(e,"$attrs",i&&i.attrs||t,null,!0),bn(e,"$listeners",n._parentListeners||t,null,!0)}(n),De(n,"beforeCreate"),function(t){var e=Vt(t.$options.inject,t);e&&(mn(!1),Object.keys(e).forEach((function(n){bn(t,n,e[n])})),mn(!0))}(n),Rn(n),function(t){var e=t.$options.provide;if(e){var n=s(e)?e.call(t):e;if(!c(n))return;var r=ct?Reflect.ownKeys(n):Object.keys(n);lt(t);for(var o=0;o<r.length;o++)Rt(r[o],n[r[o]]);lt()}}(n),De(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(qn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Cn,t.prototype.$delete=$n,t.prototype.$watch=function(t,e,n){var r=this;if(l(e))return zn(r,t,e,n);(n=n||{}).user=!0;var o=new Xe(r,t,e,n);if(n.immediate){var i='callback for immediate watcher "'.concat(o.expression,'"');ht(),Qe(e,r,[o.value],r,i),mt()}return function(){o.teardown()}}}(qn),function(t){var n=/^hook:/;t.prototype.$on=function(t,r){var o=this;if(e(t))for(var i=0,a=t.length;i<a;i++)o.$on(t[i],r);else(o._events[t]||(o._events[t]=[])).push(r),n.test(t)&&(o._hasHookEvent=!0);return o},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,n){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(e(t)){for(var o=0,i=t.length;o<i;o++)r.$off(t[o],n);return r}var a,s=r._events[t];if(!s)return r;if(!n)return r._events[t]=null,r;for(var c=s.length;c--;)if((a=s[c])===n||a.fn===n){s.splice(c,1);break}return r},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?T(n):n;for(var r=T(arguments,1),o='event handler for "'.concat(t,'"'),i=0,a=n.length;i<a;i++)Qe(n[i],e,r,e,o)}return e}}(qn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=je(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){De(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._scope.stop(),t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),De(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(qn),function(t){se(t.prototype),t.prototype.$nextTick=function(t){return fn(t,this)},t.prototype._render=function(){var t,n=this,r=n.$options,o=r.render,i=r._parentVnode;i&&(n.$scopedSlots=zt(n.$parent,i.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&be(n._slotsProxy,n.$scopedSlots)),n.$vnode=i;try{lt(n),$e=n,t=o.call(n._renderProxy,n.$createElement)}catch(e){Je(e,n,"render"),t=n._vnode}finally{$e=null,lt()}return e(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=yt()),t.parent=i,t}}(qn);var Yn=[String,RegExp,Array],tr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Yn,exclude:Yn,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,o=t.keyToCache;if(r){var i=r.tag,a=r.componentInstance,s=r.componentOptions;e[o]={name:Xn(s),tag:i,componentInstance:a},n.push(o),this.max&&n.length>parseInt(this.max)&&Qn(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Qn(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Jn(t,(function(t){return Zn(e,t)}))})),this.$watch("exclude",(function(e){Jn(t,(function(t){return!Zn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=xe(t),n=e&&e.componentOptions;if(n){var r=Xn(n),o=this.include,i=this.exclude;if(o&&(!r||!Zn(o,r))||i&&r&&Zn(i,r))return e;var a=this.cache,s=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,y(s,c),s.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return U}};Object.defineProperty(t,"config",e),t.util={warn:ft,extend:A,mergeOptions:jn,defineReactive:bn},t.set=Cn,t.delete=$n,t.nextTick=fn,t.observable=function(t){return gn(t),t},t.options=Object.create(null),R.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,A(t.options.components,tr),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=T(arguments,1);return n.unshift(this),s(t.install)?t.install.apply(t,n):s(t)&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=jn(this.options,t),this}}(t),Gn(t),function(t){R.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&s(n)&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(qn),Object.defineProperty(qn.prototype,"$isServer",{get:ot}),Object.defineProperty(qn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(qn,"FunctionalRenderContext",{value:ce}),qn.version="2.7.4";var er=m("style,class"),nr=m("input,textarea,option,select,progress"),rr=m("contenteditable,draggable,spellcheck"),or=m("events,caret,typing,plaintext-only"),ir=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),ar="http://www.w3.org/1999/xlink",sr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},cr=function(t){return sr(t)?t.slice(6,t.length):""},ur=function(t){return null==t||!1===t};function lr(t){for(var e=t.data,n=t,r=t;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=fr(r.data,e));for(;o(n=n.parent);)n&&n.data&&(e=fr(e,n.data));return function(t,e){if(o(t)||o(e))return dr(t,pr(e));return""}(e.staticClass,e.class)}function fr(t,e){return{staticClass:dr(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function dr(t,e){return t?e?t+" "+e:t:e||""}function pr(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)o(e=pr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):c(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var vr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},hr=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),mr=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),_r=function(t){return hr(t)||mr(t)};var yr=Object.create(null);var gr=m("text,number,password,search,email,tel,url");var br=Object.freeze({__proto__:null,createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(vr[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Cr={create:function(t,e){$r(e)},update:function(t,e){t.data.ref!==e.data.ref&&($r(t,!0),$r(e))},destroy:function(t){$r(t,!0)}};function $r(t,n){var r=t.data.ref;if(o(r)){var i=t.context,a=t.componentInstance||t.elm,c=n?null:a,u=n?void 0:a;if(s(r))Qe(r,i,[c],i,"template ref function");else{var l=t.data.refInFor,f="string"==typeof r||"number"==typeof r,d=kt(r),p=i.$refs;if(f||d)if(l){var v=f?p[r]:r.value;n?e(v)&&y(v,a):e(v)?v.includes(a)||v.push(a):f?(p[r]=[a],wr(i,r,p[r])):r.value=[a]}else if(f){if(n&&p[r]!==a)return;p[r]=u,wr(i,r,c)}else if(d){if(n&&r.value!==a)return;r.value=c}else 0}}}function wr(t,e,n){var r=t._setupState;r&&b(r,e)&&(kt(r[e])?r[e].value=n:r[e]=n)}var xr=new _t("",{},[]),Or=["create","activate","update","remove","destroy"];function kr(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=o(n=t.data)&&o(n=n.attrs)&&n.type,i=o(n=e.data)&&o(n=n.attrs)&&n.type;return r===i||gr(r)&&gr(i)}(t,e)||i(t.isAsyncPlaceholder)&&r(e.asyncFactory.error))}function Sr(t,e,n){var r,i,a={};for(r=e;r<=n;++r)o(i=t[r].key)&&(a[i]=r);return a}var Tr={create:Ar,update:Ar,destroy:function(t){Ar(t,xr)}};function Ar(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,o,i=t===xr,a=e===xr,s=Er(t.data.directives,t.context),c=Er(e.data.directives,e.context),u=[],l=[];for(n in c)r=s[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,Pr(o,"update",e,t),o.def&&o.def.componentUpdated&&l.push(o)):(Pr(o,"bind",e,t),o.def&&o.def.inserted&&u.push(o));if(u.length){var f=function(){for(var n=0;n<u.length;n++)Pr(u[n],"inserted",e,t)};i?Dt(e,"insert",f):f()}l.length&&Dt(e,"postpatch",(function(){for(var n=0;n<l.length;n++)Pr(l[n],"componentUpdated",e,t)}));if(!i)for(n in s)c[n]||Pr(s[n],"unbind",t,t,a)}(t,e)}var jr=Object.create(null);function Er(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=jr),o[Ir(r)]=r,e._setupState&&e._setupState.__sfc&&(r.def=r.def||En(e,"_setupState","v-"+r.name)),r.def=r.def||En(e.$options,"directives",r.name);return o}function Ir(t){return t.rawName||"".concat(t.name,".").concat(Object.keys(t.modifiers||{}).join("."))}function Pr(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(r){Je(r,n.context,"directive ".concat(t.name," ").concat(e," hook"))}}var Dr=[Cr,Tr];function Nr(t,e){var n=e.componentOptions;if(!(o(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var a,s,c=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(a in(o(l.__ob__)||i(l._v_attr_proxy))&&(l=e.data.attrs=A({},l)),l)s=l[a],u[a]!==s&&Lr(c,a,s,e.data.pre);for(a in(X||J)&&l.value!==u.value&&Lr(c,"value",l.value),u)r(l[a])&&(sr(a)?c.removeAttributeNS(ar,cr(a)):rr(a)||c.removeAttribute(a))}}function Lr(t,e,n,r){r||t.tagName.indexOf("-")>-1?Mr(t,e,n):ir(e)?ur(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):rr(e)?t.setAttribute(e,function(t,e){return ur(e)||"false"===e?"false":"contenteditable"===t&&or(e)?e:"true"}(e,n)):sr(e)?ur(n)?t.removeAttributeNS(ar,cr(e)):t.setAttributeNS(ar,e,n):Mr(t,e,n)}function Mr(t,e,n){if(ur(n))t.removeAttribute(e);else{if(X&&!Z&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Fr={create:Nr,update:Nr};function Rr(t,e){var n=e.elm,i=e.data,a=t.data;if(!(r(i.staticClass)&&r(i.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=lr(e),c=n._transitionClasses;o(c)&&(s=dr(s,pr(c))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Vr,Ur={create:Rr,update:Rr};function Hr(t,e,n){var r=Vr;return function o(){var i=e.apply(null,arguments);null!==i&&Wr(t,o,n,r)}}var Br=nn&&!(tt&&Number(tt[1])<=53);function zr(t,e,n,r){if(Br){var o=He,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}Vr.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function Wr(t,e,n,r){(r||Vr).removeEventListener(t,e._wrapper||e,n)}function Kr(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Vr=e.elm||t.elm,function(t){if(o(t.__r)){var e=X?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}o(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),Pt(n,i,zr,Wr,Hr,e.context),Vr=void 0}}var qr,Gr={create:Kr,update:Kr,destroy:function(t){return Kr(t,xr)}};function Xr(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,a,s=e.elm,c=t.data.domProps||{},u=e.data.domProps||{};for(n in(o(u.__ob__)||i(u._v_attr_proxy))&&(u=e.data.domProps=A({},u)),c)n in u||(s[n]="");for(n in u){if(a=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),a===c[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=a;var l=r(a)?"":String(a);Zr(s,l)&&(s.value=l)}else if("innerHTML"===n&&mr(s.tagName)&&r(s.innerHTML)){(qr=qr||document.createElement("div")).innerHTML="<svg>".concat(a,"</svg>");for(var f=qr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;f.firstChild;)s.appendChild(f.firstChild)}else if(a!==c[n])try{s[n]=a}catch(t){}}}}function Zr(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(o(r)){if(r.number)return h(n)!==h(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Jr={create:Xr,update:Xr},Qr=C((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Yr(t){var e=to(t.style);return t.staticStyle?A(t.staticStyle,e):e}function to(t){return Array.isArray(t)?j(t):"string"==typeof t?Qr(t):t}var eo,no=/^--/,ro=/\s*!important$/,oo=function(t,e,n){if(no.test(e))t.style.setProperty(e,n);else if(ro.test(n))t.style.setProperty(k(e),n.replace(ro,""),"important");else{var r=ao(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},io=["Webkit","Moz","ms"],ao=C((function(t){if(eo=eo||document.createElement("div").style,"filter"!==(t=w(t))&&t in eo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<io.length;n++){var r=io[n]+e;if(r in eo)return r}}));function so(t,e){var n=e.data,i=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var a,s,c=e.elm,u=i.staticStyle,l=i.normalizedStyle||i.style||{},f=u||l,d=to(e.data.style)||{};e.data.normalizedStyle=o(d.__ob__)?A({},d):d;var p=function(t,e){var n,r={};if(e)for(var o=t;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=Yr(o.data))&&A(r,n);(n=Yr(t.data))&&A(r,n);for(var i=t;i=i.parent;)i.data&&(n=Yr(i.data))&&A(r,n);return r}(e,!0);for(s in f)r(p[s])&&oo(c,s,"");for(s in p)(a=p[s])!==f[s]&&oo(c,s,null==a?"":a)}}var co={create:so,update:so},uo=/\s+/;function lo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(uo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" ".concat(t.getAttribute("class")||""," ");n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function fo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(uo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" ".concat(t.getAttribute("class")||""," "),r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function po(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&A(e,vo(t.name||"v")),A(e,t),e}return"string"==typeof t?vo(t):void 0}}var vo=C((function(t){return{enterClass:"".concat(t,"-enter"),enterToClass:"".concat(t,"-enter-to"),enterActiveClass:"".concat(t,"-enter-active"),leaveClass:"".concat(t,"-leave"),leaveToClass:"".concat(t,"-leave-to"),leaveActiveClass:"".concat(t,"-leave-active")}})),ho=q&&!Z,mo="transition",_o="animation",yo="transition",go="transitionend",bo="animation",Co="animationend";ho&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(yo="WebkitTransition",go="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(bo="WebkitAnimation",Co="webkitAnimationEnd"));var $o=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function wo(t){$o((function(){$o(t)}))}function xo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),lo(t,e))}function Oo(t,e){t._transitionClasses&&y(t._transitionClasses,e),fo(t,e)}function ko(t,e,n){var r=To(t,e),o=r.type,i=r.timeout,a=r.propCount;if(!o)return n();var s=o===mo?go:Co,c=0,u=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++c>=a&&u()};setTimeout((function(){c<a&&u()}),i+1),t.addEventListener(s,l)}var So=/\b(transform|all)(,|$)/;function To(t,e){var n,r=window.getComputedStyle(t),o=(r[yo+"Delay"]||"").split(", "),i=(r[yo+"Duration"]||"").split(", "),a=Ao(o,i),s=(r[bo+"Delay"]||"").split(", "),c=(r[bo+"Duration"]||"").split(", "),u=Ao(s,c),l=0,f=0;return e===mo?a>0&&(n=mo,l=a,f=i.length):e===_o?u>0&&(n=_o,l=u,f=c.length):f=(n=(l=Math.max(a,u))>0?a>u?mo:_o:null)?n===mo?i.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===mo&&So.test(r[yo+"Property"])}}function Ao(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return jo(e)+jo(t[n])})))}function jo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Eo(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=po(t.data.transition);if(!r(i)&&!o(n._enterCb)&&1===n.nodeType){for(var a=i.css,u=i.type,l=i.enterClass,f=i.enterToClass,d=i.enterActiveClass,p=i.appearClass,v=i.appearToClass,m=i.appearActiveClass,_=i.beforeEnter,y=i.enter,g=i.afterEnter,b=i.enterCancelled,C=i.beforeAppear,$=i.appear,w=i.afterAppear,x=i.appearCancelled,O=i.duration,k=Ae,S=Ae.$vnode;S&&S.parent;)k=S.context,S=S.parent;var T=!k._isMounted||!t.isRootInsert;if(!T||$||""===$){var A=T&&p?p:l,j=T&&m?m:d,E=T&&v?v:f,I=T&&C||_,P=T&&s($)?$:y,D=T&&w||g,N=T&&x||b,M=h(c(O)?O.enter:O);0;var F=!1!==a&&!Z,R=Do(P),V=n._enterCb=L((function(){F&&(Oo(n,E),Oo(n,j)),V.cancelled?(F&&Oo(n,A),N&&N(n)):D&&D(n),n._enterCb=null}));t.data.show||Dt(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),P&&P(n,V)})),I&&I(n),F&&(xo(n,A),xo(n,j),wo((function(){Oo(n,A),V.cancelled||(xo(n,E),R||(Po(M)?setTimeout(V,M):ko(n,u,V)))}))),t.data.show&&(e&&e(),P&&P(n,V)),F||R||V()}}}function Io(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=po(t.data.transition);if(r(i)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var a=i.css,s=i.type,u=i.leaveClass,l=i.leaveToClass,f=i.leaveActiveClass,d=i.beforeLeave,p=i.leave,v=i.afterLeave,m=i.leaveCancelled,_=i.delayLeave,y=i.duration,g=!1!==a&&!Z,b=Do(p),C=h(c(y)?y.leave:y);0;var $=n._leaveCb=L((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),g&&(Oo(n,l),Oo(n,f)),$.cancelled?(g&&Oo(n,u),m&&m(n)):(e(),v&&v(n)),n._leaveCb=null}));_?_(w):w()}function w(){$.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),d&&d(n),g&&(xo(n,u),xo(n,f),wo((function(){Oo(n,u),$.cancelled||(xo(n,l),b||(Po(C)?setTimeout($,C):ko(n,s,$)))}))),p&&p(n,$),g||b||$())}}function Po(t){return"number"==typeof t&&!isNaN(t)}function Do(t){if(r(t))return!1;var e=t.fns;return o(e)?Do(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function No(t,e){!0!==e.data.show&&Eo(e)}var Lo=function(t){var n,s,c={},u=t.modules,l=t.nodeOps;for(n=0;n<Or.length;++n)for(c[Or[n]]=[],s=0;s<u.length;++s)o(u[s][Or[n]])&&c[Or[n]].push(u[s][Or[n]]);function f(t){var e=l.parentNode(t);o(e)&&l.removeChild(e,t)}function d(t,e,n,r,a,s,u){if(o(t.elm)&&o(s)&&(t=s[u]=bt(t)),t.isRootInsert=!a,!function(t,e,n,r){var a=t.data;if(o(a)){var s=o(t.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(t,!1),o(t.componentInstance))return p(t,e),v(n,t.elm,r),i(s)&&function(t,e,n,r){var i,a=t;for(;a.componentInstance;)if(o(i=(a=a.componentInstance._vnode).data)&&o(i=i.transition)){for(i=0;i<c.activate.length;++i)c.activate[i](xr,a);e.push(a);break}v(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var f=t.data,d=t.children,m=t.tag;o(m)?(t.elm=t.ns?l.createElementNS(t.ns,m):l.createElement(m,t),g(t),h(t,d,e),o(f)&&y(t,e),v(n,t.elm,r)):i(t.isComment)?(t.elm=l.createComment(t.text),v(n,t.elm,r)):(t.elm=l.createTextNode(t.text),v(n,t.elm,r))}}function p(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(y(t,e),g(t)):($r(t),e.push(t))}function v(t,e,n){o(t)&&(o(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function h(t,n,r){if(e(n)){0;for(var o=0;o<n.length;++o)d(n[o],r,t.elm,null,!0,n,o)}else a(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function _(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function y(t,e){for(var r=0;r<c.create.length;++r)c.create[r](xr,t);o(n=t.data.hook)&&(o(n.create)&&n.create(xr,t),o(n.insert)&&e.push(t))}function g(t){var e;if(o(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;o(e=Ae)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function b(t,e,n,r,o,i){for(;r<=o;++r)d(n[r],i,t,e,!1,n,r)}function C(t){var e,n,r=t.data;if(o(r))for(o(e=r.hook)&&o(e=e.destroy)&&e(t),e=0;e<c.destroy.length;++e)c.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function $(t,e,n){for(;e<=n;++e){var r=t[e];o(r)&&(o(r.tag)?(w(r),C(r)):f(r.elm))}}function w(t,e){if(o(e)||o(t.data)){var n,r=c.remove.length+1;for(o(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&f(t)}return n.listeners=e,n}(t.elm,r),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&w(n,e),n=0;n<c.remove.length;++n)c.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else f(t.elm)}function x(t,e,n,r){for(var i=n;i<r;i++){var a=e[i];if(o(a)&&kr(t,a))return i}}function O(t,e,n,a,s,u){if(t!==e){o(e.elm)&&o(a)&&(e=a[s]=bt(e));var f=e.elm=t.elm;if(i(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?T(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(i(e.isStatic)&&i(t.isStatic)&&e.key===t.key&&(i(e.isCloned)||i(e.isOnce)))e.componentInstance=t.componentInstance;else{var p,v=e.data;o(v)&&o(p=v.hook)&&o(p=p.prepatch)&&p(t,e);var h=t.children,m=e.children;if(o(v)&&_(e)){for(p=0;p<c.update.length;++p)c.update[p](t,e);o(p=v.hook)&&o(p=p.update)&&p(t,e)}r(e.text)?o(h)&&o(m)?h!==m&&function(t,e,n,i,a){var s,c,u,f=0,p=0,v=e.length-1,h=e[0],m=e[v],_=n.length-1,y=n[0],g=n[_],C=!a;for(;f<=v&&p<=_;)r(h)?h=e[++f]:r(m)?m=e[--v]:kr(h,y)?(O(h,y,i,n,p),h=e[++f],y=n[++p]):kr(m,g)?(O(m,g,i,n,_),m=e[--v],g=n[--_]):kr(h,g)?(O(h,g,i,n,_),C&&l.insertBefore(t,h.elm,l.nextSibling(m.elm)),h=e[++f],g=n[--_]):kr(m,y)?(O(m,y,i,n,p),C&&l.insertBefore(t,m.elm,h.elm),m=e[--v],y=n[++p]):(r(s)&&(s=Sr(e,f,v)),r(c=o(y.key)?s[y.key]:x(y,e,f,v))?d(y,i,t,h.elm,!1,n,p):kr(u=e[c],y)?(O(u,y,i,n,p),e[c]=void 0,C&&l.insertBefore(t,u.elm,h.elm)):d(y,i,t,h.elm,!1,n,p),y=n[++p]);f>v?b(t,r(n[_+1])?null:n[_+1].elm,n,p,_,i):p>_&&$(e,f,v)}(f,h,m,n,u):o(m)?(o(t.text)&&l.setTextContent(f,""),b(f,null,m,0,m.length-1,n)):o(h)?$(h,0,h.length-1):o(t.text)&&l.setTextContent(f,""):t.text!==e.text&&l.setTextContent(f,e.text),o(v)&&o(p=v.hook)&&o(p=p.postpatch)&&p(t,e)}}}function k(t,e,n){if(i(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var S=m("attrs,class,staticClass,staticStyle,key");function T(t,e,n,r){var a,s=e.tag,c=e.data,u=e.children;if(r=r||c&&c.pre,e.elm=t,i(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(c)&&(o(a=c.hook)&&o(a=a.init)&&a(e,!0),o(a=e.componentInstance)))return p(e,n),!0;if(o(s)){if(o(u))if(t.hasChildNodes())if(o(a=c)&&o(a=a.domProps)&&o(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,d=0;d<u.length;d++){if(!f||!T(f,u[d],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else h(e,u,n);if(o(c)){var v=!1;for(var m in c)if(!S(m)){v=!0,y(e,n);break}!v&&c.class&&At(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var s,u=!1,f=[];if(r(t))u=!0,d(e,f);else{var p=o(t.nodeType);if(!p&&kr(t,e))O(t,e,f,null,null,a);else{if(p){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),n=!0),i(n)&&T(t,e,f))return k(e,f,!0),t;s=t,t=new _t(l.tagName(s).toLowerCase(),{},[],void 0,s)}var v=t.elm,h=l.parentNode(v);if(d(e,f,v._leaveCb?null:h,l.nextSibling(v)),o(e.parent))for(var m=e.parent,y=_(e);m;){for(var g=0;g<c.destroy.length;++g)c.destroy[g](m);if(m.elm=e.elm,y){for(var b=0;b<c.create.length;++b)c.create[b](xr,m);var w=m.data.hook.insert;if(w.merged)for(var x=1;x<w.fns.length;x++)w.fns[x]()}else $r(m);m=m.parent}o(h)?$([t],0,0):o(t.tag)&&C(t)}}return k(e,f,u),e.elm}o(t)&&C(t)}}({nodeOps:br,modules:[Fr,Ur,Gr,Jr,co,q?{create:No,activate:No,remove:function(t,e){!0!==t.data.show?Io(t,e):e()}}:{}].concat(Dr)});Z&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&zo(t,"input")}));var Mo={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Dt(n,"postpatch",(function(){Mo.componentUpdated(t,e,n)})):Fo(t,e,n.context),t._vOptions=[].map.call(t.options,Uo)):("textarea"===n.tag||gr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Ho),t.addEventListener("compositionend",Bo),t.addEventListener("change",Bo),Z&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Fo(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,Uo);if(o.some((function(t,e){return!D(t,r[e])})))(t.multiple?e.value.some((function(t){return Vo(t,o)})):e.value!==e.oldValue&&Vo(e.value,o))&&zo(t,"change")}}};function Fo(t,e,n){Ro(t,e,n),(X||J)&&setTimeout((function(){Ro(t,e,n)}),0)}function Ro(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],o)i=N(r,Uo(a))>-1,a.selected!==i&&(a.selected=i);else if(D(Uo(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));o||(t.selectedIndex=-1)}}function Vo(t,e){return e.every((function(e){return!D(e,t)}))}function Uo(t){return"_value"in t?t._value:t.value}function Ho(t){t.target.composing=!0}function Bo(t){t.target.composing&&(t.target.composing=!1,zo(t.target,"input"))}function zo(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Wo(t){return!t.componentInstance||t.data&&t.data.transition?t:Wo(t.componentInstance._vnode)}var Ko={bind:function(t,e,n){var r=e.value,o=(n=Wo(n)).data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,Eo(n,(function(){t.style.display=i}))):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Wo(n)).data&&n.data.transition?(n.data.show=!0,r?Eo(n,(function(){t.style.display=t.__vOriginalDisplay})):Io(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}},qo={model:Mo,show:Ko},Go={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Xo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Xo(xe(e.children)):t}function Zo(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var r in o)e[w(r)]=o[r];return e}function Jo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Qo=function(t){return t.tag||Bt(t)},Yo=function(t){return"show"===t.name},ti={name:"transition",props:Go,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Qo)).length){0;var r=this.mode;0;var o=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return o;var i=Xo(o);if(!i)return o;if(this._leaving)return Jo(t,o);var s="__transition-".concat(this._uid,"-");i.key=null==i.key?i.isComment?s+"comment":s+i.tag:a(i.key)?0===String(i.key).indexOf(s)?i.key:s+i.key:i.key;var c=(i.data||(i.data={})).transition=Zo(this),u=this._vnode,l=Xo(u);if(i.data.directives&&i.data.directives.some(Yo)&&(i.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(i,l)&&!Bt(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=A({},c);if("out-in"===r)return this._leaving=!0,Dt(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Jo(t,o);if("in-out"===r){if(Bt(i))return u;var d,p=function(){d()};Dt(c,"afterEnter",p),Dt(c,"enterCancelled",p),Dt(f,"delayLeave",(function(t){d=t}))}}return o}}},ei=A({tag:String,moveClass:String},Go);delete ei.mode;var ni={props:ei,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=je(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],a=Zo(this),s=0;s<o.length;s++){if((l=o[s]).tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))i.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(r){var c=[],u=[];for(s=0;s<r.length;s++){var l;(l=r[s]).data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?c.push(l):u.push(l)}this.kept=t(e,null,c),this.removed=u}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(ri),t.forEach(oi),t.forEach(ii),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;xo(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(go,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(go,t),n._moveCb=null,Oo(n,e))})}})))},methods:{hasMove:function(t,e){if(!ho)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){fo(n,t)})),lo(n,e),n.style.display="none",this.$el.appendChild(n);var r=To(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function ri(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function oi(t){t.data.newPos=t.elm.getBoundingClientRect()}function ii(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate(".concat(r,"px,").concat(o,"px)"),i.transitionDuration="0s"}}var ai={Transition:ti,TransitionGroup:ni};qn.config.mustUseProp=function(t,e,n){return"value"===n&&nr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},qn.config.isReservedTag=_r,qn.config.isReservedAttr=er,qn.config.getTagNamespace=function(t){return mr(t)?"svg":"math"===t?"math":void 0},qn.config.isUnknownElement=function(t){if(!q)return!0;if(_r(t))return!1;if(t=t.toLowerCase(),null!=yr[t])return yr[t];var e=document.createElement(t);return t.indexOf("-")>-1?yr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:yr[t]=/HTMLUnknownElement/.test(e.toString())},A(qn.options.directives,qo),A(qn.options.components,ai),qn.prototype.__patch__=q?Lo:E,qn.prototype.$mount=function(t,e){return function(t,e,n){var r;t.$el=e,t.$options.render||(t.$options.render=yt),De(t,"beforeMount"),r=function(){t._update(t._render(),n)},new Xe(t,r,E,{before:function(){t._isMounted&&!t._isDestroyed&&De(t,"beforeUpdate")}},!0),n=!1;var o=t._preWatchers;if(o)for(var i=0;i<o.length;i++)o[i].run();return null==t.$vnode&&(t._isMounted=!0,De(t,"mounted")),t}(this,t=t&&q?function(t){if("string"==typeof t){return document.querySelector(t)||document.createElement("div")}return t}(t):void 0,e)},q&&setTimeout((function(){U.devtools&&it&&it.emit("init",qn)}),0),window.Vue=qn,qn.config.devtools=!0,n(207),n(365)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBR2dtQixRQUFRaG1CLEVBQUd5bUIsVUFBV2hZLElBaUJqQyxJQUFJNkssR0FBUXRaLEVBQUk2aEMsRUFBaUJubkMsRUFkWixDQUNqQnVkLE9BQVEsV0FDQWpZLEVBQUcrUSxhQUFlL1EsRUFBRzBPLGNBQ3JCc0MsR0FBV2hSLEVBQUksbUJBVzRCLEdBQ3ZEeU8sR0FBWSxFQUVaLElBQUlxekIsRUFBYzloQyxFQUFHK2hDLGFBQ3JCLEdBQUlELEVBQ0EsSUFBSyxJQUFJL3BDLEVBQUksRUFBR0EsRUFBSStwQyxFQUFZOXBDLE9BQVFELElBQ3BDK3BDLEVBQVkvcEMsR0FBR21nQixNQVN2QixPQUppQixNQUFibFksRUFBR3hOLFNBQ0h3TixFQUFHK1EsWUFBYSxFQUNoQkMsR0FBV2hSLEVBQUksWUFFWkEsRUF1OEtBZ2lDLENBQWU3d0MsS0FEdEJnRCxFQUFLQSxHQUFNNEosRUE1N0VmLFNBQWU1SixHQUNYLEdBQWtCLGlCQUFQQSxFQUFpQixDQUV4QixPQURlSCxTQUFTaXVDLGNBQWM5dEMsSUFHM0JILFNBQVNnMkIsY0FBYyxPQUtsQyxPQUFPNzFCLEVBazdFWSt0QyxDQUFNL3RDLFFBQU1PLEVBQ0grWixJQUloQzFRLEdBQ0FvVixZQUFXLFdBQ0hqWCxFQUFPSSxVQUNIQSxJQUNBQSxHQUFTa1osS0FBSyxPQUFRdGhCLE1BaUIvQixHQ2wrUVBlLE9BQU9mLElBQU1BLEdBQ2JBLEdBQUlnSSxPQUFPSSxVQUFXLEVBRXRCLEVBQVEsS0FDUixFQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VicGFjay1zdGFydGVyLy4vc3JjL2pzL21vZHVsZXMvdGVzdC5qcyIsIndlYnBhY2s6Ly93ZWJwYWNrLXN0YXJ0ZXIvLi9zcmMvanMvY29tcG9uZW50cy9Uc3QudnVlPzVhOTAiLCJ3ZWJwYWNrOi8vd2VicGFjay1zdGFydGVyLy4vc3JjL2pzL2NvbXBvbmVudHMvVHN0LnZ1ZSIsIndlYnBhY2s6Ly93ZWJwYWNrLXN0YXJ0ZXIvLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzIiwid2VicGFjazovL3dlYnBhY2stc3RhcnRlci9zcmMvanMvY29tcG9uZW50cy9Uc3QudnVlIiwid2VicGFjazovL3dlYnBhY2stc3RhcnRlci8uL3NyYy9qcy90c3QuanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zdGFydGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYnBhY2stc3RhcnRlci93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3dlYnBhY2stc3RhcnRlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3dlYnBhY2stc3RhcnRlci8uL25vZGVfbW9kdWxlcy92dWUvZGlzdC92dWUucnVudGltZS5lc20uanMiLCJ3ZWJwYWNrOi8vd2VicGFjay1zdGFydGVyLy4vc3JjL2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnNvbGUubG9nKDEyMzQ1Njc4OSk7IiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgdmFyIF92bSA9IHRoaXMsXG4gICAgX2MgPSBfdm0uX3NlbGYuX2NcbiAgcmV0dXJuIF9jKFwic3BhblwiLCBbX3ZtLl92KF92bS5fcyhfdm0udHh0KSldKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vVHN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02ZjJhNTExMyZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9Uc3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9Uc3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCIvKiBnbG9iYWxzIF9fVlVFX1NTUl9DT05URVhUX18gKi9cblxuLy8gSU1QT1JUQU5UOiBEbyBOT1QgdXNlIEVTMjAxNSBmZWF0dXJlcyBpbiB0aGlzIGZpbGUgKGV4Y2VwdCBmb3IgbW9kdWxlcykuXG4vLyBUaGlzIG1vZHVsZSBpcyBhIHJ1bnRpbWUgdXRpbGl0eSBmb3IgY2xlYW5lciBjb21wb25lbnQgbW9kdWxlIG91dHB1dCBhbmQgd2lsbFxuLy8gYmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIHdlYnBhY2sgdXNlciBidW5kbGUuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbXBvbmVudChcbiAgc2NyaXB0RXhwb3J0cyxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZ1bmN0aW9uYWxUZW1wbGF0ZSxcbiAgaW5qZWN0U3R5bGVzLFxuICBzY29wZUlkLFxuICBtb2R1bGVJZGVudGlmaWVyIC8qIHNlcnZlciBvbmx5ICovLFxuICBzaGFkb3dNb2RlIC8qIHZ1ZS1jbGkgb25seSAqL1xuKSB7XG4gIC8vIFZ1ZS5leHRlbmQgY29uc3RydWN0b3IgZXhwb3J0IGludGVyb3BcbiAgdmFyIG9wdGlvbnMgPVxuICAgIHR5cGVvZiBzY3JpcHRFeHBvcnRzID09PSAnZnVuY3Rpb24nID8gc2NyaXB0RXhwb3J0cy5vcHRpb25zIDogc2NyaXB0RXhwb3J0c1xuXG4gIC8vIHJlbmRlciBmdW5jdGlvbnNcbiAgaWYgKHJlbmRlcikge1xuICAgIG9wdGlvbnMucmVuZGVyID0gcmVuZGVyXG4gICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnNcbiAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWVcbiAgfVxuXG4gIC8vIGZ1bmN0aW9uYWwgdGVtcGxhdGVcbiAgaWYgKGZ1bmN0aW9uYWxUZW1wbGF0ZSkge1xuICAgIG9wdGlvbnMuZnVuY3Rpb25hbCA9IHRydWVcbiAgfVxuXG4gIC8vIHNjb3BlZElkXG4gIGlmIChzY29wZUlkKSB7XG4gICAgb3B0aW9ucy5fc2NvcGVJZCA9ICdkYXRhLXYtJyArIHNjb3BlSWRcbiAgfVxuXG4gIHZhciBob29rXG4gIGlmIChtb2R1bGVJZGVudGlmaWVyKSB7XG4gICAgLy8gc2VydmVyIGJ1aWxkXG4gICAgaG9vayA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAvLyAyLjMgaW5qZWN0aW9uXG4gICAgICBjb250ZXh0ID1cbiAgICAgICAgY29udGV4dCB8fCAvLyBjYWNoZWQgY2FsbFxuICAgICAgICAodGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dCkgfHwgLy8gc3RhdGVmdWxcbiAgICAgICAgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LiR2bm9kZSAmJiB0aGlzLnBhcmVudC4kdm5vZGUuc3NyQ29udGV4dCkgLy8gZnVuY3Rpb25hbFxuICAgICAgLy8gMi4yIHdpdGggcnVuSW5OZXdDb250ZXh0OiB0cnVlXG4gICAgICBpZiAoIWNvbnRleHQgJiYgdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnRleHQgPSBfX1ZVRV9TU1JfQ09OVEVYVF9fXG4gICAgICB9XG4gICAgICAvLyBpbmplY3QgY29tcG9uZW50IHN0eWxlc1xuICAgICAgaWYgKGluamVjdFN0eWxlcykge1xuICAgICAgICBpbmplY3RTdHlsZXMuY2FsbCh0aGlzLCBjb250ZXh0KVxuICAgICAgfVxuICAgICAgLy8gcmVnaXN0ZXIgY29tcG9uZW50IG1vZHVsZSBpZGVudGlmaWVyIGZvciBhc3luYyBjaHVuayBpbmZlcnJlbmNlXG4gICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cykge1xuICAgICAgICBjb250ZXh0Ll9yZWdpc3RlcmVkQ29tcG9uZW50cy5hZGQobW9kdWxlSWRlbnRpZmllcilcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdXNlZCBieSBzc3IgaW4gY2FzZSBjb21wb25lbnQgaXMgY2FjaGVkIGFuZCBiZWZvcmVDcmVhdGVcbiAgICAvLyBuZXZlciBnZXRzIGNhbGxlZFxuICAgIG9wdGlvbnMuX3NzclJlZ2lzdGVyID0gaG9va1xuICB9IGVsc2UgaWYgKGluamVjdFN0eWxlcykge1xuICAgIGhvb2sgPSBzaGFkb3dNb2RlXG4gICAgICA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpbmplY3RTdHlsZXMuY2FsbChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAob3B0aW9ucy5mdW5jdGlvbmFsID8gdGhpcy5wYXJlbnQgOiB0aGlzKS4kcm9vdC4kb3B0aW9ucy5zaGFkb3dSb290XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICA6IGluamVjdFN0eWxlc1xuICB9XG5cbiAgaWYgKGhvb2spIHtcbiAgICBpZiAob3B0aW9ucy5mdW5jdGlvbmFsKSB7XG4gICAgICAvLyBmb3IgdGVtcGxhdGUtb25seSBob3QtcmVsb2FkIGJlY2F1c2UgaW4gdGhhdCBjYXNlIHRoZSByZW5kZXIgZm4gZG9lc24ndFxuICAgICAgLy8gZ28gdGhyb3VnaCB0aGUgbm9ybWFsaXplclxuICAgICAgb3B0aW9ucy5faW5qZWN0U3R5bGVzID0gaG9va1xuICAgICAgLy8gcmVnaXN0ZXIgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IGluIHZ1ZSBmaWxlXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBvcHRpb25zLnJlbmRlclxuICAgICAgb3B0aW9ucy5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXJXaXRoU3R5bGVJbmplY3Rpb24oaCwgY29udGV4dCkge1xuICAgICAgICBob29rLmNhbGwoY29udGV4dClcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyKGgsIGNvbnRleHQpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluamVjdCBjb21wb25lbnQgcmVnaXN0cmF0aW9uIGFzIGJlZm9yZUNyZWF0ZSBob29rXG4gICAgICB2YXIgZXhpc3RpbmcgPSBvcHRpb25zLmJlZm9yZUNyZWF0ZVxuICAgICAgb3B0aW9ucy5iZWZvcmVDcmVhdGUgPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaG9vaykgOiBbaG9va11cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGV4cG9ydHM6IHNjcmlwdEV4cG9ydHMsXG4gICAgb3B0aW9uczogb3B0aW9uc1xuICB9XG59XG4iLCI8dGVtcGxhdGU+XHJcbiAgPHNwYW4+e3sgdHh0IH19PC9zcGFuPlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBkYXRhKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdHh0OiBcIkhlbGxvXCJcclxuICAgIH07XHJcbiAgfSxcclxuICBjcmVhdGVkKCkge1xyXG4gICAgXHJcbiAgfSxcclxuICB1cGRhdGVkKCkge1xyXG4gICAgXHJcbiAgfSxcclxuICBkZXN0cm95ZWQoKSB7XHJcbiAgICBcclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIFxyXG4gIH0sXHJcbiAgbW91bnRlZCgpIHtcclxuICAgIFxyXG4gIH0sXHJcbn07XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPjwvc3R5bGU+XHJcbiIsImltcG9ydCBUc3QgZnJvbSAnLi9jb21wb25lbnRzL1RzdC52dWUnO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgY29uc3QgdHN0ID0gbmV3IFZ1ZSh7XHJcbiAgICAgIGVsOiAnI3RzdCcsXHJcbiAgICAgIHJlbmRlcjogKGgpID0+IGgoVHN0KSxcclxuICAgICAgY29tcG9uZW50czoge1xyXG4gICAgICAgICBUc3RcclxuICAgICAgfSxcclxuICAgfSk7XHJcbn0pOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8qIVxuICogVnVlLmpzIHYyLjcuNFxuICogKGMpIDIwMTQtMjAyMiBFdmFuIFlvdVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG52YXIgZW1wdHlPYmplY3QgPSBPYmplY3QuZnJlZXplKHt9KTtcclxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xyXG4vLyBUaGVzZSBoZWxwZXJzIHByb2R1Y2UgYmV0dGVyIFZNIGNvZGUgaW4gSlMgZW5naW5lcyBkdWUgdG8gdGhlaXJcclxuLy8gZXhwbGljaXRuZXNzIGFuZCBmdW5jdGlvbiBpbmxpbmluZy5cclxuZnVuY3Rpb24gaXNVbmRlZih2KSB7XHJcbiAgICByZXR1cm4gdiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IG51bGw7XHJcbn1cclxuZnVuY3Rpb24gaXNEZWYodikge1xyXG4gICAgcmV0dXJuIHYgIT09IHVuZGVmaW5lZCAmJiB2ICE9PSBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIGlzVHJ1ZSh2KSB7XHJcbiAgICByZXR1cm4gdiA9PT0gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpc0ZhbHNlKHYpIHtcclxuICAgIHJldHVybiB2ID09PSBmYWxzZTtcclxufVxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsdWUgaXMgcHJpbWl0aXZlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcclxuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fFxyXG4gICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHxcclxuICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcclxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnIHx8XHJcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpO1xyXG59XHJcbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XHJcbn1cclxuLyoqXHJcbiAqIFF1aWNrIG9iamVjdCBjaGVjayAtIHRoaXMgaXMgcHJpbWFyaWx5IHVzZWQgdG8gdGVsbFxyXG4gKiBvYmplY3RzIGZyb20gcHJpbWl0aXZlIHZhbHVlcyB3aGVuIHdlIGtub3cgdGhlIHZhbHVlXHJcbiAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS5cclxuICovXHJcbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JztcclxufVxyXG4vKipcclxuICogR2V0IHRoZSByYXcgdHlwZSBzdHJpbmcgb2YgYSB2YWx1ZSwgZS5nLiwgW29iamVjdCBPYmplY3RdLlxyXG4gKi9cclxudmFyIF90b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XHJcbmZ1bmN0aW9uIHRvUmF3VHlwZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIF90b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSk7XHJcbn1cclxuLyoqXHJcbiAqIFN0cmljdCBvYmplY3QgdHlwZSBjaGVjay4gT25seSByZXR1cm5zIHRydWVcclxuICogZm9yIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0cy5cclxuICovXHJcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XHJcbiAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XHJcbn1cclxuZnVuY3Rpb24gaXNSZWdFeHAodikge1xyXG4gICAgcmV0dXJuIF90b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBSZWdFeHBdJztcclxufVxyXG4vKipcclxuICogQ2hlY2sgaWYgdmFsIGlzIGEgdmFsaWQgYXJyYXkgaW5kZXguXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1ZhbGlkQXJyYXlJbmRleCh2YWwpIHtcclxuICAgIHZhciBuID0gcGFyc2VGbG9hdChTdHJpbmcodmFsKSk7XHJcbiAgICByZXR1cm4gbiA+PSAwICYmIE1hdGguZmxvb3IobikgPT09IG4gJiYgaXNGaW5pdGUodmFsKTtcclxufVxyXG5mdW5jdGlvbiBpc1Byb21pc2UodmFsKSB7XHJcbiAgICByZXR1cm4gKGlzRGVmKHZhbCkgJiZcclxuICAgICAgICB0eXBlb2YgdmFsLnRoZW4gPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICB0eXBlb2YgdmFsLmNhdGNoID09PSAnZnVuY3Rpb24nKTtcclxufVxyXG4vKipcclxuICogQ29udmVydCBhIHZhbHVlIHRvIGEgc3RyaW5nIHRoYXQgaXMgYWN0dWFsbHkgcmVuZGVyZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiB0b1N0cmluZyh2YWwpIHtcclxuICAgIHJldHVybiB2YWwgPT0gbnVsbFxyXG4gICAgICAgID8gJydcclxuICAgICAgICA6IEFycmF5LmlzQXJyYXkodmFsKSB8fCAoaXNQbGFpbk9iamVjdCh2YWwpICYmIHZhbC50b1N0cmluZyA9PT0gX3RvU3RyaW5nKVxyXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHZhbCwgbnVsbCwgMilcclxuICAgICAgICAgICAgOiBTdHJpbmcodmFsKTtcclxufVxyXG4vKipcclxuICogQ29udmVydCBhbiBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuXHJcbiAqIElmIHRoZSBjb252ZXJzaW9uIGZhaWxzLCByZXR1cm4gb3JpZ2luYWwgc3RyaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gdG9OdW1iZXIodmFsKSB7XHJcbiAgICB2YXIgbiA9IHBhcnNlRmxvYXQodmFsKTtcclxuICAgIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XHJcbn1cclxuLyoqXHJcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxyXG4gKiBpcyBpbiB0aGF0IG1hcC5cclxuICovXHJcbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XHJcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHZhciBsaXN0ID0gc3RyLnNwbGl0KCcsJyk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UgPyBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsLnRvTG93ZXJDYXNlKCldOyB9IDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH07XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgdGFnIGlzIGEgYnVpbHQtaW4gdGFnLlxyXG4gKi9cclxudmFyIGlzQnVpbHRJblRhZyA9IG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50JywgdHJ1ZSk7XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUuXHJcbiAqL1xyXG52YXIgaXNSZXNlcnZlZEF0dHJpYnV0ZSA9IG1ha2VNYXAoJ2tleSxyZWYsc2xvdCxzbG90LXNjb3BlLGlzJyk7XHJcbi8qKlxyXG4gKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGFuIGFycmF5LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVtb3ZlJDIoYXJyLCBpdGVtKSB7XHJcbiAgICBpZiAoYXJyLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyB0aGUgcHJvcGVydHkuXHJcbiAqL1xyXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG5mdW5jdGlvbiBoYXNPd24ob2JqLCBrZXkpIHtcclxuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gY2FjaGVkKGZuKSB7XHJcbiAgICB2YXIgY2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNhY2hlZEZuKHN0cikge1xyXG4gICAgICAgIHZhciBoaXQgPSBjYWNoZVtzdHJdO1xyXG4gICAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENhbWVsaXplIGEgaHlwaGVuLWRlbGltaXRlZCBzdHJpbmcuXHJcbiAqL1xyXG52YXIgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcclxudmFyIGNhbWVsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCBmdW5jdGlvbiAoXywgYykgeyByZXR1cm4gKGMgPyBjLnRvVXBwZXJDYXNlKCkgOiAnJyk7IH0pO1xyXG59KTtcclxuLyoqXHJcbiAqIENhcGl0YWxpemUgYSBzdHJpbmcuXHJcbiAqL1xyXG52YXIgY2FwaXRhbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xyXG59KTtcclxuLyoqXHJcbiAqIEh5cGhlbmF0ZSBhIGNhbWVsQ2FzZSBzdHJpbmcuXHJcbiAqL1xyXG52YXIgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xyXG52YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHJldHVybiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgJy0kMScpLnRvTG93ZXJDYXNlKCk7XHJcbn0pO1xyXG4vKipcclxuICogU2ltcGxlIGJpbmQgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBzdXBwb3J0IGl0LFxyXG4gKiBlLmcuLCBQaGFudG9tSlMgMS54LiBUZWNobmljYWxseSwgd2UgZG9uJ3QgbmVlZCB0aGlzIGFueW1vcmVcclxuICogc2luY2UgbmF0aXZlIGJpbmQgaXMgbm93IHBlcmZvcm1hbnQgZW5vdWdoIGluIG1vc3QgYnJvd3NlcnMuXHJcbiAqIEJ1dCByZW1vdmluZyBpdCB3b3VsZCBtZWFuIGJyZWFraW5nIGNvZGUgdGhhdCB3YXMgYWJsZSB0byBydW4gaW5cclxuICogUGhhbnRvbUpTIDEueCwgc28gdGhpcyBtdXN0IGJlIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXHJcbiAqL1xyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5mdW5jdGlvbiBwb2x5ZmlsbEJpbmQoZm4sIGN0eCkge1xyXG4gICAgZnVuY3Rpb24gYm91bmRGbihhKSB7XHJcbiAgICAgICAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBsXHJcbiAgICAgICAgICAgID8gbCA+IDFcclxuICAgICAgICAgICAgICAgID8gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKVxyXG4gICAgICAgICAgICA6IGZuLmNhbGwoY3R4KTtcclxuICAgIH1cclxuICAgIGJvdW5kRm4uX2xlbmd0aCA9IGZuLmxlbmd0aDtcclxuICAgIHJldHVybiBib3VuZEZuO1xyXG59XHJcbmZ1bmN0aW9uIG5hdGl2ZUJpbmQoZm4sIGN0eCkge1xyXG4gICAgcmV0dXJuIGZuLmJpbmQoY3R4KTtcclxufVxyXG4vLyBAdHMtZXhwZWN0LWVycm9yIGJpbmQgY2Fubm90IGJlIGB1bmRlZmluZWRgXHJcbnZhciBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgPyBuYXRpdmVCaW5kIDogcG9seWZpbGxCaW5kO1xyXG4vKipcclxuICogQ29udmVydCBhbiBBcnJheS1saWtlIG9iamVjdCB0byBhIHJlYWwgQXJyYXkuXHJcbiAqL1xyXG5mdW5jdGlvbiB0b0FycmF5KGxpc3QsIHN0YXJ0KSB7XHJcbiAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XHJcbiAgICB2YXIgaSA9IGxpc3QubGVuZ3RoIC0gc3RhcnQ7XHJcbiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGkpO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgIHJldFtpXSA9IGxpc3RbaSArIHN0YXJ0XTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXQ7XHJcbn1cclxuLyoqXHJcbiAqIE1peCBwcm9wZXJ0aWVzIGludG8gdGFyZ2V0IG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIGV4dGVuZCh0bywgX2Zyb20pIHtcclxuICAgIGZvciAodmFyIGtleSBpbiBfZnJvbSkge1xyXG4gICAgICAgIHRvW2tleV0gPSBfZnJvbVtrZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvO1xyXG59XHJcbi8qKlxyXG4gKiBNZXJnZSBhbiBBcnJheSBvZiBPYmplY3RzIGludG8gYSBzaW5nbGUgT2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gdG9PYmplY3QoYXJyKSB7XHJcbiAgICB2YXIgcmVzID0ge307XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChhcnJbaV0pIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHJlcywgYXJyW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXHJcbi8qKlxyXG4gKiBQZXJmb3JtIG5vIG9wZXJhdGlvbi5cclxuICogU3R1YmJpbmcgYXJncyB0byBtYWtlIEZsb3cgaGFwcHkgd2l0aG91dCBsZWF2aW5nIHVzZWxlc3MgdHJhbnNwaWxlZCBjb2RlXHJcbiAqIHdpdGggLi4ucmVzdCAoaHR0cHM6Ly9mbG93Lm9yZy9ibG9nLzIwMTcvMDUvMDcvU3RyaWN0LUZ1bmN0aW9uLUNhbGwtQXJpdHkvKS5cclxuICovXHJcbmZ1bmN0aW9uIG5vb3AoYSwgYiwgYykgeyB9XHJcbi8qKlxyXG4gKiBBbHdheXMgcmV0dXJuIGZhbHNlLlxyXG4gKi9cclxudmFyIG5vID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsgcmV0dXJuIGZhbHNlOyB9O1xyXG4vKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovXHJcbi8qKlxyXG4gKiBSZXR1cm4gdGhlIHNhbWUgdmFsdWUuXHJcbiAqL1xyXG52YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfTtcclxuLyoqXHJcbiAqIENoZWNrIGlmIHR3byB2YWx1ZXMgYXJlIGxvb3NlbHkgZXF1YWwgLSB0aGF0IGlzLFxyXG4gKiBpZiB0aGV5IGFyZSBwbGFpbiBvYmplY3RzLCBkbyB0aGV5IGhhdmUgdGhlIHNhbWUgc2hhcGU/XHJcbiAqL1xyXG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgdmFyIGlzT2JqZWN0QSA9IGlzT2JqZWN0KGEpO1xyXG4gICAgdmFyIGlzT2JqZWN0QiA9IGlzT2JqZWN0KGIpO1xyXG4gICAgaWYgKGlzT2JqZWN0QSAmJiBpc09iamVjdEIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaXNBcnJheUEgPSBBcnJheS5pc0FycmF5KGEpO1xyXG4gICAgICAgICAgICB2YXIgaXNBcnJheUIgPSBBcnJheS5pc0FycmF5KGIpO1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheUEgJiYgaXNBcnJheUIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoYS5sZW5ndGggPT09IGIubGVuZ3RoICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYS5ldmVyeShmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9vc2VFcXVhbChlLCBiW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYSBpbnN0YW5jZW9mIERhdGUgJiYgYiBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzQXJyYXlBICYmICFpc0FycmF5Qikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMoYSk7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoa2V5c0EubGVuZ3RoID09PSBrZXlzQi5sZW5ndGggJiZcclxuICAgICAgICAgICAgICAgICAgICBrZXlzQS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaXNPYmplY3RBICYmICFpc09iamVjdEIpIHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgZmlyc3QgaW5kZXggYXQgd2hpY2ggYSBsb29zZWx5IGVxdWFsIHZhbHVlIGNhbiBiZVxyXG4gKiBmb3VuZCBpbiB0aGUgYXJyYXkgKGlmIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGUgYXJyYXkgbXVzdFxyXG4gKiBjb250YWluIGFuIG9iamVjdCBvZiB0aGUgc2FtZSBzaGFwZSksIG9yIC0xIGlmIGl0IGlzIG5vdCBwcmVzZW50LlxyXG4gKi9cclxuZnVuY3Rpb24gbG9vc2VJbmRleE9mKGFyciwgdmFsKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsb29zZUVxdWFsKGFycltpXSwgdmFsKSlcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbn1cclxuLyoqXHJcbiAqIEVuc3VyZSBhIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmx5IG9uY2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBvbmNlKGZuKSB7XHJcbiAgICB2YXIgY2FsbGVkID0gZmFsc2U7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghY2FsbGVkKSB7XHJcbiAgICAgICAgICAgIGNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXMjcG9seWZpbGxcclxuZnVuY3Rpb24gaGFzQ2hhbmdlZCh4LCB5KSB7XHJcbiAgICBpZiAoeCA9PT0geSkge1xyXG4gICAgICAgIHJldHVybiB4ID09PSAwICYmIDEgLyB4ICE9PSAxIC8geTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB4ID09PSB4IHx8IHkgPT09IHk7XHJcbiAgICB9XHJcbn1cblxudmFyIFNTUl9BVFRSID0gJ2RhdGEtc2VydmVyLXJlbmRlcmVkJztcclxudmFyIEFTU0VUX1RZUEVTID0gWydjb21wb25lbnQnLCAnZGlyZWN0aXZlJywgJ2ZpbHRlciddO1xyXG52YXIgTElGRUNZQ0xFX0hPT0tTID0gW1xyXG4gICAgJ2JlZm9yZUNyZWF0ZScsXHJcbiAgICAnY3JlYXRlZCcsXHJcbiAgICAnYmVmb3JlTW91bnQnLFxyXG4gICAgJ21vdW50ZWQnLFxyXG4gICAgJ2JlZm9yZVVwZGF0ZScsXHJcbiAgICAndXBkYXRlZCcsXHJcbiAgICAnYmVmb3JlRGVzdHJveScsXHJcbiAgICAnZGVzdHJveWVkJyxcclxuICAgICdhY3RpdmF0ZWQnLFxyXG4gICAgJ2RlYWN0aXZhdGVkJyxcclxuICAgICdlcnJvckNhcHR1cmVkJyxcclxuICAgICdzZXJ2ZXJQcmVmZXRjaCcsXHJcbiAgICAncmVuZGVyVHJhY2tlZCcsXHJcbiAgICAncmVuZGVyVHJpZ2dlcmVkJ1xyXG5dO1xuXG52YXIgY29uZmlnID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBPcHRpb24gbWVyZ2Ugc3RyYXRlZ2llcyAodXNlZCBpbiBjb3JlL3V0aWwvb3B0aW9ucylcclxuICAgICAqL1xyXG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IE9iamVjdC5jcmVhdGUobnVsbCksXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdG8gc3VwcHJlc3Mgd2FybmluZ3MuXHJcbiAgICAgKi9cclxuICAgIHNpbGVudDogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIFNob3cgcHJvZHVjdGlvbiBtb2RlIHRpcCBtZXNzYWdlIG9uIGJvb3Q/XHJcbiAgICAgKi9cclxuICAgIHByb2R1Y3Rpb25UaXA6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdG8gZW5hYmxlIGRldnRvb2xzXHJcbiAgICAgKi9cclxuICAgIGRldnRvb2xzOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLFxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRvIHJlY29yZCBwZXJmXHJcbiAgICAgKi9cclxuICAgIHBlcmZvcm1hbmNlOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogRXJyb3IgaGFuZGxlciBmb3Igd2F0Y2hlciBlcnJvcnNcclxuICAgICAqL1xyXG4gICAgZXJyb3JIYW5kbGVyOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBXYXJuIGhhbmRsZXIgZm9yIHdhdGNoZXIgd2FybnNcclxuICAgICAqL1xyXG4gICAgd2FybkhhbmRsZXI6IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIElnbm9yZSBjZXJ0YWluIGN1c3RvbSBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBpZ25vcmVkRWxlbWVudHM6IFtdLFxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXN0b20gdXNlciBrZXkgYWxpYXNlcyBmb3Igdi1vblxyXG4gICAgICovXHJcbiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcclxuICAgIGtleUNvZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBhIHRhZyBpcyByZXNlcnZlZCBzbyB0aGF0IGl0IGNhbm5vdCBiZSByZWdpc3RlcmVkIGFzIGFcclxuICAgICAqIGNvbXBvbmVudC4gVGhpcyBpcyBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIG1heSBiZSBvdmVyd3JpdHRlbi5cclxuICAgICAqL1xyXG4gICAgaXNSZXNlcnZlZFRhZzogbm8sXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGFuIGF0dHJpYnV0ZSBpcyByZXNlcnZlZCBzbyB0aGF0IGl0IGNhbm5vdCBiZSB1c2VkIGFzIGEgY29tcG9uZW50XHJcbiAgICAgKiBwcm9wLiBUaGlzIGlzIHBsYXRmb3JtLWRlcGVuZGVudCBhbmQgbWF5IGJlIG92ZXJ3cml0dGVuLlxyXG4gICAgICovXHJcbiAgICBpc1Jlc2VydmVkQXR0cjogbm8sXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgdGFnIGlzIGFuIHVua25vd24gZWxlbWVudC5cclxuICAgICAqIFBsYXRmb3JtLWRlcGVuZGVudC5cclxuICAgICAqL1xyXG4gICAgaXNVbmtub3duRWxlbWVudDogbm8sXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbmFtZXNwYWNlIG9mIGFuIGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgZ2V0VGFnTmFtZXNwYWNlOiBub29wLFxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSB0aGUgcmVhbCB0YWcgbmFtZSBmb3IgdGhlIHNwZWNpZmljIHBsYXRmb3JtLlxyXG4gICAgICovXHJcbiAgICBwYXJzZVBsYXRmb3JtVGFnTmFtZTogaWRlbnRpdHksXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGFuIGF0dHJpYnV0ZSBtdXN0IGJlIGJvdW5kIHVzaW5nIHByb3BlcnR5LCBlLmcuIHZhbHVlXHJcbiAgICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXHJcbiAgICAgKi9cclxuICAgIG11c3RVc2VQcm9wOiBubyxcclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSB1cGRhdGVzIGFzeW5jaHJvbm91c2x5LiBJbnRlbmRlZCB0byBiZSB1c2VkIGJ5IFZ1ZSBUZXN0IFV0aWxzXHJcbiAgICAgKiBUaGlzIHdpbGwgc2lnbmlmaWNhbnRseSByZWR1Y2UgcGVyZm9ybWFuY2UgaWYgc2V0IHRvIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBhc3luYzogdHJ1ZSxcclxuICAgIC8qKlxyXG4gICAgICogRXhwb3NlZCBmb3IgbGVnYWN5IHJlYXNvbnNcclxuICAgICAqL1xyXG4gICAgX2xpZmVjeWNsZUhvb2tzOiBMSUZFQ1lDTEVfSE9PS1NcclxufTtcblxuLyoqXHJcbiAqIHVuaWNvZGUgbGV0dGVycyB1c2VkIGZvciBwYXJzaW5nIGh0bWwgdGFncywgY29tcG9uZW50IG5hbWVzIGFuZCBwcm9wZXJ0eSBwYXRocy5cclxuICogdXNpbmcgaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1My9zZW1hbnRpY3Mtc2NyaXB0aW5nLmh0bWwjcG90ZW50aWFsY3VzdG9tZWxlbWVudG5hbWVcclxuICogc2tpcHBpbmcgXFx1MTAwMDAtXFx1RUZGRkYgZHVlIHRvIGl0IGZyZWV6aW5nIHVwIFBoYW50b21KU1xyXG4gKi9cclxudmFyIHVuaWNvZGVSZWdFeHAgPSAvYS16QS1aXFx1MDBCN1xcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwM0YtXFx1MjA0MFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRC87XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhIHN0cmluZyBzdGFydHMgd2l0aCAkIG9yIF9cclxuICovXHJcbmZ1bmN0aW9uIGlzUmVzZXJ2ZWQoc3RyKSB7XHJcbiAgICB2YXIgYyA9IChzdHIgKyAnJykuY2hhckNvZGVBdCgwKTtcclxuICAgIHJldHVybiBjID09PSAweDI0IHx8IGMgPT09IDB4NWY7XHJcbn1cclxuLyoqXHJcbiAqIERlZmluZSBhIHByb3BlcnR5LlxyXG4gKi9cclxuZnVuY3Rpb24gZGVmKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xyXG4gICAgICAgIHZhbHVlOiB2YWwsXHJcbiAgICAgICAgZW51bWVyYWJsZTogISFlbnVtZXJhYmxlLFxyXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFBhcnNlIHNpbXBsZSBwYXRoLlxyXG4gKi9cclxudmFyIGJhaWxSRSA9IG5ldyBSZWdFeHAoXCJbXlwiLmNvbmNhdCh1bmljb2RlUmVnRXhwLnNvdXJjZSwgXCIuJF9cXFxcZF1cIikpO1xyXG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xyXG4gICAgaWYgKGJhaWxSRS50ZXN0KHBhdGgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghb2JqKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBvYmogPSBvYmpbc2VnbWVudHNbaV1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfTtcclxufVxuXG4vLyBjYW4gd2UgdXNlIF9fcHJvdG9fXz9cclxudmFyIGhhc1Byb3RvID0gJ19fcHJvdG9fXycgaW4ge307XHJcbi8vIEJyb3dzZXIgZW52aXJvbm1lbnQgc25pZmZpbmdcclxudmFyIGluQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xyXG52YXIgVUEgPSBpbkJyb3dzZXIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcclxudmFyIGlzSUUgPSBVQSAmJiAvbXNpZXx0cmlkZW50Ly50ZXN0KFVBKTtcclxudmFyIGlzSUU5ID0gVUEgJiYgVUEuaW5kZXhPZignbXNpZSA5LjAnKSA+IDA7XHJcbnZhciBpc0VkZ2UgPSBVQSAmJiBVQS5pbmRleE9mKCdlZGdlLycpID4gMDtcclxuVUEgJiYgVUEuaW5kZXhPZignYW5kcm9pZCcpID4gMDtcclxudmFyIGlzSU9TID0gVUEgJiYgL2lwaG9uZXxpcGFkfGlwb2R8aW9zLy50ZXN0KFVBKTtcclxuVUEgJiYgL2Nocm9tZVxcL1xcZCsvLnRlc3QoVUEpICYmICFpc0VkZ2U7XHJcblVBICYmIC9waGFudG9tanMvLnRlc3QoVUEpO1xyXG52YXIgaXNGRiA9IFVBICYmIFVBLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLyk7XHJcbi8vIEZpcmVmb3ggaGFzIGEgXCJ3YXRjaFwiIGZ1bmN0aW9uIG9uIE9iamVjdC5wcm90b3R5cGUuLi5cclxuLy8gQHRzLWV4cGVjdC1lcnJvciBmaXJlYm94IHN1cHBvcnRcclxudmFyIG5hdGl2ZVdhdGNoID0ge30ud2F0Y2g7XHJcbnZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcclxuaWYgKGluQnJvd3Nlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgb3B0cyA9IHt9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcHRzLCAncGFzc2l2ZScsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvMjg1XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QtcGFzc2l2ZScsIG51bGwsIG9wdHMpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHsgfVxyXG59XHJcbi8vIHRoaXMgbmVlZHMgdG8gYmUgbGF6eS1ldmFsZWQgYmVjYXVzZSB2dWUgbWF5IGJlIHJlcXVpcmVkIGJlZm9yZVxyXG4vLyB2dWUtc2VydmVyLXJlbmRlcmVyIGNhbiBzZXQgVlVFX0VOVlxyXG52YXIgX2lzU2VydmVyO1xyXG52YXIgaXNTZXJ2ZXJSZW5kZXJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoX2lzU2VydmVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAoIWluQnJvd3NlciAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvLyBkZXRlY3QgcHJlc2VuY2Ugb2YgdnVlLXNlcnZlci1yZW5kZXJlciBhbmQgYXZvaWRcclxuICAgICAgICAgICAgLy8gV2VicGFjayBzaGltbWluZyB0aGUgcHJvY2Vzc1xyXG4gICAgICAgICAgICBfaXNTZXJ2ZXIgPVxyXG4gICAgICAgICAgICAgICAgZ2xvYmFsWydwcm9jZXNzJ10gJiYgZ2xvYmFsWydwcm9jZXNzJ10uZW52LlZVRV9FTlYgPT09ICdzZXJ2ZXInO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgX2lzU2VydmVyID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9pc1NlcnZlcjtcclxufTtcclxuLy8gZGV0ZWN0IGRldnRvb2xzXHJcbnZhciBkZXZ0b29scyA9IGluQnJvd3NlciAmJiB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuZnVuY3Rpb24gaXNOYXRpdmUoQ3Rvcikge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBDdG9yID09PSAnZnVuY3Rpb24nICYmIC9uYXRpdmUgY29kZS8udGVzdChDdG9yLnRvU3RyaW5nKCkpO1xyXG59XHJcbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgaXNOYXRpdmUoU3ltYm9sKSAmJlxyXG4gICAgdHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICBpc05hdGl2ZShSZWZsZWN0Lm93bktleXMpO1xyXG52YXIgX1NldDsgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLyBpZiAodHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU2V0KSkge1xyXG4gICAgLy8gdXNlIG5hdGl2ZSBTZXQgd2hlbiBhdmFpbGFibGUuXHJcbiAgICBfU2V0ID0gU2V0O1xyXG59XHJcbmVsc2Uge1xyXG4gICAgLy8gYSBub24tc3RhbmRhcmQgU2V0IHBvbHlmaWxsIHRoYXQgb25seSB3b3JrcyB3aXRoIHByaW1pdGl2ZSBrZXlzLlxyXG4gICAgX1NldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBTZXQoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFtrZXldID09PSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0W2tleV0gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFNldDtcclxuICAgIH0oKSk7XHJcbn1cblxudmFyIGN1cnJlbnRJbnN0YW5jZSA9IG51bGw7XHJcbi8qKlxyXG4gKiBUaGlzIGlzIGV4cG9zZWQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB2MyAoZS5nLiBzb21lIGZ1bmN0aW9ucyBpbiBWdWVVc2VcclxuICogcmVsaWVzIG9uIGl0KS4gRG8gbm90IHVzZSB0aGlzIGludGVybmFsbHksIGp1c3QgdXNlIGBjdXJyZW50SW5zdGFuY2VgLlxyXG4gKlxyXG4gKiBAaW50ZXJuYWwgdGhpcyBmdW5jdGlvbiBuZWVkcyBtYW51YWwgdHlwZSBkZWNsYXJhdGlvbiBiZWNhdXNlIGl0IHJlbGllc1xyXG4gKiBvbiBwcmV2aW91c2x5IG1hbnVhbGx5IGF1dGhvcmVkIHR5cGVzIGZyb20gVnVlIDJcclxuICovXHJcbmZ1bmN0aW9uIGdldEN1cnJlbnRJbnN0YW5jZSgpIHtcclxuICAgIHJldHVybiBjdXJyZW50SW5zdGFuY2UgJiYgeyBwcm94eTogY3VycmVudEluc3RhbmNlIH07XHJcbn1cclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q3VycmVudEluc3RhbmNlKHZtKSB7XHJcbiAgICBpZiAodm0gPT09IHZvaWQgMCkgeyB2bSA9IG51bGw7IH1cclxuICAgIGlmICghdm0pXHJcbiAgICAgICAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5fc2NvcGUub2ZmKCk7XHJcbiAgICBjdXJyZW50SW5zdGFuY2UgPSB2bTtcclxuICAgIHZtICYmIHZtLl9zY29wZS5vbigpO1xyXG59XG5cbnZhciB3YXJuID0gbm9vcDtcclxudmFyIHRpcCA9IG5vb3A7XHJcbnZhciBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlOyAvLyB3b3JrIGFyb3VuZCBmbG93IGNoZWNrXHJcbnZhciBmb3JtYXRDb21wb25lbnROYW1lO1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgdmFyIGhhc0NvbnNvbGVfMSA9IHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJztcclxuICAgIHZhciBjbGFzc2lmeVJFXzEgPSAvKD86XnxbLV9dKShcXHcpL2c7XHJcbiAgICB2YXIgY2xhc3NpZnlfMSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRV8xLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50b1VwcGVyQ2FzZSgpOyB9KS5yZXBsYWNlKC9bLV9dL2csICcnKTtcclxuICAgIH07XHJcbiAgICB3YXJuID0gZnVuY3Rpb24gKG1zZywgdm0pIHtcclxuICAgICAgICBpZiAodm0gPT09IHZvaWQgMCkgeyB2bSA9IGN1cnJlbnRJbnN0YW5jZTsgfVxyXG4gICAgICAgIHZhciB0cmFjZSA9IHZtID8gZ2VuZXJhdGVDb21wb25lbnRUcmFjZSh2bSkgOiAnJztcclxuICAgICAgICBpZiAoY29uZmlnLndhcm5IYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZy53YXJuSGFuZGxlci5jYWxsKG51bGwsIG1zZywgdm0sIHRyYWNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGFzQ29uc29sZV8xICYmICFjb25maWcuc2lsZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbVnVlIHdhcm5dOiBcIi5jb25jYXQobXNnKS5jb25jYXQodHJhY2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGlwID0gZnVuY3Rpb24gKG1zZywgdm0pIHtcclxuICAgICAgICBpZiAoaGFzQ29uc29sZV8xICYmICFjb25maWcuc2lsZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltWdWUgdGlwXTogXCIuY29uY2F0KG1zZykgKyAodm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZvcm1hdENvbXBvbmVudE5hbWUgPSBmdW5jdGlvbiAodm0sIGluY2x1ZGVGaWxlKSB7XHJcbiAgICAgICAgaWYgKHZtLiRyb290ID09PSB2bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxSb290Pic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvcHRpb25zID0gaXNGdW5jdGlvbih2bSkgJiYgdm0uY2lkICE9IG51bGxcclxuICAgICAgICAgICAgPyB2bS5vcHRpb25zXHJcbiAgICAgICAgICAgIDogdm0uX2lzVnVlXHJcbiAgICAgICAgICAgICAgICA/IHZtLiRvcHRpb25zIHx8IHZtLmNvbnN0cnVjdG9yLm9wdGlvbnNcclxuICAgICAgICAgICAgICAgIDogdm07XHJcbiAgICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLm5hbWUgfHwgb3B0aW9ucy5fY29tcG9uZW50VGFnO1xyXG4gICAgICAgIHZhciBmaWxlID0gb3B0aW9ucy5fX2ZpbGU7XHJcbiAgICAgICAgaWYgKCFuYW1lICYmIGZpbGUpIHtcclxuICAgICAgICAgICAgdmFyIG1hdGNoID0gZmlsZS5tYXRjaCgvKFteL1xcXFxdKylcXC52dWUkLyk7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgobmFtZSA/IFwiPFwiLmNvbmNhdChjbGFzc2lmeV8xKG5hbWUpLCBcIj5cIikgOiBcIjxBbm9ueW1vdXM+XCIpICtcclxuICAgICAgICAgICAgKGZpbGUgJiYgaW5jbHVkZUZpbGUgIT09IGZhbHNlID8gXCIgYXQgXCIuY29uY2F0KGZpbGUpIDogJycpKTtcclxuICAgIH07XHJcbiAgICB2YXIgcmVwZWF0XzEgPSBmdW5jdGlvbiAoc3RyLCBuKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9ICcnO1xyXG4gICAgICAgIHdoaWxlIChuKSB7XHJcbiAgICAgICAgICAgIGlmIChuICUgMiA9PT0gMSlcclxuICAgICAgICAgICAgICAgIHJlcyArPSBzdHI7XHJcbiAgICAgICAgICAgIGlmIChuID4gMSlcclxuICAgICAgICAgICAgICAgIHN0ciArPSBzdHI7XHJcbiAgICAgICAgICAgIG4gPj49IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9O1xyXG4gICAgZ2VuZXJhdGVDb21wb25lbnRUcmFjZSA9IGZ1bmN0aW9uICh2bSkge1xyXG4gICAgICAgIGlmICh2bS5faXNWdWUgJiYgdm0uJHBhcmVudCkge1xyXG4gICAgICAgICAgICB2YXIgdHJlZSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKHZtKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHJlZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3QgPSB0cmVlW3RyZWUubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3QuY29uc3RydWN0b3IgPT09IHZtLmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bSA9IHZtLiRwYXJlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVbdHJlZS5sZW5ndGggLSAxXSA9IFtsYXN0LCBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRyZWUucHVzaCh2bSk7XHJcbiAgICAgICAgICAgICAgICB2bSA9IHZtLiRwYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICgnXFxuXFxuZm91bmQgaW5cXG5cXG4nICtcclxuICAgICAgICAgICAgICAgIHRyZWVcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2bSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChpID09PSAwID8gJy0tLT4gJyA6IHJlcGVhdF8xKCcgJywgNSArIGkgKiAyKSkuY29uY2F0KGlzQXJyYXkodm0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJcIi5jb25jYXQoZm9ybWF0Q29tcG9uZW50TmFtZSh2bVswXSksIFwiLi4uIChcIikuY29uY2F0KHZtWzFdLCBcIiByZWN1cnNpdmUgY2FsbHMpXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignXFxuJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuXFxuKGZvdW5kIGluIFwiLmNvbmNhdChmb3JtYXRDb21wb25lbnROYW1lKHZtKSwgXCIpXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG52YXIgdWlkJDIgPSAwO1xyXG4vKipcclxuICogQSBkZXAgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBoYXZlIG11bHRpcGxlXHJcbiAqIGRpcmVjdGl2ZXMgc3Vic2NyaWJpbmcgdG8gaXQuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxudmFyIERlcCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERlcCgpIHtcclxuICAgICAgICB0aGlzLmlkID0gdWlkJDIrKztcclxuICAgICAgICB0aGlzLnN1YnMgPSBbXTtcclxuICAgIH1cclxuICAgIERlcC5wcm90b3R5cGUuYWRkU3ViID0gZnVuY3Rpb24gKHN1Yikge1xyXG4gICAgICAgIHRoaXMuc3Vicy5wdXNoKHN1Yik7XHJcbiAgICB9O1xyXG4gICAgRGVwLnByb3RvdHlwZS5yZW1vdmVTdWIgPSBmdW5jdGlvbiAoc3ViKSB7XHJcbiAgICAgICAgcmVtb3ZlJDIodGhpcy5zdWJzLCBzdWIpO1xyXG4gICAgfTtcclxuICAgIERlcC5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gKGluZm8pIHtcclxuICAgICAgICBpZiAoRGVwLnRhcmdldCkge1xyXG4gICAgICAgICAgICBEZXAudGFyZ2V0LmFkZERlcCh0aGlzKTtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaW5mbyAmJiBEZXAudGFyZ2V0Lm9uVHJhY2spIHtcclxuICAgICAgICAgICAgICAgIERlcC50YXJnZXQub25UcmFjayhfX2Fzc2lnbih7IGVmZmVjdDogRGVwLnRhcmdldCB9LCBpbmZvKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgRGVwLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoaW5mbykge1xyXG4gICAgICAgIC8vIHN0YWJpbGl6ZSB0aGUgc3Vic2NyaWJlciBsaXN0IGZpcnN0XHJcbiAgICAgICAgdmFyIHN1YnMgPSB0aGlzLnN1YnMuc2xpY2UoKTtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY29uZmlnLmFzeW5jKSB7XHJcbiAgICAgICAgICAgIC8vIHN1YnMgYXJlbid0IHNvcnRlZCBpbiBzY2hlZHVsZXIgaWYgbm90IHJ1bm5pbmcgYXN5bmNcclxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBzb3J0IHRoZW0gbm93IHRvIG1ha2Ugc3VyZSB0aGV5IGZpcmUgaW4gY29ycmVjdFxyXG4gICAgICAgICAgICAvLyBvcmRlclxyXG4gICAgICAgICAgICBzdWJzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuaWQgLSBiLmlkOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdWJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBpbmZvKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gc3Vic1tpXTtcclxuICAgICAgICAgICAgICAgIHN1Yi5vblRyaWdnZXIgJiZcclxuICAgICAgICAgICAgICAgICAgICBzdWIub25UcmlnZ2VyKF9fYXNzaWduKHsgZWZmZWN0OiBzdWJzW2ldIH0sIGluZm8pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdWJzW2ldLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRGVwO1xyXG59KCkpO1xyXG4vLyBUaGUgY3VycmVudCB0YXJnZXQgd2F0Y2hlciBiZWluZyBldmFsdWF0ZWQuXHJcbi8vIFRoaXMgaXMgZ2xvYmFsbHkgdW5pcXVlIGJlY2F1c2Ugb25seSBvbmUgd2F0Y2hlclxyXG4vLyBjYW4gYmUgZXZhbHVhdGVkIGF0IGEgdGltZS5cclxuRGVwLnRhcmdldCA9IG51bGw7XHJcbnZhciB0YXJnZXRTdGFjayA9IFtdO1xyXG5mdW5jdGlvbiBwdXNoVGFyZ2V0KHRhcmdldCkge1xyXG4gICAgdGFyZ2V0U3RhY2sucHVzaCh0YXJnZXQpO1xyXG4gICAgRGVwLnRhcmdldCA9IHRhcmdldDtcclxufVxyXG5mdW5jdGlvbiBwb3BUYXJnZXQoKSB7XHJcbiAgICB0YXJnZXRTdGFjay5wb3AoKTtcclxuICAgIERlcC50YXJnZXQgPSB0YXJnZXRTdGFja1t0YXJnZXRTdGFjay5sZW5ndGggLSAxXTtcclxufVxuXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgVk5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBWTm9kZSh0YWcsIGRhdGEsIGNoaWxkcmVuLCB0ZXh0LCBlbG0sIGNvbnRleHQsIGNvbXBvbmVudE9wdGlvbnMsIGFzeW5jRmFjdG9yeSkge1xyXG4gICAgICAgIHRoaXMudGFnID0gdGFnO1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5lbG0gPSBlbG07XHJcbiAgICAgICAgdGhpcy5ucyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMuZm5Db250ZXh0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZm5PcHRpb25zID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZm5TY29wZUlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMua2V5ID0gZGF0YSAmJiBkYXRhLmtleTtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50SW5zdGFuY2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5yYXcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzU3RhdGljID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc1Jvb3RJbnNlcnQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc0Nsb25lZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNPbmNlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hc3luY0ZhY3RvcnkgPSBhc3luY0ZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5hc3luY01ldGEgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5pc0FzeW5jUGxhY2Vob2xkZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWTm9kZS5wcm90b3R5cGUsIFwiY2hpbGRcIiwge1xyXG4gICAgICAgIC8vIERFUFJFQ0FURUQ6IGFsaWFzIGZvciBjb21wb25lbnRJbnN0YW5jZSBmb3IgYmFja3dhcmRzIGNvbXBhdC5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnRJbnN0YW5jZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gVk5vZGU7XHJcbn0oKSk7XHJcbnZhciBjcmVhdGVFbXB0eVZOb2RlID0gZnVuY3Rpb24gKHRleHQpIHtcclxuICAgIGlmICh0ZXh0ID09PSB2b2lkIDApIHsgdGV4dCA9ICcnOyB9XHJcbiAgICB2YXIgbm9kZSA9IG5ldyBWTm9kZSgpO1xyXG4gICAgbm9kZS50ZXh0ID0gdGV4dDtcclxuICAgIG5vZGUuaXNDb21tZW50ID0gdHJ1ZTtcclxuICAgIHJldHVybiBub2RlO1xyXG59O1xyXG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUodmFsKSB7XHJcbiAgICByZXR1cm4gbmV3IFZOb2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFN0cmluZyh2YWwpKTtcclxufVxyXG4vLyBvcHRpbWl6ZWQgc2hhbGxvdyBjbG9uZVxyXG4vLyB1c2VkIGZvciBzdGF0aWMgbm9kZXMgYW5kIHNsb3Qgbm9kZXMgYmVjYXVzZSB0aGV5IG1heSBiZSByZXVzZWQgYWNyb3NzXHJcbi8vIG11bHRpcGxlIHJlbmRlcnMsIGNsb25pbmcgdGhlbSBhdm9pZHMgZXJyb3JzIHdoZW4gRE9NIG1hbmlwdWxhdGlvbnMgcmVseVxyXG4vLyBvbiB0aGVpciBlbG0gcmVmZXJlbmNlLlxyXG5mdW5jdGlvbiBjbG9uZVZOb2RlKHZub2RlKSB7XHJcbiAgICB2YXIgY2xvbmVkID0gbmV3IFZOb2RlKHZub2RlLnRhZywgdm5vZGUuZGF0YSwgXHJcbiAgICAvLyAjNzk3NVxyXG4gICAgLy8gY2xvbmUgY2hpbGRyZW4gYXJyYXkgdG8gYXZvaWQgbXV0YXRpbmcgb3JpZ2luYWwgaW4gY2FzZSBvZiBjbG9uaW5nXHJcbiAgICAvLyBhIGNoaWxkLlxyXG4gICAgdm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4uc2xpY2UoKSwgdm5vZGUudGV4dCwgdm5vZGUuZWxtLCB2bm9kZS5jb250ZXh0LCB2bm9kZS5jb21wb25lbnRPcHRpb25zLCB2bm9kZS5hc3luY0ZhY3RvcnkpO1xyXG4gICAgY2xvbmVkLm5zID0gdm5vZGUubnM7XHJcbiAgICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYztcclxuICAgIGNsb25lZC5rZXkgPSB2bm9kZS5rZXk7XHJcbiAgICBjbG9uZWQuaXNDb21tZW50ID0gdm5vZGUuaXNDb21tZW50O1xyXG4gICAgY2xvbmVkLmZuQ29udGV4dCA9IHZub2RlLmZuQ29udGV4dDtcclxuICAgIGNsb25lZC5mbk9wdGlvbnMgPSB2bm9kZS5mbk9wdGlvbnM7XHJcbiAgICBjbG9uZWQuZm5TY29wZUlkID0gdm5vZGUuZm5TY29wZUlkO1xyXG4gICAgY2xvbmVkLmFzeW5jTWV0YSA9IHZub2RlLmFzeW5jTWV0YTtcclxuICAgIGNsb25lZC5pc0Nsb25lZCA9IHRydWU7XHJcbiAgICByZXR1cm4gY2xvbmVkO1xyXG59XG5cbi8qXHJcbiAqIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aFxyXG4gKiBkeW5hbWljYWxseSBhY2Nlc3NpbmcgbWV0aG9kcyBvbiBBcnJheSBwcm90b3R5cGVcclxuICovXHJcbnZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlO1xyXG52YXIgYXJyYXlNZXRob2RzID0gT2JqZWN0LmNyZWF0ZShhcnJheVByb3RvKTtcclxudmFyIG1ldGhvZHNUb1BhdGNoID0gW1xyXG4gICAgJ3B1c2gnLFxyXG4gICAgJ3BvcCcsXHJcbiAgICAnc2hpZnQnLFxyXG4gICAgJ3Vuc2hpZnQnLFxyXG4gICAgJ3NwbGljZScsXHJcbiAgICAnc29ydCcsXHJcbiAgICAncmV2ZXJzZSdcclxuXTtcclxuLyoqXHJcbiAqIEludGVyY2VwdCBtdXRhdGluZyBtZXRob2RzIGFuZCBlbWl0IGV2ZW50c1xyXG4gKi9cclxubWV0aG9kc1RvUGF0Y2guZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7XHJcbiAgICAvLyBjYWNoZSBvcmlnaW5hbCBtZXRob2RcclxuICAgIHZhciBvcmlnaW5hbCA9IGFycmF5UHJvdG9bbWV0aG9kXTtcclxuICAgIGRlZihhcnJheU1ldGhvZHMsIG1ldGhvZCwgZnVuY3Rpb24gbXV0YXRvcigpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xyXG4gICAgICAgIHZhciBvYiA9IHRoaXMuX19vYl9fO1xyXG4gICAgICAgIHZhciBpbnNlcnRlZDtcclxuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xyXG4gICAgICAgICAgICBjYXNlICdwdXNoJzpcclxuICAgICAgICAgICAgY2FzZSAndW5zaGlmdCc6XHJcbiAgICAgICAgICAgICAgICBpbnNlcnRlZCA9IGFyZ3M7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnc3BsaWNlJzpcclxuICAgICAgICAgICAgICAgIGluc2VydGVkID0gYXJncy5zbGljZSgyKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW5zZXJ0ZWQpXHJcbiAgICAgICAgICAgIG9iLm9ic2VydmVBcnJheShpbnNlcnRlZCk7XHJcbiAgICAgICAgLy8gbm90aWZ5IGNoYW5nZVxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9iLmRlcC5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheSBtdXRhdGlvblwiIC8qIFRyaWdnZXJPcFR5cGVzLkFSUkFZX01VVEFUSU9OICovLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAga2V5OiBtZXRob2RcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvYi5kZXAubm90aWZ5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9KTtcclxufSk7XG5cbmZ1bmN0aW9uIHJlYWN0aXZlKHRhcmdldCkge1xyXG4gICAgbWFrZVJlYWN0aXZlKHRhcmdldCwgZmFsc2UpO1xyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG4vKipcclxuICogUmV0dXJuIGEgc2hhbGxvd2x5LXJlYWN0aXZlIGNvcHkgb2YgdGhlIG9yaWdpbmFsIG9iamVjdCwgd2hlcmUgb25seSB0aGUgcm9vdFxyXG4gKiBsZXZlbCBwcm9wZXJ0aWVzIGFyZSByZWFjdGl2ZS4gSXQgYWxzbyBkb2VzIG5vdCBhdXRvLXVud3JhcCByZWZzIChldmVuIGF0IHRoZVxyXG4gKiByb290IGxldmVsKS5cclxuICovXHJcbmZ1bmN0aW9uIHNoYWxsb3dSZWFjdGl2ZSh0YXJnZXQpIHtcclxuICAgIG1ha2VSZWFjdGl2ZSh0YXJnZXQsIHRydWUpO1xyXG4gICAgZGVmKHRhcmdldCwgXCJfX3ZfaXNTaGFsbG93XCIgLyogUmVhY3RpdmVGbGFncy5JU19TSEFMTE9XICovLCB0cnVlKTtcclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gbWFrZVJlYWN0aXZlKHRhcmdldCwgc2hhbGxvdykge1xyXG4gICAgLy8gaWYgdHJ5aW5nIHRvIG9ic2VydmUgYSByZWFkb25seSBwcm94eSwgcmV0dXJuIHRoZSByZWFkb25seSB2ZXJzaW9uLlxyXG4gICAgaWYgKCFpc1JlYWRvbmx5KHRhcmdldCkpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiQXZvaWQgdXNpbmcgQXJyYXkgYXMgcm9vdCB2YWx1ZSBmb3IgXCIuY29uY2F0KHNoYWxsb3cgPyBcInNoYWxsb3dSZWFjdGl2ZSgpXCIgOiBcInJlYWN0aXZlKClcIiwgXCIgYXMgaXQgY2Fubm90IGJlIHRyYWNrZWQgaW4gd2F0Y2goKSBvciB3YXRjaEVmZmVjdCgpLiBVc2UgXCIpLmNvbmNhdChzaGFsbG93ID8gXCJzaGFsbG93UmVmKClcIiA6IFwicmVmKClcIiwgXCIgaW5zdGVhZC4gVGhpcyBpcyBhIFZ1ZS0yLW9ubHkgbGltaXRhdGlvbi5cIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBleGlzdGluZ09iID0gdGFyZ2V0ICYmIHRhcmdldC5fX29iX187XHJcbiAgICAgICAgICAgIGlmIChleGlzdGluZ09iICYmIGV4aXN0aW5nT2Iuc2hhbGxvdyAhPT0gc2hhbGxvdykge1xyXG4gICAgICAgICAgICAgICAgd2FybihcIlRhcmdldCBpcyBhbHJlYWR5IGEgXCIuY29uY2F0KGV4aXN0aW5nT2Iuc2hhbGxvdyA/IFwiXCIgOiBcIm5vbi1cIiwgXCJzaGFsbG93IHJlYWN0aXZlIG9iamVjdCwgYW5kIGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gXCIpLmNvbmNhdChzaGFsbG93ID8gXCJcIiA6IFwibm9uLVwiLCBcInNoYWxsb3cuXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2IgPSBvYnNlcnZlKHRhcmdldCwgc2hhbGxvdywgaXNTZXJ2ZXJSZW5kZXJpbmcoKSAvKiBzc3IgbW9jayByZWFjdGl2aXR5ICovKTtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhb2IpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsIHx8IGlzUHJpbWl0aXZlKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oXCJ2YWx1ZSBjYW5ub3QgYmUgbWFkZSByZWFjdGl2ZTogXCIuY29uY2F0KFN0cmluZyh0YXJnZXQpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ29sbGVjdGlvblR5cGUodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihcIlZ1ZSAyIGRvZXMgbm90IHN1cHBvcnQgcmVhY3RpdmUgY29sbGVjdGlvbiB0eXBlcyBzdWNoIGFzIE1hcCBvciBTZXQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcclxuICAgIGlmIChpc1JlYWRvbmx5KHZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlW1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19vYl9fKTtcclxufVxyXG5mdW5jdGlvbiBpc1NoYWxsb3codmFsdWUpIHtcclxuICAgIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX3ZfaXNTaGFsbG93KTtcclxufVxyXG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX192X2lzUmVhZG9ubHkpO1xyXG59XHJcbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcclxuICAgIHJldHVybiBpc1JlYWN0aXZlKHZhbHVlKSB8fCBpc1JlYWRvbmx5KHZhbHVlKTtcclxufVxyXG5mdW5jdGlvbiB0b1JhdyhvYnNlcnZlZCkge1xyXG4gICAgdmFyIHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiIC8qIFJlYWN0aXZlRmxhZ3MuUkFXICovXTtcclxuICAgIHJldHVybiByYXcgPyB0b1JhdyhyYXcpIDogb2JzZXJ2ZWQ7XHJcbn1cclxuZnVuY3Rpb24gbWFya1Jhdyh2YWx1ZSkge1xyXG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIgLyogUmVhY3RpdmVGbGFncy5TS0lQICovLCB0cnVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0NvbGxlY3Rpb25UeXBlKHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XHJcbiAgICByZXR1cm4gKHR5cGUgPT09ICdNYXAnIHx8IHR5cGUgPT09ICdXZWFrTWFwJyB8fCB0eXBlID09PSAnU2V0JyB8fCB0eXBlID09PSAnV2Vha1NldCcpO1xyXG59XG5cbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbnZhciBSZWZGbGFnID0gXCJfX3ZfaXNSZWZcIjtcclxuZnVuY3Rpb24gaXNSZWYocikge1xyXG4gICAgcmV0dXJuICEhKHIgJiYgci5fX3ZfaXNSZWYgPT09IHRydWUpO1xyXG59XHJcbmZ1bmN0aW9uIHJlZiQxKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCBmYWxzZSk7XHJcbn1cclxuZnVuY3Rpb24gc2hhbGxvd1JlZih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlZih2YWx1ZSwgdHJ1ZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XHJcbiAgICBpZiAoaXNSZWYocmF3VmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlZiA9IHt9O1xyXG4gICAgZGVmKHJlZiwgUmVmRmxhZywgdHJ1ZSk7XHJcbiAgICBkZWYocmVmLCBcIl9fdl9pc1NoYWxsb3dcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1NIQUxMT1cgKi8sIHRydWUpO1xyXG4gICAgZGVmKHJlZiwgJ2RlcCcsIGRlZmluZVJlYWN0aXZlKHJlZiwgJ3ZhbHVlJywgcmF3VmFsdWUsIG51bGwsIHNoYWxsb3csIGlzU2VydmVyUmVuZGVyaW5nKCkpKTtcclxuICAgIHJldHVybiByZWY7XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFyZWYuZGVwKSB7XHJcbiAgICAgICAgd2FybihcInJlY2VpdmVkIG9iamVjdCBpcyBub3QgYSB0cmlnZ2VyYWJsZSByZWYuXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICByZWYuZGVwICYmXHJcbiAgICAgICAgICAgIHJlZi5kZXAubm90aWZ5KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIgLyogVHJpZ2dlck9wVHlwZXMuU0VUICovLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiByZWYsXHJcbiAgICAgICAgICAgICAgICBrZXk6ICd2YWx1ZSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZWYuZGVwICYmIHJlZi5kZXAubm90aWZ5KCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdW5yZWYocmVmKSB7XHJcbiAgICByZXR1cm4gaXNSZWYocmVmKSA/IHJlZi52YWx1ZSA6IHJlZjtcclxufVxyXG5mdW5jdGlvbiBwcm94eVJlZnMob2JqZWN0V2l0aFJlZnMpIHtcclxuICAgIGlmIChpc1JlYWN0aXZlKG9iamVjdFdpdGhSZWZzKSkge1xyXG4gICAgICAgIHJldHVybiBvYmplY3RXaXRoUmVmcztcclxuICAgIH1cclxuICAgIHZhciBwcm94eSA9IHt9O1xyXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3RXaXRoUmVmcyk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBwcm94eVdpdGhSZWZVbndyYXAocHJveHksIG9iamVjdFdpdGhSZWZzLCBrZXlzW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcm94eTtcclxufVxyXG5mdW5jdGlvbiBwcm94eVdpdGhSZWZVbndyYXAodGFyZ2V0LCBzb3VyY2UsIGtleSkge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bnJlZihzb3VyY2Vba2V5XSk7IH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gc291cmNlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChpc1JlZihvbGRWYWx1ZSkgJiYgIWlzUmVmKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNvdXJjZVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xyXG4gICAgdmFyIGRlcCA9IG5ldyBEZXAoKTtcclxuICAgIHZhciBfYSA9IGZhY3RvcnkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGRlcC5kZXBlbmQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiByZWYsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sXHJcbiAgICAgICAgICAgICAgICBrZXk6ICd2YWx1ZSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZXAuZGVwZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGRlcC5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiByZWYsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLyxcclxuICAgICAgICAgICAgICAgIGtleTogJ3ZhbHVlJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGRlcC5ub3RpZnkoKTtcclxuICAgICAgICB9XHJcbiAgICB9KSwgZ2V0ID0gX2EuZ2V0LCBzZXQgPSBfYS5zZXQ7XHJcbiAgICB2YXIgcmVmID0ge1xyXG4gICAgICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0IHZhbHVlKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICBzZXQobmV3VmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZGVmKHJlZiwgUmVmRmxhZywgdHJ1ZSk7XHJcbiAgICByZXR1cm4gcmVmO1xyXG59XHJcbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3QpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFpc1JlYWN0aXZlKG9iamVjdCkpIHtcclxuICAgICAgICB3YXJuKFwidG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIHJldCA9IGlzQXJyYXkob2JqZWN0KSA/IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKSA6IHt9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIHJldFtrZXldID0gdG9SZWYob2JqZWN0LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5mdW5jdGlvbiB0b1JlZihvYmplY3QsIGtleSwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICB2YXIgdmFsID0gb2JqZWN0W2tleV07XHJcbiAgICBpZiAoaXNSZWYodmFsKSkge1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICB2YXIgcmVmID0ge1xyXG4gICAgICAgIGdldCB2YWx1ZSgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbCA9IG9iamVjdFtrZXldO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gbmV3VmFsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkZWYocmVmLCBSZWZGbGFnLCB0cnVlKTtcclxuICAgIHJldHVybiByZWY7XHJcbn1cblxudmFyIHJhd1RvUmVhZG9ubHlGbGFnID0gXCJfX3ZfcmF3VG9SZWFkb25seVwiO1xyXG52YXIgcmF3VG9TaGFsbG93UmVhZG9ubHlGbGFnID0gXCJfX3ZfcmF3VG9TaGFsbG93UmVhZG9ubHlcIjtcclxuZnVuY3Rpb24gcmVhZG9ubHkodGFyZ2V0KSB7XHJcbiAgICByZXR1cm4gY3JlYXRlUmVhZG9ubHkodGFyZ2V0LCBmYWxzZSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlUmVhZG9ubHkodGFyZ2V0LCBzaGFsbG93KSB7XHJcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QodGFyZ2V0KSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oXCJWdWUgMiBkb2VzIG5vdCBzdXBwb3J0IHJlYWRvbmx5IGFycmF5cy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNDb2xsZWN0aW9uVHlwZSh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiVnVlIDIgZG9lcyBub3Qgc3VwcG9ydCByZWFkb25seSBjb2xsZWN0aW9uIHR5cGVzIHN1Y2ggYXMgTWFwIG9yIFNldC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwidmFsdWUgY2Fubm90IGJlIG1hZGUgcmVhZG9ubHk6IFwiLmNvbmNhdCh0eXBlb2YgdGFyZ2V0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxuICAgIC8vIGFscmVhZHkgYSByZWFkb25seSBvYmplY3RcclxuICAgIGlmIChpc1JlYWRvbmx5KHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfVxyXG4gICAgLy8gYWxyZWFkeSBoYXMgYSByZWFkb25seSBwcm94eVxyXG4gICAgdmFyIGV4aXN0aW5nRmxhZyA9IHNoYWxsb3cgPyByYXdUb1NoYWxsb3dSZWFkb25seUZsYWcgOiByYXdUb1JlYWRvbmx5RmxhZztcclxuICAgIHZhciBleGlzdGluZ1Byb3h5ID0gdGFyZ2V0W2V4aXN0aW5nRmxhZ107XHJcbiAgICBpZiAoZXhpc3RpbmdQcm94eSkge1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZ1Byb3h5O1xyXG4gICAgfVxyXG4gICAgdmFyIHByb3h5ID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KSk7XHJcbiAgICBkZWYodGFyZ2V0LCBleGlzdGluZ0ZsYWcsIHByb3h5KTtcclxuICAgIGRlZihwcm94eSwgXCJfX3ZfaXNSZWFkb25seVwiIC8qIFJlYWN0aXZlRmxhZ3MuSVNfUkVBRE9OTFkgKi8sIHRydWUpO1xyXG4gICAgZGVmKHByb3h5LCBcIl9fdl9yYXdcIiAvKiBSZWFjdGl2ZUZsYWdzLlJBVyAqLywgdGFyZ2V0KTtcclxuICAgIGlmIChpc1JlZih0YXJnZXQpKSB7XHJcbiAgICAgICAgZGVmKHByb3h5LCBSZWZGbGFnLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGlmIChzaGFsbG93IHx8IGlzU2hhbGxvdyh0YXJnZXQpKSB7XHJcbiAgICAgICAgZGVmKHByb3h5LCBcIl9fdl9pc1NoYWxsb3dcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1NIQUxMT1cgKi8sIHRydWUpO1xyXG4gICAgfVxyXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0YXJnZXQpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGVmaW5lUmVhZG9ubHlQcm9wZXJ0eShwcm94eSwgdGFyZ2V0LCBrZXlzW2ldLCBzaGFsbG93KTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcm94eTtcclxufVxyXG5mdW5jdGlvbiBkZWZpbmVSZWFkb25seVByb3BlcnR5KHByb3h5LCB0YXJnZXQsIGtleSwgc2hhbGxvdykge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCBrZXksIHtcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbCA9IHRhcmdldFtrZXldO1xyXG4gICAgICAgICAgICByZXR1cm4gc2hhbGxvdyB8fCAhaXNQbGFpbk9iamVjdCh2YWwpID8gdmFsIDogcmVhZG9ubHkodmFsKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiU2V0IG9wZXJhdGlvbiBvbiBrZXkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5cIikpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcmVhY3RpdmUtY29weSBvZiB0aGUgb3JpZ2luYWwgb2JqZWN0LCB3aGVyZSBvbmx5IHRoZSByb290IGxldmVsXHJcbiAqIHByb3BlcnRpZXMgYXJlIHJlYWRvbmx5LCBhbmQgZG9lcyBOT1QgdW53cmFwIHJlZnMgbm9yIHJlY3Vyc2l2ZWx5IGNvbnZlcnRcclxuICogcmV0dXJuZWQgcHJvcGVydGllcy5cclxuICogVGhpcyBpcyB1c2VkIGZvciBjcmVhdGluZyB0aGUgcHJvcHMgcHJveHkgb2JqZWN0IGZvciBzdGF0ZWZ1bCBjb21wb25lbnRzLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd1JlYWRvbmx5KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGNyZWF0ZVJlYWRvbmx5KHRhcmdldCwgdHJ1ZSk7XHJcbn1cblxudmFyIHNlZW5PYmplY3RzID0gbmV3IF9TZXQoKTtcclxuLyoqXHJcbiAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkXHJcbiAqIGdldHRlcnMsIHNvIHRoYXQgZXZlcnkgbmVzdGVkIHByb3BlcnR5IGluc2lkZSB0aGUgb2JqZWN0XHJcbiAqIGlzIGNvbGxlY3RlZCBhcyBhIFwiZGVlcFwiIGRlcGVuZGVuY3kuXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmF2ZXJzZSh2YWwpIHtcclxuICAgIF90cmF2ZXJzZSh2YWwsIHNlZW5PYmplY3RzKTtcclxuICAgIHNlZW5PYmplY3RzLmNsZWFyKCk7XHJcbiAgICByZXR1cm4gdmFsO1xyXG59XHJcbmZ1bmN0aW9uIF90cmF2ZXJzZSh2YWwsIHNlZW4pIHtcclxuICAgIHZhciBpLCBrZXlzO1xyXG4gICAgdmFyIGlzQSA9IGlzQXJyYXkodmFsKTtcclxuICAgIGlmICgoIWlzQSAmJiAhaXNPYmplY3QodmFsKSkgfHxcclxuICAgICAgICBPYmplY3QuaXNGcm96ZW4odmFsKSB8fFxyXG4gICAgICAgIHZhbCBpbnN0YW5jZW9mIFZOb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbC5fX29iX18pIHtcclxuICAgICAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDtcclxuICAgICAgICBpZiAoc2Vlbi5oYXMoZGVwSWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2Vlbi5hZGQoZGVwSWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzQSkge1xyXG4gICAgICAgIGkgPSB2YWwubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pXHJcbiAgICAgICAgICAgIF90cmF2ZXJzZSh2YWxbaV0sIHNlZW4pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XHJcbiAgICAgICAgaSA9IGtleXMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pXHJcbiAgICAgICAgICAgIF90cmF2ZXJzZSh2YWxba2V5c1tpXV0sIHNlZW4pO1xyXG4gICAgfVxyXG59XG5cbnZhciBtYXJrO1xyXG52YXIgbWVhc3VyZTtcclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgIHZhciBwZXJmXzEgPSBpbkJyb3dzZXIgJiYgd2luZG93LnBlcmZvcm1hbmNlO1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAocGVyZl8xICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHBlcmZfMS5tYXJrICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHBlcmZfMS5tZWFzdXJlICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHBlcmZfMS5jbGVhck1hcmtzICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHBlcmZfMS5jbGVhck1lYXN1cmVzKSB7XHJcbiAgICAgICAgbWFyayA9IGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHBlcmZfMS5tYXJrKHRhZyk7IH07XHJcbiAgICAgICAgbWVhc3VyZSA9IGZ1bmN0aW9uIChuYW1lLCBzdGFydFRhZywgZW5kVGFnKSB7XHJcbiAgICAgICAgICAgIHBlcmZfMS5tZWFzdXJlKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgICAgICBwZXJmXzEuY2xlYXJNYXJrcyhzdGFydFRhZyk7XHJcbiAgICAgICAgICAgIHBlcmZfMS5jbGVhck1hcmtzKGVuZFRhZyk7XHJcbiAgICAgICAgICAgIC8vIHBlcmYuY2xlYXJNZWFzdXJlcyhuYW1lKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cblxudmFyIG5vcm1hbGl6ZUV2ZW50ID0gY2FjaGVkKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICB2YXIgcGFzc2l2ZSA9IG5hbWUuY2hhckF0KDApID09PSAnJic7XHJcbiAgICBuYW1lID0gcGFzc2l2ZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xyXG4gICAgdmFyIG9uY2UgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJ34nOyAvLyBQcmVmaXhlZCBsYXN0LCBjaGVja2VkIGZpcnN0XHJcbiAgICBuYW1lID0gb25jZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lO1xyXG4gICAgdmFyIGNhcHR1cmUgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJyEnO1xyXG4gICAgbmFtZSA9IGNhcHR1cmUgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBvbmNlOiBvbmNlLFxyXG4gICAgICAgIGNhcHR1cmU6IGNhcHR1cmUsXHJcbiAgICAgICAgcGFzc2l2ZTogcGFzc2l2ZVxyXG4gICAgfTtcclxufSk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUZuSW52b2tlcihmbnMsIHZtKSB7XHJcbiAgICBmdW5jdGlvbiBpbnZva2VyKCkge1xyXG4gICAgICAgIHZhciBmbnMgPSBpbnZva2VyLmZucztcclxuICAgICAgICBpZiAoaXNBcnJheShmbnMpKSB7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZWQgPSBmbnMuc2xpY2UoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbG9uZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNsb25lZFtpXSwgbnVsbCwgYXJndW1lbnRzLCB2bSwgXCJ2LW9uIGhhbmRsZXJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiBoYW5kbGVyIHJldHVybiB2YWx1ZSBmb3Igc2luZ2xlIGhhbmRsZXJzXHJcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhmbnMsIG51bGwsIGFyZ3VtZW50cywgdm0sIFwidi1vbiBoYW5kbGVyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGludm9rZXIuZm5zID0gZm5zO1xyXG4gICAgcmV0dXJuIGludm9rZXI7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlTGlzdGVuZXJzKG9uLCBvbGRPbiwgYWRkLCByZW1vdmUsIGNyZWF0ZU9uY2VIYW5kbGVyLCB2bSkge1xyXG4gICAgdmFyIG5hbWUsIGN1ciwgb2xkLCBldmVudDtcclxuICAgIGZvciAobmFtZSBpbiBvbikge1xyXG4gICAgICAgIGN1ciA9IG9uW25hbWVdO1xyXG4gICAgICAgIG9sZCA9IG9sZE9uW25hbWVdO1xyXG4gICAgICAgIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQobmFtZSk7XHJcbiAgICAgICAgaWYgKGlzVW5kZWYoY3VyKSkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiSW52YWxpZCBoYW5kbGVyIGZvciBldmVudCBcXFwiXCIuY29uY2F0KGV2ZW50Lm5hbWUsIFwiXFxcIjogZ290IFwiKSArIFN0cmluZyhjdXIpLCB2bSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzVW5kZWYob2xkKSkge1xyXG4gICAgICAgICAgICBpZiAoaXNVbmRlZihjdXIuZm5zKSkge1xyXG4gICAgICAgICAgICAgICAgY3VyID0gb25bbmFtZV0gPSBjcmVhdGVGbkludm9rZXIoY3VyLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzVHJ1ZShldmVudC5vbmNlKSkge1xyXG4gICAgICAgICAgICAgICAgY3VyID0gb25bbmFtZV0gPSBjcmVhdGVPbmNlSGFuZGxlcihldmVudC5uYW1lLCBjdXIsIGV2ZW50LmNhcHR1cmUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZChldmVudC5uYW1lLCBjdXIsIGV2ZW50LmNhcHR1cmUsIGV2ZW50LnBhc3NpdmUsIGV2ZW50LnBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGN1ciAhPT0gb2xkKSB7XHJcbiAgICAgICAgICAgIG9sZC5mbnMgPSBjdXI7XHJcbiAgICAgICAgICAgIG9uW25hbWVdID0gb2xkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAobmFtZSBpbiBvbGRPbikge1xyXG4gICAgICAgIGlmIChpc1VuZGVmKG9uW25hbWVdKSkge1xyXG4gICAgICAgICAgICBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KG5hbWUpO1xyXG4gICAgICAgICAgICByZW1vdmUoZXZlbnQubmFtZSwgb2xkT25bbmFtZV0sIGV2ZW50LmNhcHR1cmUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBtZXJnZVZOb2RlSG9vayhkZWYsIGhvb2tLZXksIGhvb2spIHtcclxuICAgIGlmIChkZWYgaW5zdGFuY2VvZiBWTm9kZSkge1xyXG4gICAgICAgIGRlZiA9IGRlZi5kYXRhLmhvb2sgfHwgKGRlZi5kYXRhLmhvb2sgPSB7fSk7XHJcbiAgICB9XHJcbiAgICB2YXIgaW52b2tlcjtcclxuICAgIHZhciBvbGRIb29rID0gZGVmW2hvb2tLZXldO1xyXG4gICAgZnVuY3Rpb24gd3JhcHBlZEhvb2soKSB7XHJcbiAgICAgICAgaG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIC8vIGltcG9ydGFudDogcmVtb3ZlIG1lcmdlZCBob29rIHRvIGVuc3VyZSBpdCdzIGNhbGxlZCBvbmx5IG9uY2VcclxuICAgICAgICAvLyBhbmQgcHJldmVudCBtZW1vcnkgbGVha1xyXG4gICAgICAgIHJlbW92ZSQyKGludm9rZXIuZm5zLCB3cmFwcGVkSG9vayk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNVbmRlZihvbGRIb29rKSkge1xyXG4gICAgICAgIC8vIG5vIGV4aXN0aW5nIGhvb2tcclxuICAgICAgICBpbnZva2VyID0gY3JlYXRlRm5JbnZva2VyKFt3cmFwcGVkSG9va10pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKGlzRGVmKG9sZEhvb2suZm5zKSAmJiBpc1RydWUob2xkSG9vay5tZXJnZWQpKSB7XHJcbiAgICAgICAgICAgIC8vIGFscmVhZHkgYSBtZXJnZWQgaW52b2tlclxyXG4gICAgICAgICAgICBpbnZva2VyID0gb2xkSG9vaztcclxuICAgICAgICAgICAgaW52b2tlci5mbnMucHVzaCh3cmFwcGVkSG9vayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBleGlzdGluZyBwbGFpbiBob29rXHJcbiAgICAgICAgICAgIGludm9rZXIgPSBjcmVhdGVGbkludm9rZXIoW29sZEhvb2ssIHdyYXBwZWRIb29rXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW52b2tlci5tZXJnZWQgPSB0cnVlO1xyXG4gICAgZGVmW2hvb2tLZXldID0gaW52b2tlcjtcclxufVxuXG5mdW5jdGlvbiBleHRyYWN0UHJvcHNGcm9tVk5vZGVEYXRhKGRhdGEsIEN0b3IsIHRhZykge1xyXG4gICAgLy8gd2UgYXJlIG9ubHkgZXh0cmFjdGluZyByYXcgdmFsdWVzIGhlcmUuXHJcbiAgICAvLyB2YWxpZGF0aW9uIGFuZCBkZWZhdWx0IHZhbHVlcyBhcmUgaGFuZGxlZCBpbiB0aGUgY2hpbGRcclxuICAgIC8vIGNvbXBvbmVudCBpdHNlbGYuXHJcbiAgICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7XHJcbiAgICBpZiAoaXNVbmRlZihwcm9wT3B0aW9ucykpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgcmVzID0ge307XHJcbiAgICB2YXIgYXR0cnMgPSBkYXRhLmF0dHJzLCBwcm9wcyA9IGRhdGEucHJvcHM7XHJcbiAgICBpZiAoaXNEZWYoYXR0cnMpIHx8IGlzRGVmKHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgYWx0S2V5ID0gaHlwaGVuYXRlKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5SW5Mb3dlckNhc2UgPSBrZXkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IGtleUluTG93ZXJDYXNlICYmIGF0dHJzICYmIGhhc093bihhdHRycywga2V5SW5Mb3dlckNhc2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwKFwiUHJvcCBcXFwiXCIuY29uY2F0KGtleUluTG93ZXJDYXNlLCBcIlxcXCIgaXMgcGFzc2VkIHRvIGNvbXBvbmVudCBcIikgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlwiLmNvbmNhdChmb3JtYXRDb21wb25lbnROYW1lKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRhZyBpcyBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnIHx8IEN0b3IpLCBcIiwgYnV0IHRoZSBkZWNsYXJlZCBwcm9wIG5hbWUgaXNcIikgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiLiBcIikgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIGNhbWVsQ2FzZWQgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInByb3BzIG5lZWQgdG8gdXNlIHRoZWlyIGtlYmFiLWNhc2UgZXF1aXZhbGVudHMgd2hlbiB1c2luZyBpbi1ET00gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRlbXBsYXRlcy4gWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXFxcIlwiLmNvbmNhdChhbHRLZXksIFwiXFxcIiBpbnN0ZWFkIG9mIFxcXCJcIikuY29uY2F0KGtleSwgXCJcXFwiLlwiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hlY2tQcm9wKHJlcywgcHJvcHMsIGtleSwgYWx0S2V5LCB0cnVlKSB8fFxyXG4gICAgICAgICAgICAgICAgY2hlY2tQcm9wKHJlcywgYXR0cnMsIGtleSwgYWx0S2V5LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiBjaGVja1Byb3AocmVzLCBoYXNoLCBrZXksIGFsdEtleSwgcHJlc2VydmUpIHtcclxuICAgIGlmIChpc0RlZihoYXNoKSkge1xyXG4gICAgICAgIGlmIChoYXNPd24oaGFzaCwga2V5KSkge1xyXG4gICAgICAgICAgICByZXNba2V5XSA9IGhhc2hba2V5XTtcclxuICAgICAgICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGhhc2hba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaGFzT3duKGhhc2gsIGFsdEtleSkpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBoYXNoW2FsdEtleV07XHJcbiAgICAgICAgICAgIGlmICghcHJlc2VydmUpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBoYXNoW2FsdEtleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XG5cbi8vIFRoZSB0ZW1wbGF0ZSBjb21waWxlciBhdHRlbXB0cyB0byBtaW5pbWl6ZSB0aGUgbmVlZCBmb3Igbm9ybWFsaXphdGlvbiBieVxyXG4vLyBzdGF0aWNhbGx5IGFuYWx5emluZyB0aGUgdGVtcGxhdGUgYXQgY29tcGlsZSB0aW1lLlxyXG4vL1xyXG4vLyBGb3IgcGxhaW4gSFRNTCBtYXJrdXAsIG5vcm1hbGl6YXRpb24gY2FuIGJlIGNvbXBsZXRlbHkgc2tpcHBlZCBiZWNhdXNlIHRoZVxyXG4vLyBnZW5lcmF0ZWQgcmVuZGVyIGZ1bmN0aW9uIGlzIGd1YXJhbnRlZWQgdG8gcmV0dXJuIEFycmF5PFZOb2RlPi4gVGhlcmUgYXJlXHJcbi8vIHR3byBjYXNlcyB3aGVyZSBleHRyYSBub3JtYWxpemF0aW9uIGlzIG5lZWRlZDpcclxuLy8gMS4gV2hlbiB0aGUgY2hpbGRyZW4gY29udGFpbnMgY29tcG9uZW50cyAtIGJlY2F1c2UgYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxyXG4vLyBtYXkgcmV0dXJuIGFuIEFycmF5IGluc3RlYWQgb2YgYSBzaW5nbGUgcm9vdC4gSW4gdGhpcyBjYXNlLCBqdXN0IGEgc2ltcGxlXHJcbi8vIG5vcm1hbGl6YXRpb24gaXMgbmVlZGVkIC0gaWYgYW55IGNoaWxkIGlzIGFuIEFycmF5LCB3ZSBmbGF0dGVuIHRoZSB3aG9sZVxyXG4vLyB0aGluZyB3aXRoIEFycmF5LnByb3RvdHlwZS5jb25jYXQuIEl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgb25seSAxLWxldmVsIGRlZXBcclxuLy8gYmVjYXVzZSBmdW5jdGlvbmFsIGNvbXBvbmVudHMgYWxyZWFkeSBub3JtYWxpemUgdGhlaXIgb3duIGNoaWxkcmVuLlxyXG5mdW5jdGlvbiBzaW1wbGVOb3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbikge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGNoaWxkcmVuW2ldKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgY2hpbGRyZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjaGlsZHJlbjtcclxufVxyXG4vLyAyLiBXaGVuIHRoZSBjaGlsZHJlbiBjb250YWlucyBjb25zdHJ1Y3RzIHRoYXQgYWx3YXlzIGdlbmVyYXRlZCBuZXN0ZWQgQXJyYXlzLFxyXG4vLyBlLmcuIDx0ZW1wbGF0ZT4sIDxzbG90Piwgdi1mb3IsIG9yIHdoZW4gdGhlIGNoaWxkcmVuIGlzIHByb3ZpZGVkIGJ5IHVzZXJcclxuLy8gd2l0aCBoYW5kLXdyaXR0ZW4gcmVuZGVyIGZ1bmN0aW9ucyAvIEpTWC4gSW4gc3VjaCBjYXNlcyBhIGZ1bGwgbm9ybWFsaXphdGlvblxyXG4vLyBpcyBuZWVkZWQgdG8gY2F0ZXIgdG8gYWxsIHBvc3NpYmxlIHR5cGVzIG9mIGNoaWxkcmVuIHZhbHVlcy5cclxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pIHtcclxuICAgIHJldHVybiBpc1ByaW1pdGl2ZShjaGlsZHJlbilcclxuICAgICAgICA/IFtjcmVhdGVUZXh0Vk5vZGUoY2hpbGRyZW4pXVxyXG4gICAgICAgIDogaXNBcnJheShjaGlsZHJlbilcclxuICAgICAgICAgICAgPyBub3JtYWxpemVBcnJheUNoaWxkcmVuKGNoaWxkcmVuKVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxufVxyXG5mdW5jdGlvbiBpc1RleHROb2RlKG5vZGUpIHtcclxuICAgIHJldHVybiBpc0RlZihub2RlKSAmJiBpc0RlZihub2RlLnRleHQpICYmIGlzRmFsc2Uobm9kZS5pc0NvbW1lbnQpO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4oY2hpbGRyZW4sIG5lc3RlZEluZGV4KSB7XHJcbiAgICB2YXIgcmVzID0gW107XHJcbiAgICB2YXIgaSwgYywgbGFzdEluZGV4LCBsYXN0O1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgYyA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIGlmIChpc1VuZGVmKGMpIHx8IHR5cGVvZiBjID09PSAnYm9vbGVhbicpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGxhc3RJbmRleCA9IHJlcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIGxhc3QgPSByZXNbbGFzdEluZGV4XTtcclxuICAgICAgICAvLyAgbmVzdGVkXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoYykpIHtcclxuICAgICAgICAgICAgaWYgKGMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYyA9IG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4oYywgXCJcIi5jb25jYXQobmVzdGVkSW5kZXggfHwgJycsIFwiX1wiKS5jb25jYXQoaSkpO1xyXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVGV4dE5vZGUoY1swXSkgJiYgaXNUZXh0Tm9kZShsYXN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIGNbMF0udGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1ByaW1pdGl2ZShjKSkge1xyXG4gICAgICAgICAgICBpZiAoaXNUZXh0Tm9kZShsYXN0KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIFNTUiBoeWRyYXRpb24gYmVjYXVzZSB0ZXh0IG5vZGVzIGFyZVxyXG4gICAgICAgICAgICAgICAgLy8gZXNzZW50aWFsbHkgbWVyZ2VkIHdoZW4gcmVuZGVyZWQgdG8gSFRNTCBzdHJpbmdzXHJcbiAgICAgICAgICAgICAgICByZXNbbGFzdEluZGV4XSA9IGNyZWF0ZVRleHRWTm9kZShsYXN0LnRleHQgKyBjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChjICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29udmVydCBwcmltaXRpdmUgdG8gdm5vZGVcclxuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGNyZWF0ZVRleHRWTm9kZShjKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpc1RleHROb2RlKGMpICYmIGlzVGV4dE5vZGUobGFzdCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1lcmdlIGFkamFjZW50IHRleHQgbm9kZXNcclxuICAgICAgICAgICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIGMudGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IGtleSBmb3IgbmVzdGVkIGFycmF5IGNoaWxkcmVuIChsaWtlbHkgZ2VuZXJhdGVkIGJ5IHYtZm9yKVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzVHJ1ZShjaGlsZHJlbi5faXNWTGlzdCkgJiZcclxuICAgICAgICAgICAgICAgICAgICBpc0RlZihjLnRhZykgJiZcclxuICAgICAgICAgICAgICAgICAgICBpc1VuZGVmKGMua2V5KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlzRGVmKG5lc3RlZEluZGV4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGMua2V5ID0gXCJfX3ZsaXN0XCIuY29uY2F0KG5lc3RlZEluZGV4LCBcIl9cIikuY29uY2F0KGksIFwiX19cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXMucHVzaChjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cblxuZnVuY3Rpb24gcHJvdmlkZShrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoIWN1cnJlbnRJbnN0YW5jZSkge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLl9wcm92aWRlZDtcclxuICAgICAgICAvLyBieSBkZWZhdWx0IGFuIGluc3RhbmNlIGluaGVyaXRzIGl0cyBwYXJlbnQncyBwcm92aWRlcyBvYmplY3RcclxuICAgICAgICAvLyBidXQgd2hlbiBpdCBuZWVkcyB0byBwcm92aWRlIHZhbHVlcyBvZiBpdHMgb3duLCBpdCBjcmVhdGVzIGl0c1xyXG4gICAgICAgIC8vIG93biBwcm92aWRlcyBvYmplY3QgdXNpbmcgcGFyZW50IHByb3ZpZGVzIG9iamVjdCBhcyBwcm90b3R5cGUuXHJcbiAgICAgICAgLy8gdGhpcyB3YXkgaW4gYGluamVjdGAgd2UgY2FuIHNpbXBseSBsb29rIHVwIGluamVjdGlvbnMgZnJvbSBkaXJlY3RcclxuICAgICAgICAvLyBwYXJlbnQgYW5kIGxldCB0aGUgcHJvdG90eXBlIGNoYWluIGRvIHRoZSB3b3JrLlxyXG4gICAgICAgIHZhciBwYXJlbnRQcm92aWRlcyA9IGN1cnJlbnRJbnN0YW5jZS4kcGFyZW50ICYmIGN1cnJlbnRJbnN0YW5jZS4kcGFyZW50Ll9wcm92aWRlZDtcclxuICAgICAgICBpZiAocGFyZW50UHJvdmlkZXMgPT09IHByb3ZpZGVzKSB7XHJcbiAgICAgICAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLl9wcm92aWRlZCA9IE9iamVjdC5jcmVhdGUocGFyZW50UHJvdmlkZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUUyBkb2Vzbid0IGFsbG93IHN5bWJvbCBhcyBpbmRleCB0eXBlXHJcbiAgICAgICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluamVjdChrZXksIGRlZmF1bHRWYWx1ZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5KSB7XHJcbiAgICBpZiAodHJlYXREZWZhdWx0QXNGYWN0b3J5ID09PSB2b2lkIDApIHsgdHJlYXREZWZhdWx0QXNGYWN0b3J5ID0gZmFsc2U7IH1cclxuICAgIC8vIGZhbGxiYWNrIHRvIGBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2VgIHNvIHRoYXQgdGhpcyBjYW4gYmUgY2FsbGVkIGluXHJcbiAgICAvLyBhIGZ1bmN0aW9uYWwgY29tcG9uZW50XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAvLyAjMjQwMFxyXG4gICAgICAgIC8vIHRvIHN1cHBvcnQgYGFwcC51c2VgIHBsdWdpbnMsXHJcbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gYXBwQ29udGV4dCdzIGBwcm92aWRlc2AgaWYgdGhlIGluc3RhbmNlIGlzIGF0IHJvb3RcclxuICAgICAgICB2YXIgcHJvdmlkZXMgPSBpbnN0YW5jZS4kcGFyZW50ICYmIGluc3RhbmNlLiRwYXJlbnQuX3Byb3ZpZGVkO1xyXG4gICAgICAgIGlmIChwcm92aWRlcyAmJiBrZXkgaW4gcHJvdmlkZXMpIHtcclxuICAgICAgICAgICAgLy8gVFMgZG9lc24ndCBhbGxvdyBzeW1ib2wgYXMgaW5kZXggdHlwZVxyXG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXNba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSlcclxuICAgICAgICAgICAgICAgID8gZGVmYXVsdFZhbHVlLmNhbGwoaW5zdGFuY2UpXHJcbiAgICAgICAgICAgICAgICA6IGRlZmF1bHRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICB3YXJuKFwiaW5qZWN0aW9uIFxcXCJcIi5jb25jYXQoU3RyaW5nKGtleSksIFwiXFxcIiBub3QgZm91bmQuXCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgd2FybihcImluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLlwiKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBpbml0UHJvdmlkZSh2bSkge1xyXG4gICAgdmFyIHByb3ZpZGVPcHRpb24gPSB2bS4kb3B0aW9ucy5wcm92aWRlO1xyXG4gICAgaWYgKHByb3ZpZGVPcHRpb24pIHtcclxuICAgICAgICB2YXIgcHJvdmlkZWQgPSBpc0Z1bmN0aW9uKHByb3ZpZGVPcHRpb24pXHJcbiAgICAgICAgICAgID8gcHJvdmlkZU9wdGlvbi5jYWxsKHZtKVxyXG4gICAgICAgICAgICA6IHByb3ZpZGVPcHRpb247XHJcbiAgICAgICAgaWYgKCFpc09iamVjdChwcm92aWRlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIga2V5cyA9IGhhc1N5bWJvbCA/IFJlZmxlY3Qub3duS2V5cyhwcm92aWRlZCkgOiBPYmplY3Qua2V5cyhwcm92aWRlZCk7XHJcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKHZtKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcHJvdmlkZShrZXlzW2ldLCBwcm92aWRlZFtrZXlzW2ldXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZSgpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluaXRJbmplY3Rpb25zKHZtKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gcmVzb2x2ZUluamVjdCh2bS4kb3B0aW9ucy5pbmplY3QsIHZtKTtcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpO1xyXG4gICAgICAgIE9iamVjdC5rZXlzKHJlc3VsdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBkZWZpbmVSZWFjdGl2ZSh2bSwga2V5LCByZXN1bHRba2V5XSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oXCJBdm9pZCBtdXRhdGluZyBhbiBpbmplY3RlZCB2YWx1ZSBkaXJlY3RseSBzaW5jZSB0aGUgY2hhbmdlcyB3aWxsIGJlIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcHJvdmlkZWQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmplY3Rpb24gYmVpbmcgbXV0YXRlZDogXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIlwiKSwgdm0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWZpbmVSZWFjdGl2ZSh2bSwga2V5LCByZXN1bHRba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdChpbmplY3QsIHZtKSB7XHJcbiAgICBpZiAoaW5qZWN0KSB7XHJcbiAgICAgICAgLy8gaW5qZWN0IGlzIDphbnkgYmVjYXVzZSBmbG93IGlzIG5vdCBzbWFydCBlbm91Z2ggdG8gZmlndXJlIG91dCBjYWNoZWRcclxuICAgICAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICB2YXIga2V5cyA9IGhhc1N5bWJvbCA/IFJlZmxlY3Qub3duS2V5cyhpbmplY3QpIDogT2JqZWN0LmtleXMoaW5qZWN0KTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgIC8vICM2NTc0IGluIGNhc2UgdGhlIGluamVjdCBvYmplY3QgaXMgb2JzZXJ2ZWQuLi5cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ19fb2JfXycpXHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgdmFyIHByb3ZpZGVLZXkgPSBpbmplY3Rba2V5XS5mcm9tO1xyXG4gICAgICAgICAgICBpZiAocHJvdmlkZUtleSBpbiB2bS5fcHJvdmlkZWQpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdm0uX3Byb3ZpZGVkW3Byb3ZpZGVLZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCdkZWZhdWx0JyBpbiBpbmplY3Rba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVEZWZhdWx0ID0gaW5qZWN0W2tleV0uZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gaXNGdW5jdGlvbihwcm92aWRlRGVmYXVsdClcclxuICAgICAgICAgICAgICAgICAgICA/IHByb3ZpZGVEZWZhdWx0LmNhbGwodm0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwcm92aWRlRGVmYXVsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiSW5qZWN0aW9uIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgbm90IGZvdW5kXCIpLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIHJlc29sdmluZyByYXcgY2hpbGRyZW4gVk5vZGVzIGludG8gYSBzbG90IG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVTbG90cyhjaGlsZHJlbiwgY29udGV4dCkge1xyXG4gICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgdmFyIHNsb3RzID0ge307XHJcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xyXG4gICAgICAgIHZhciBkYXRhID0gY2hpbGQuZGF0YTtcclxuICAgICAgICAvLyByZW1vdmUgc2xvdCBhdHRyaWJ1dGUgaWYgdGhlIG5vZGUgaXMgcmVzb2x2ZWQgYXMgYSBWdWUgc2xvdCBub2RlXHJcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5hdHRycyAmJiBkYXRhLmF0dHJzLnNsb3QpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGRhdGEuYXR0cnMuc2xvdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbmFtZWQgc2xvdHMgc2hvdWxkIG9ubHkgYmUgcmVzcGVjdGVkIGlmIHRoZSB2bm9kZSB3YXMgcmVuZGVyZWQgaW4gdGhlXHJcbiAgICAgICAgLy8gc2FtZSBjb250ZXh0LlxyXG4gICAgICAgIGlmICgoY2hpbGQuY29udGV4dCA9PT0gY29udGV4dCB8fCBjaGlsZC5mbkNvbnRleHQgPT09IGNvbnRleHQpICYmXHJcbiAgICAgICAgICAgIGRhdGEgJiZcclxuICAgICAgICAgICAgZGF0YS5zbG90ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWVfMSA9IGRhdGEuc2xvdDtcclxuICAgICAgICAgICAgdmFyIHNsb3QgPSBzbG90c1tuYW1lXzFdIHx8IChzbG90c1tuYW1lXzFdID0gW10pO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGQudGFnID09PSAndGVtcGxhdGUnKSB7XHJcbiAgICAgICAgICAgICAgICBzbG90LnB1c2guYXBwbHkoc2xvdCwgY2hpbGQuY2hpbGRyZW4gfHwgW10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2xvdC5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgKHNsb3RzLmRlZmF1bHQgfHwgKHNsb3RzLmRlZmF1bHQgPSBbXSkpLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGlnbm9yZSBzbG90cyB0aGF0IGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZVxyXG4gICAgZm9yICh2YXIgbmFtZV8yIGluIHNsb3RzKSB7XHJcbiAgICAgICAgaWYgKHNsb3RzW25hbWVfMl0uZXZlcnkoaXNXaGl0ZXNwYWNlKSkge1xyXG4gICAgICAgICAgICBkZWxldGUgc2xvdHNbbmFtZV8yXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2xvdHM7XHJcbn1cclxuZnVuY3Rpb24gaXNXaGl0ZXNwYWNlKG5vZGUpIHtcclxuICAgIHJldHVybiAobm9kZS5pc0NvbW1lbnQgJiYgIW5vZGUuYXN5bmNGYWN0b3J5KSB8fCBub2RlLnRleHQgPT09ICcgJztcclxufVxuXG5mdW5jdGlvbiBpc0FzeW5jUGxhY2Vob2xkZXIobm9kZSkge1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBub3QgcmVhbGx5IGJvb2xlYW4gdHlwZVxyXG4gICAgcmV0dXJuIG5vZGUuaXNDb21tZW50ICYmIG5vZGUuYXN5bmNGYWN0b3J5O1xyXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNjb3BlZFNsb3RzKG93bmVyVm0sIHNjb3BlZFNsb3RzLCBub3JtYWxTbG90cywgcHJldlNjb3BlZFNsb3RzKSB7XHJcbiAgICB2YXIgcmVzO1xyXG4gICAgdmFyIGhhc05vcm1hbFNsb3RzID0gT2JqZWN0LmtleXMobm9ybWFsU2xvdHMpLmxlbmd0aCA+IDA7XHJcbiAgICB2YXIgaXNTdGFibGUgPSBzY29wZWRTbG90cyA/ICEhc2NvcGVkU2xvdHMuJHN0YWJsZSA6ICFoYXNOb3JtYWxTbG90cztcclxuICAgIHZhciBrZXkgPSBzY29wZWRTbG90cyAmJiBzY29wZWRTbG90cy4ka2V5O1xyXG4gICAgaWYgKCFzY29wZWRTbG90cykge1xyXG4gICAgICAgIHJlcyA9IHt9O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2NvcGVkU2xvdHMuX25vcm1hbGl6ZWQpIHtcclxuICAgICAgICAvLyBmYXN0IHBhdGggMTogY2hpbGQgY29tcG9uZW50IHJlLXJlbmRlciBvbmx5LCBwYXJlbnQgZGlkIG5vdCBjaGFuZ2VcclxuICAgICAgICByZXR1cm4gc2NvcGVkU2xvdHMuX25vcm1hbGl6ZWQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N0YWJsZSAmJlxyXG4gICAgICAgIHByZXZTY29wZWRTbG90cyAmJlxyXG4gICAgICAgIHByZXZTY29wZWRTbG90cyAhPT0gZW1wdHlPYmplY3QgJiZcclxuICAgICAgICBrZXkgPT09IHByZXZTY29wZWRTbG90cy4ka2V5ICYmXHJcbiAgICAgICAgIWhhc05vcm1hbFNsb3RzICYmXHJcbiAgICAgICAgIXByZXZTY29wZWRTbG90cy4kaGFzTm9ybWFsKSB7XHJcbiAgICAgICAgLy8gZmFzdCBwYXRoIDI6IHN0YWJsZSBzY29wZWQgc2xvdHMgdy8gbm8gbm9ybWFsIHNsb3RzIHRvIHByb3h5LFxyXG4gICAgICAgIC8vIG9ubHkgbmVlZCB0byBub3JtYWxpemUgb25jZVxyXG4gICAgICAgIHJldHVybiBwcmV2U2NvcGVkU2xvdHM7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXMgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBrZXlfMSBpbiBzY29wZWRTbG90cykge1xyXG4gICAgICAgICAgICBpZiAoc2NvcGVkU2xvdHNba2V5XzFdICYmIGtleV8xWzBdICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgICAgIHJlc1trZXlfMV0gPSBub3JtYWxpemVTY29wZWRTbG90KG93bmVyVm0sIG5vcm1hbFNsb3RzLCBrZXlfMSwgc2NvcGVkU2xvdHNba2V5XzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGV4cG9zZSBub3JtYWwgc2xvdHMgb24gc2NvcGVkU2xvdHNcclxuICAgIGZvciAodmFyIGtleV8yIGluIG5vcm1hbFNsb3RzKSB7XHJcbiAgICAgICAgaWYgKCEoa2V5XzIgaW4gcmVzKSkge1xyXG4gICAgICAgICAgICByZXNba2V5XzJdID0gcHJveHlOb3JtYWxTbG90KG5vcm1hbFNsb3RzLCBrZXlfMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gYXZvcmlheiBzZWVtcyB0byBtb2NrIGEgbm9uLWV4dGVuc2libGUgJHNjb3BlZFNsb3RzIG9iamVjdFxyXG4gICAgLy8gYW5kIHdoZW4gdGhhdCBpcyBwYXNzZWQgZG93biB0aGlzIHdvdWxkIGNhdXNlIGFuIGVycm9yXHJcbiAgICBpZiAoc2NvcGVkU2xvdHMgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShzY29wZWRTbG90cykpIHtcclxuICAgICAgICBzY29wZWRTbG90cy5fbm9ybWFsaXplZCA9IHJlcztcclxuICAgIH1cclxuICAgIGRlZihyZXMsICckc3RhYmxlJywgaXNTdGFibGUpO1xyXG4gICAgZGVmKHJlcywgJyRrZXknLCBrZXkpO1xyXG4gICAgZGVmKHJlcywgJyRoYXNOb3JtYWwnLCBoYXNOb3JtYWxTbG90cyk7XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVNjb3BlZFNsb3Qodm0sIG5vcm1hbFNsb3RzLCBrZXksIGZuKSB7XHJcbiAgICB2YXIgbm9ybWFsaXplZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VyID0gY3VycmVudEluc3RhbmNlO1xyXG4gICAgICAgIHNldEN1cnJlbnRJbnN0YW5jZSh2bSk7XHJcbiAgICAgICAgdmFyIHJlcyA9IGFyZ3VtZW50cy5sZW5ndGggPyBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpIDogZm4oe30pO1xyXG4gICAgICAgIHJlcyA9XHJcbiAgICAgICAgICAgIHJlcyAmJiB0eXBlb2YgcmVzID09PSAnb2JqZWN0JyAmJiAhaXNBcnJheShyZXMpXHJcbiAgICAgICAgICAgICAgICA/IFtyZXNdIC8vIHNpbmdsZSB2bm9kZVxyXG4gICAgICAgICAgICAgICAgOiBub3JtYWxpemVDaGlsZHJlbihyZXMpO1xyXG4gICAgICAgIHZhciB2bm9kZSA9IHJlcyAmJiByZXNbMF07XHJcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKGN1cik7XHJcbiAgICAgICAgcmV0dXJuIHJlcyAmJlxyXG4gICAgICAgICAgICAoIXZub2RlIHx8XHJcbiAgICAgICAgICAgICAgICAocmVzLmxlbmd0aCA9PT0gMSAmJiB2bm9kZS5pc0NvbW1lbnQgJiYgIWlzQXN5bmNQbGFjZWhvbGRlcih2bm9kZSkpKSAvLyAjOTY1OCwgIzEwMzkxXHJcbiAgICAgICAgICAgID8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIDogcmVzO1xyXG4gICAgfTtcclxuICAgIC8vIHRoaXMgaXMgYSBzbG90IHVzaW5nIHRoZSBuZXcgdi1zbG90IHN5bnRheCB3aXRob3V0IHNjb3BlLiBhbHRob3VnaCBpdCBpc1xyXG4gICAgLy8gY29tcGlsZWQgYXMgYSBzY29wZWQgc2xvdCwgcmVuZGVyIGZuIHVzZXJzIHdvdWxkIGV4cGVjdCBpdCB0byBiZSBwcmVzZW50XHJcbiAgICAvLyBvbiB0aGlzLiRzbG90cyBiZWNhdXNlIHRoZSB1c2FnZSBpcyBzZW1hbnRpY2FsbHkgYSBub3JtYWwgc2xvdC5cclxuICAgIGlmIChmbi5wcm94eSkge1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub3JtYWxTbG90cywga2V5LCB7XHJcbiAgICAgICAgICAgIGdldDogbm9ybWFsaXplZCxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcclxufVxyXG5mdW5jdGlvbiBwcm94eU5vcm1hbFNsb3Qoc2xvdHMsIGtleSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNsb3RzW2tleV07IH07XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgdi1mb3IgbGlzdHMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZW5kZXJMaXN0KHZhbCwgcmVuZGVyKSB7XHJcbiAgICB2YXIgcmV0ID0gbnVsbCwgaSwgbCwga2V5cywga2V5O1xyXG4gICAgaWYgKGlzQXJyYXkodmFsKSB8fCB0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwubGVuZ3RoKTtcclxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdmFsLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2ldLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWw7IGkrKykge1xyXG4gICAgICAgICAgICByZXRbaV0gPSByZW5kZXIoaSArIDEsIGkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkpIHtcclxuICAgICAgICBpZiAoaGFzU3ltYm9sICYmIHZhbFtTeW1ib2wuaXRlcmF0b3JdKSB7XHJcbiAgICAgICAgICAgIHJldCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSB2YWxbU3ltYm9sLml0ZXJhdG9yXSgpO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xyXG4gICAgICAgICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7XHJcbiAgICAgICAgICAgICAgICByZXQucHVzaChyZW5kZXIocmVzdWx0LnZhbHVlLCByZXQubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpO1xyXG4gICAgICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2tleV0sIGtleSwgaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzRGVmKHJldCkpIHtcclxuICAgICAgICByZXQgPSBbXTtcclxuICAgIH1cclxuICAgIHJldC5faXNWTGlzdCA9IHRydWU7XHJcbiAgICByZXR1cm4gcmV0O1xyXG59XG5cbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIDxzbG90PlxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyU2xvdChuYW1lLCBmYWxsYmFja1JlbmRlciwgcHJvcHMsIGJpbmRPYmplY3QpIHtcclxuICAgIHZhciBzY29wZWRTbG90Rm4gPSB0aGlzLiRzY29wZWRTbG90c1tuYW1lXTtcclxuICAgIHZhciBub2RlcztcclxuICAgIGlmIChzY29wZWRTbG90Rm4pIHtcclxuICAgICAgICAvLyBzY29wZWQgc2xvdFxyXG4gICAgICAgIHByb3BzID0gcHJvcHMgfHwge307XHJcbiAgICAgICAgaWYgKGJpbmRPYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWlzT2JqZWN0KGJpbmRPYmplY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCdzbG90IHYtYmluZCB3aXRob3V0IGFyZ3VtZW50IGV4cGVjdHMgYW4gT2JqZWN0JywgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvcHMgPSBleHRlbmQoZXh0ZW5kKHt9LCBiaW5kT2JqZWN0KSwgcHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBub2RlcyA9XHJcbiAgICAgICAgICAgIHNjb3BlZFNsb3RGbihwcm9wcykgfHxcclxuICAgICAgICAgICAgICAgIChpc0Z1bmN0aW9uKGZhbGxiYWNrUmVuZGVyKSA/IGZhbGxiYWNrUmVuZGVyKCkgOiBmYWxsYmFja1JlbmRlcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBub2RlcyA9XHJcbiAgICAgICAgICAgIHRoaXMuJHNsb3RzW25hbWVdIHx8XHJcbiAgICAgICAgICAgICAgICAoaXNGdW5jdGlvbihmYWxsYmFja1JlbmRlcikgPyBmYWxsYmFja1JlbmRlcigpIDogZmFsbGJhY2tSZW5kZXIpO1xyXG4gICAgfVxyXG4gICAgdmFyIHRhcmdldCA9IHByb3BzICYmIHByb3BzLnNsb3Q7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywgeyBzbG90OiB0YXJnZXQgfSwgbm9kZXMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG5vZGVzO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVzb2x2aW5nIGZpbHRlcnNcclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVGaWx0ZXIoaWQpIHtcclxuICAgIHJldHVybiByZXNvbHZlQXNzZXQodGhpcy4kb3B0aW9ucywgJ2ZpbHRlcnMnLCBpZCwgdHJ1ZSkgfHwgaWRlbnRpdHk7XHJcbn1cblxuZnVuY3Rpb24gaXNLZXlOb3RNYXRjaChleHBlY3QsIGFjdHVhbCkge1xyXG4gICAgaWYgKGlzQXJyYXkoZXhwZWN0KSkge1xyXG4gICAgICAgIHJldHVybiBleHBlY3QuaW5kZXhPZihhY3R1YWwpID09PSAtMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBleHBlY3QgIT09IGFjdHVhbDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIGNoZWNraW5nIGtleUNvZGVzIGZyb20gY29uZmlnLlxyXG4gKiBleHBvc2VkIGFzIFZ1ZS5wcm90b3R5cGUuX2tcclxuICogcGFzc2luZyBpbiBldmVudEtleU5hbWUgYXMgbGFzdCBhcmd1bWVudCBzZXBhcmF0ZWx5IGZvciBiYWNrd2FyZHMgY29tcGF0XHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja0tleUNvZGVzKGV2ZW50S2V5Q29kZSwga2V5LCBidWlsdEluS2V5Q29kZSwgZXZlbnRLZXlOYW1lLCBidWlsdEluS2V5TmFtZSkge1xyXG4gICAgdmFyIG1hcHBlZEtleUNvZGUgPSBjb25maWcua2V5Q29kZXNba2V5XSB8fCBidWlsdEluS2V5Q29kZTtcclxuICAgIGlmIChidWlsdEluS2V5TmFtZSAmJiBldmVudEtleU5hbWUgJiYgIWNvbmZpZy5rZXlDb2Rlc1trZXldKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2goYnVpbHRJbktleU5hbWUsIGV2ZW50S2V5TmFtZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChtYXBwZWRLZXlDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2gobWFwcGVkS2V5Q29kZSwgZXZlbnRLZXlDb2RlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV2ZW50S2V5TmFtZSkge1xyXG4gICAgICAgIHJldHVybiBoeXBoZW5hdGUoZXZlbnRLZXlOYW1lKSAhPT0ga2V5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV2ZW50S2V5Q29kZSA9PT0gdW5kZWZpbmVkO1xyXG59XG5cbi8qKlxyXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgbWVyZ2luZyB2LWJpbmQ9XCJvYmplY3RcIiBpbnRvIGEgVk5vZGUncyBkYXRhLlxyXG4gKi9cclxuZnVuY3Rpb24gYmluZE9iamVjdFByb3BzKGRhdGEsIHRhZywgdmFsdWUsIGFzUHJvcCwgaXNTeW5jKSB7XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKCd2LWJpbmQgd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCBvciBBcnJheSB2YWx1ZScsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaGFzaCA9IHZvaWQgMDtcclxuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnY2xhc3MnIHx8IGtleSA9PT0gJ3N0eWxlJyB8fCBpc1Jlc2VydmVkQXR0cmlidXRlKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5hdHRycyAmJiBkYXRhLmF0dHJzLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzUHJvcCB8fCBjb25maWcubXVzdFVzZVByb3AodGFnLCB0eXBlLCBrZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGRhdGEuZG9tUHJvcHMgfHwgKGRhdGEuZG9tUHJvcHMgPSB7fSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGh5cGhlbmF0ZWRLZXkgPSBoeXBoZW5hdGUoa2V5KTtcclxuICAgICAgICAgICAgICAgIGlmICghKGNhbWVsaXplZEtleSBpbiBoYXNoKSAmJiAhKGh5cGhlbmF0ZWRLZXkgaW4gaGFzaCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNoW2tleV0gPSB2YWx1ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1N5bmMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uID0gZGF0YS5vbiB8fCAoZGF0YS5vbiA9IHt9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25bXCJ1cGRhdGU6XCIuY29uY2F0KGtleSldID0gZnVuY3Rpb24gKCRldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVba2V5XSA9ICRldmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgX2xvb3BfMShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgc3RhdGljIHRyZWVzLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVuZGVyU3RhdGljKGluZGV4LCBpc0luRm9yKSB7XHJcbiAgICB2YXIgY2FjaGVkID0gdGhpcy5fc3RhdGljVHJlZXMgfHwgKHRoaXMuX3N0YXRpY1RyZWVzID0gW10pO1xyXG4gICAgdmFyIHRyZWUgPSBjYWNoZWRbaW5kZXhdO1xyXG4gICAgLy8gaWYgaGFzIGFscmVhZHktcmVuZGVyZWQgc3RhdGljIHRyZWUgYW5kIG5vdCBpbnNpZGUgdi1mb3IsXHJcbiAgICAvLyB3ZSBjYW4gcmV1c2UgdGhlIHNhbWUgdHJlZS5cclxuICAgIGlmICh0cmVlICYmICFpc0luRm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRyZWU7XHJcbiAgICB9XHJcbiAgICAvLyBvdGhlcndpc2UsIHJlbmRlciBhIGZyZXNoIHRyZWUuXHJcbiAgICB0cmVlID0gY2FjaGVkW2luZGV4XSA9IHRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW2luZGV4XS5jYWxsKHRoaXMuX3JlbmRlclByb3h5LCB0aGlzLl9jLCB0aGlzIC8vIGZvciByZW5kZXIgZm5zIGdlbmVyYXRlZCBmb3IgZnVuY3Rpb25hbCBjb21wb25lbnQgdGVtcGxhdGVzXHJcbiAgICApO1xyXG4gICAgbWFya1N0YXRpYyh0cmVlLCBcIl9fc3RhdGljX19cIi5jb25jYXQoaW5kZXgpLCBmYWxzZSk7XHJcbiAgICByZXR1cm4gdHJlZTtcclxufVxyXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIHYtb25jZS5cclxuICogRWZmZWN0aXZlbHkgaXQgbWVhbnMgbWFya2luZyB0aGUgbm9kZSBhcyBzdGF0aWMgd2l0aCBhIHVuaXF1ZSBrZXkuXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXJrT25jZSh0cmVlLCBpbmRleCwga2V5KSB7XHJcbiAgICBtYXJrU3RhdGljKHRyZWUsIFwiX19vbmNlX19cIi5jb25jYXQoaW5kZXgpLmNvbmNhdChrZXkgPyBcIl9cIi5jb25jYXQoa2V5KSA6IFwiXCIpLCB0cnVlKTtcclxuICAgIHJldHVybiB0cmVlO1xyXG59XHJcbmZ1bmN0aW9uIG1hcmtTdGF0aWModHJlZSwga2V5LCBpc09uY2UpIHtcclxuICAgIGlmIChpc0FycmF5KHRyZWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0cmVlW2ldICYmIHR5cGVvZiB0cmVlW2ldICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgbWFya1N0YXRpY05vZGUodHJlZVtpXSwgXCJcIi5jb25jYXQoa2V5LCBcIl9cIikuY29uY2F0KGkpLCBpc09uY2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbWFya1N0YXRpY05vZGUodHJlZSwga2V5LCBpc09uY2UpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIG1hcmtTdGF0aWNOb2RlKG5vZGUsIGtleSwgaXNPbmNlKSB7XHJcbiAgICBub2RlLmlzU3RhdGljID0gdHJ1ZTtcclxuICAgIG5vZGUua2V5ID0ga2V5O1xyXG4gICAgbm9kZS5pc09uY2UgPSBpc09uY2U7XHJcbn1cblxuZnVuY3Rpb24gYmluZE9iamVjdExpc3RlbmVycyhkYXRhLCB2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oJ3Ytb24gd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCB2YWx1ZScsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG9uID0gKGRhdGEub24gPSBkYXRhLm9uID8gZXh0ZW5kKHt9LCBkYXRhLm9uKSA6IHt9KTtcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBvbltrZXldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG91cnMgPSB2YWx1ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgb25ba2V5XSA9IGV4aXN0aW5nID8gW10uY29uY2F0KGV4aXN0aW5nLCBvdXJzKSA6IG91cnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxuXG5mdW5jdGlvbiByZXNvbHZlU2NvcGVkU2xvdHMoZm5zLCByZXMsIFxyXG4vLyB0aGUgZm9sbG93aW5nIGFyZSBhZGRlZCBpbiAyLjZcclxuaGFzRHluYW1pY0tleXMsIGNvbnRlbnRIYXNoS2V5KSB7XHJcbiAgICByZXMgPSByZXMgfHwgeyAkc3RhYmxlOiAhaGFzRHluYW1pY0tleXMgfTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHNsb3QgPSBmbnNbaV07XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZVNjb3BlZFNsb3RzKHNsb3QsIHJlcywgaGFzRHluYW1pY0tleXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChzbG90KSB7XHJcbiAgICAgICAgICAgIC8vIG1hcmtlciBmb3IgcmV2ZXJzZSBwcm94eWluZyB2LXNsb3Qgd2l0aG91dCBzY29wZSBvbiB0aGlzLiRzbG90c1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgIGlmIChzbG90LnByb3h5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBzbG90LmZuLnByb3h5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNbc2xvdC5rZXldID0gc2xvdC5mbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoY29udGVudEhhc2hLZXkpIHtcclxuICAgICAgICByZXMuJGtleSA9IGNvbnRlbnRIYXNoS2V5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxuXG4vLyBoZWxwZXIgdG8gcHJvY2VzcyBkeW5hbWljIGtleXMgZm9yIGR5bmFtaWMgYXJndW1lbnRzIGluIHYtYmluZCBhbmQgdi1vbi5cclxuZnVuY3Rpb24gYmluZER5bmFtaWNLZXlzKGJhc2VPYmosIHZhbHVlcykge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICB2YXIga2V5ID0gdmFsdWVzW2ldO1xyXG4gICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkpIHtcclxuICAgICAgICAgICAgYmFzZU9ialt2YWx1ZXNbaV1dID0gdmFsdWVzW2kgKyAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBrZXkgIT09ICcnICYmIGtleSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBudWxsIGlzIGEgc3BlY2lhbCB2YWx1ZSBmb3IgZXhwbGljaXRseSByZW1vdmluZyBhIGJpbmRpbmdcclxuICAgICAgICAgICAgd2FybihcIkludmFsaWQgdmFsdWUgZm9yIGR5bmFtaWMgZGlyZWN0aXZlIGFyZ3VtZW50IChleHBlY3RlZCBzdHJpbmcgb3IgbnVsbCk6IFwiLmNvbmNhdChrZXkpLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYmFzZU9iajtcclxufVxyXG4vLyBoZWxwZXIgdG8gZHluYW1pY2FsbHkgYXBwZW5kIG1vZGlmaWVyIHJ1bnRpbWUgbWFya2VycyB0byBldmVudCBuYW1lcy5cclxuLy8gZW5zdXJlIG9ubHkgYXBwZW5kIHdoZW4gdmFsdWUgaXMgYWxyZWFkeSBzdHJpbmcsIG90aGVyd2lzZSBpdCB3aWxsIGJlIGNhc3RcclxuLy8gdG8gc3RyaW5nIGFuZCBjYXVzZSB0aGUgdHlwZSBjaGVjayB0byBtaXNzLlxyXG5mdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXIodmFsdWUsIHN5bWJvbCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBzeW1ib2wgKyB2YWx1ZSA6IHZhbHVlO1xyXG59XG5cbmZ1bmN0aW9uIGluc3RhbGxSZW5kZXJIZWxwZXJzKHRhcmdldCkge1xyXG4gICAgdGFyZ2V0Ll9vID0gbWFya09uY2U7XHJcbiAgICB0YXJnZXQuX24gPSB0b051bWJlcjtcclxuICAgIHRhcmdldC5fcyA9IHRvU3RyaW5nO1xyXG4gICAgdGFyZ2V0Ll9sID0gcmVuZGVyTGlzdDtcclxuICAgIHRhcmdldC5fdCA9IHJlbmRlclNsb3Q7XHJcbiAgICB0YXJnZXQuX3EgPSBsb29zZUVxdWFsO1xyXG4gICAgdGFyZ2V0Ll9pID0gbG9vc2VJbmRleE9mO1xyXG4gICAgdGFyZ2V0Ll9tID0gcmVuZGVyU3RhdGljO1xyXG4gICAgdGFyZ2V0Ll9mID0gcmVzb2x2ZUZpbHRlcjtcclxuICAgIHRhcmdldC5fayA9IGNoZWNrS2V5Q29kZXM7XHJcbiAgICB0YXJnZXQuX2IgPSBiaW5kT2JqZWN0UHJvcHM7XHJcbiAgICB0YXJnZXQuX3YgPSBjcmVhdGVUZXh0Vk5vZGU7XHJcbiAgICB0YXJnZXQuX2UgPSBjcmVhdGVFbXB0eVZOb2RlO1xyXG4gICAgdGFyZ2V0Ll91ID0gcmVzb2x2ZVNjb3BlZFNsb3RzO1xyXG4gICAgdGFyZ2V0Ll9nID0gYmluZE9iamVjdExpc3RlbmVycztcclxuICAgIHRhcmdldC5fZCA9IGJpbmREeW5hbWljS2V5cztcclxuICAgIHRhcmdldC5fcCA9IHByZXBlbmRNb2RpZmllcjtcclxufVxuXG5mdW5jdGlvbiBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dChkYXRhLCBwcm9wcywgY2hpbGRyZW4sIHBhcmVudCwgQ3Rvcikge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIHZhciBvcHRpb25zID0gQ3Rvci5vcHRpb25zO1xyXG4gICAgLy8gZW5zdXJlIHRoZSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9uIGluIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xyXG4gICAgLy8gZ2V0cyBhIHVuaXF1ZSBjb250ZXh0IC0gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIGNvcnJlY3QgbmFtZWQgc2xvdCBjaGVja1xyXG4gICAgdmFyIGNvbnRleHRWbTtcclxuICAgIGlmIChoYXNPd24ocGFyZW50LCAnX3VpZCcpKSB7XHJcbiAgICAgICAgY29udGV4dFZtID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpO1xyXG4gICAgICAgIGNvbnRleHRWbS5fb3JpZ2luYWwgPSBwYXJlbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyB0aGUgY29udGV4dCB2bSBwYXNzZWQgaW4gaXMgYSBmdW5jdGlvbmFsIGNvbnRleHQgYXMgd2VsbC5cclxuICAgICAgICAvLyBpbiB0aGlzIGNhc2Ugd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgYXJlIGFibGUgdG8gZ2V0IGEgaG9sZCB0byB0aGVcclxuICAgICAgICAvLyByZWFsIGNvbnRleHQgaW5zdGFuY2UuXHJcbiAgICAgICAgY29udGV4dFZtID0gcGFyZW50O1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX29yaWdpbmFsO1xyXG4gICAgfVxyXG4gICAgdmFyIGlzQ29tcGlsZWQgPSBpc1RydWUob3B0aW9ucy5fY29tcGlsZWQpO1xyXG4gICAgdmFyIG5lZWROb3JtYWxpemF0aW9uID0gIWlzQ29tcGlsZWQ7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5wcm9wcyA9IHByb3BzO1xyXG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IGRhdGEub24gfHwgZW1wdHlPYmplY3Q7XHJcbiAgICB0aGlzLmluamVjdGlvbnMgPSByZXNvbHZlSW5qZWN0KG9wdGlvbnMuaW5qZWN0LCBwYXJlbnQpO1xyXG4gICAgdGhpcy5zbG90cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIV90aGlzLiRzbG90cykge1xyXG4gICAgICAgICAgICBub3JtYWxpemVTY29wZWRTbG90cyhwYXJlbnQsIGRhdGEuc2NvcGVkU2xvdHMsIChfdGhpcy4kc2xvdHMgPSByZXNvbHZlU2xvdHMoY2hpbGRyZW4sIHBhcmVudCkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzLiRzbG90cztcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Njb3BlZFNsb3RzJywge1xyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVTY29wZWRTbG90cyhwYXJlbnQsIGRhdGEuc2NvcGVkU2xvdHMsIHRoaXMuc2xvdHMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBzdXBwb3J0IGZvciBjb21waWxlZCBmdW5jdGlvbmFsIHRlbXBsYXRlXHJcbiAgICBpZiAoaXNDb21waWxlZCkge1xyXG4gICAgICAgIC8vIGV4cG9zaW5nICRvcHRpb25zIGZvciByZW5kZXJTdGF0aWMoKVxyXG4gICAgICAgIHRoaXMuJG9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgIC8vIHByZS1yZXNvbHZlIHNsb3RzIGZvciByZW5kZXJTbG90KClcclxuICAgICAgICB0aGlzLiRzbG90cyA9IHRoaXMuc2xvdHMoKTtcclxuICAgICAgICB0aGlzLiRzY29wZWRTbG90cyA9IG5vcm1hbGl6ZVNjb3BlZFNsb3RzKHBhcmVudCwgZGF0YS5zY29wZWRTbG90cywgdGhpcy4kc2xvdHMpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuX3Njb3BlSWQpIHtcclxuICAgICAgICB0aGlzLl9jID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcclxuICAgICAgICAgICAgdmFyIHZub2RlID0gY3JlYXRlRWxlbWVudCQxKGNvbnRleHRWbSwgYSwgYiwgYywgZCwgbmVlZE5vcm1hbGl6YXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodm5vZGUgJiYgIWlzQXJyYXkodm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5mblNjb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkO1xyXG4gICAgICAgICAgICAgICAgdm5vZGUuZm5Db250ZXh0ID0gcGFyZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50JDEoY29udGV4dFZtLCBhLCBiLCBjLCBkLCBuZWVkTm9ybWFsaXphdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG5pbnN0YWxsUmVuZGVySGVscGVycyhGdW5jdGlvbmFsUmVuZGVyQ29udGV4dC5wcm90b3R5cGUpO1xyXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50KEN0b3IsIHByb3BzRGF0YSwgZGF0YSwgY29udGV4dFZtLCBjaGlsZHJlbikge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XHJcbiAgICB2YXIgcHJvcHMgPSB7fTtcclxuICAgIHZhciBwcm9wT3B0aW9ucyA9IG9wdGlvbnMucHJvcHM7XHJcbiAgICBpZiAoaXNEZWYocHJvcE9wdGlvbnMpKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhIHx8IGVtcHR5T2JqZWN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoaXNEZWYoZGF0YS5hdHRycykpXHJcbiAgICAgICAgICAgIG1lcmdlUHJvcHMocHJvcHMsIGRhdGEuYXR0cnMpO1xyXG4gICAgICAgIGlmIChpc0RlZihkYXRhLnByb3BzKSlcclxuICAgICAgICAgICAgbWVyZ2VQcm9wcyhwcm9wcywgZGF0YS5wcm9wcyk7XHJcbiAgICB9XHJcbiAgICB2YXIgcmVuZGVyQ29udGV4dCA9IG5ldyBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dChkYXRhLCBwcm9wcywgY2hpbGRyZW4sIGNvbnRleHRWbSwgQ3Rvcik7XHJcbiAgICB2YXIgdm5vZGUgPSBvcHRpb25zLnJlbmRlci5jYWxsKG51bGwsIHJlbmRlckNvbnRleHQuX2MsIHJlbmRlckNvbnRleHQpO1xyXG4gICAgaWYgKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpIHtcclxuICAgICAgICByZXR1cm4gY2xvbmVBbmRNYXJrRnVuY3Rpb25hbFJlc3VsdCh2bm9kZSwgZGF0YSwgcmVuZGVyQ29udGV4dC5wYXJlbnQsIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSh2bm9kZSkpIHtcclxuICAgICAgICB2YXIgdm5vZGVzID0gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUpIHx8IFtdO1xyXG4gICAgICAgIHZhciByZXMgPSBuZXcgQXJyYXkodm5vZGVzLmxlbmd0aCk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcmVzW2ldID0gY2xvbmVBbmRNYXJrRnVuY3Rpb25hbFJlc3VsdCh2bm9kZXNbaV0sIGRhdGEsIHJlbmRlckNvbnRleHQucGFyZW50LCBvcHRpb25zLCByZW5kZXJDb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0KHZub2RlLCBkYXRhLCBjb250ZXh0Vm0sIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpIHtcclxuICAgIC8vICM3ODE3IGNsb25lIG5vZGUgYmVmb3JlIHNldHRpbmcgZm5Db250ZXh0LCBvdGhlcndpc2UgaWYgdGhlIG5vZGUgaXMgcmV1c2VkXHJcbiAgICAvLyAoZS5nLiBpdCB3YXMgZnJvbSBhIGNhY2hlZCBub3JtYWwgc2xvdCkgdGhlIGZuQ29udGV4dCBjYXVzZXMgbmFtZWQgc2xvdHNcclxuICAgIC8vIHRoYXQgc2hvdWxkIG5vdCBiZSBtYXRjaGVkIHRvIG1hdGNoLlxyXG4gICAgdmFyIGNsb25lID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICBjbG9uZS5mbkNvbnRleHQgPSBjb250ZXh0Vm07XHJcbiAgICBjbG9uZS5mbk9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAoY2xvbmUuZGV2dG9vbHNNZXRhID0gY2xvbmUuZGV2dG9vbHNNZXRhIHx8IHt9KS5yZW5kZXJDb250ZXh0ID1cclxuICAgICAgICAgICAgcmVuZGVyQ29udGV4dDtcclxuICAgIH1cclxuICAgIGlmIChkYXRhLnNsb3QpIHtcclxuICAgICAgICAoY2xvbmUuZGF0YSB8fCAoY2xvbmUuZGF0YSA9IHt9KSkuc2xvdCA9IGRhdGEuc2xvdDtcclxuICAgIH1cclxuICAgIHJldHVybiBjbG9uZTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZVByb3BzKHRvLCBmcm9tKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIHRvW2NhbWVsaXplKGtleSldID0gZnJvbVtrZXldO1xyXG4gICAgfVxyXG59XG5cbi8vIGlubGluZSBob29rcyB0byBiZSBpbnZva2VkIG9uIGNvbXBvbmVudCBWTm9kZXMgZHVyaW5nIHBhdGNoXHJcbnZhciBjb21wb25lbnRWTm9kZUhvb2tzID0ge1xyXG4gICAgaW5pdDogZnVuY3Rpb24gKHZub2RlLCBoeWRyYXRpbmcpIHtcclxuICAgICAgICBpZiAodm5vZGUuY29tcG9uZW50SW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgIXZub2RlLmNvbXBvbmVudEluc3RhbmNlLl9pc0Rlc3Ryb3llZCAmJlxyXG4gICAgICAgICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBrZXB0LWFsaXZlIGNvbXBvbmVudHMsIHRyZWF0IGFzIGEgcGF0Y2hcclxuICAgICAgICAgICAgdmFyIG1vdW50ZWROb2RlID0gdm5vZGU7IC8vIHdvcmsgYXJvdW5kIGZsb3dcclxuICAgICAgICAgICAgY29tcG9uZW50Vk5vZGVIb29rcy5wcmVwYXRjaChtb3VudGVkTm9kZSwgbW91bnRlZE5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkID0gKHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSh2bm9kZSwgYWN0aXZlSW5zdGFuY2UpKTtcclxuICAgICAgICAgICAgY2hpbGQuJG1vdW50KGh5ZHJhdGluZyA/IHZub2RlLmVsbSA6IHVuZGVmaW5lZCwgaHlkcmF0aW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcHJlcGF0Y2g6IGZ1bmN0aW9uIChvbGRWbm9kZSwgdm5vZGUpIHtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gKHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2UpO1xyXG4gICAgICAgIHVwZGF0ZUNoaWxkQ29tcG9uZW50KGNoaWxkLCBvcHRpb25zLnByb3BzRGF0YSwgLy8gdXBkYXRlZCBwcm9wc1xyXG4gICAgICAgIG9wdGlvbnMubGlzdGVuZXJzLCAvLyB1cGRhdGVkIGxpc3RlbmVyc1xyXG4gICAgICAgIHZub2RlLCAvLyBuZXcgcGFyZW50IHZub2RlXHJcbiAgICAgICAgb3B0aW9ucy5jaGlsZHJlbiAvLyBuZXcgY2hpbGRyZW5cclxuICAgICAgICApO1xyXG4gICAgfSxcclxuICAgIGluc2VydDogZnVuY3Rpb24gKHZub2RlKSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB2bm9kZS5jb250ZXh0LCBjb21wb25lbnRJbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xyXG4gICAgICAgIGlmICghY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCkge1xyXG4gICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS5faXNNb3VudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2FsbEhvb2skMShjb21wb25lbnRJbnN0YW5jZSwgJ21vdW50ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZXh0Ll9pc01vdW50ZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIHZ1ZS1yb3V0ZXIjMTIxMlxyXG4gICAgICAgICAgICAgICAgLy8gRHVyaW5nIHVwZGF0ZXMsIGEga2VwdC1hbGl2ZSBjb21wb25lbnQncyBjaGlsZCBjb21wb25lbnRzIG1heVxyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlLCBzbyBkaXJlY3RseSB3YWxraW5nIHRoZSB0cmVlIGhlcmUgbWF5IGNhbGwgYWN0aXZhdGVkIGhvb2tzXHJcbiAgICAgICAgICAgICAgICAvLyBvbiBpbmNvcnJlY3QgY2hpbGRyZW4uIEluc3RlYWQgd2UgcHVzaCB0aGVtIGludG8gYSBxdWV1ZSB3aGljaCB3aWxsXHJcbiAgICAgICAgICAgICAgICAvLyBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIHdob2xlIHBhdGNoIHByb2Nlc3MgZW5kZWQuXHJcbiAgICAgICAgICAgICAgICBxdWV1ZUFjdGl2YXRlZENvbXBvbmVudChjb21wb25lbnRJbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlLCB0cnVlIC8qIGRpcmVjdCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVzdHJveTogZnVuY3Rpb24gKHZub2RlKSB7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudEluc3RhbmNlID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2U7XHJcbiAgICAgICAgaWYgKCFjb21wb25lbnRJbnN0YW5jZS5faXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgaWYgKCF2bm9kZS5kYXRhLmtlZXBBbGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlYWN0aXZhdGVDaGlsZENvbXBvbmVudChjb21wb25lbnRJbnN0YW5jZSwgdHJ1ZSAvKiBkaXJlY3QgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG52YXIgaG9va3NUb01lcmdlID0gT2JqZWN0LmtleXMoY29tcG9uZW50Vk5vZGVIb29rcyk7XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudChDdG9yLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbiwgdGFnKSB7XHJcbiAgICBpZiAoaXNVbmRlZihDdG9yKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBiYXNlQ3RvciA9IGNvbnRleHQuJG9wdGlvbnMuX2Jhc2U7XHJcbiAgICAvLyBwbGFpbiBvcHRpb25zIG9iamVjdDogdHVybiBpdCBpbnRvIGEgY29uc3RydWN0b3JcclxuICAgIGlmIChpc09iamVjdChDdG9yKSkge1xyXG4gICAgICAgIEN0b3IgPSBiYXNlQ3Rvci5leHRlbmQoQ3Rvcik7XHJcbiAgICB9XHJcbiAgICAvLyBpZiBhdCB0aGlzIHN0YWdlIGl0J3Mgbm90IGEgY29uc3RydWN0b3Igb3IgYW4gYXN5bmMgY29tcG9uZW50IGZhY3RvcnksXHJcbiAgICAvLyByZWplY3QuXHJcbiAgICBpZiAodHlwZW9mIEN0b3IgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICB3YXJuKFwiSW52YWxpZCBDb21wb25lbnQgZGVmaW5pdGlvbjogXCIuY29uY2F0KFN0cmluZyhDdG9yKSksIGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBhc3luYyBjb21wb25lbnRcclxuICAgIHZhciBhc3luY0ZhY3Rvcnk7XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICBpZiAoaXNVbmRlZihDdG9yLmNpZCkpIHtcclxuICAgICAgICBhc3luY0ZhY3RvcnkgPSBDdG9yO1xyXG4gICAgICAgIEN0b3IgPSByZXNvbHZlQXN5bmNDb21wb25lbnQoYXN5bmNGYWN0b3J5LCBiYXNlQ3Rvcik7XHJcbiAgICAgICAgaWYgKEN0b3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gYSBwbGFjZWhvbGRlciBub2RlIGZvciBhc3luYyBjb21wb25lbnQsIHdoaWNoIGlzIHJlbmRlcmVkXHJcbiAgICAgICAgICAgIC8vIGFzIGEgY29tbWVudCBub2RlIGJ1dCBwcmVzZXJ2ZXMgYWxsIHRoZSByYXcgaW5mb3JtYXRpb24gZm9yIHRoZSBub2RlLlxyXG4gICAgICAgICAgICAvLyB0aGUgaW5mb3JtYXRpb24gd2lsbCBiZSB1c2VkIGZvciBhc3luYyBzZXJ2ZXItcmVuZGVyaW5nIGFuZCBoeWRyYXRpb24uXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVBc3luY1BsYWNlaG9sZGVyKGFzeW5jRmFjdG9yeSwgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4sIHRhZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZGF0YSA9IGRhdGEgfHwge307XHJcbiAgICAvLyByZXNvbHZlIGNvbnN0cnVjdG9yIG9wdGlvbnMgaW4gY2FzZSBnbG9iYWwgbWl4aW5zIGFyZSBhcHBsaWVkIGFmdGVyXHJcbiAgICAvLyBjb21wb25lbnQgY29uc3RydWN0b3IgY3JlYXRpb25cclxuICAgIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcik7XHJcbiAgICAvLyB0cmFuc2Zvcm0gY29tcG9uZW50IHYtbW9kZWwgZGF0YSBpbnRvIHByb3BzICYgZXZlbnRzXHJcbiAgICBpZiAoaXNEZWYoZGF0YS5tb2RlbCkpIHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgdHJhbnNmb3JtTW9kZWwoQ3Rvci5vcHRpb25zLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8vIGV4dHJhY3QgcHJvcHNcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIHZhciBwcm9wc0RhdGEgPSBleHRyYWN0UHJvcHNGcm9tVk5vZGVEYXRhKGRhdGEsIEN0b3IsIHRhZyk7XHJcbiAgICAvLyBmdW5jdGlvbmFsIGNvbXBvbmVudFxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgaWYgKGlzVHJ1ZShDdG9yLm9wdGlvbnMuZnVuY3Rpb25hbCkpIHtcclxuICAgICAgICByZXR1cm4gY3JlYXRlRnVuY3Rpb25hbENvbXBvbmVudChDdG9yLCBwcm9wc0RhdGEsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIC8vIGV4dHJhY3QgbGlzdGVuZXJzLCBzaW5jZSB0aGVzZSBuZWVkcyB0byBiZSB0cmVhdGVkIGFzXHJcbiAgICAvLyBjaGlsZCBjb21wb25lbnQgbGlzdGVuZXJzIGluc3RlYWQgb2YgRE9NIGxpc3RlbmVyc1xyXG4gICAgdmFyIGxpc3RlbmVycyA9IGRhdGEub247XHJcbiAgICAvLyByZXBsYWNlIHdpdGggbGlzdGVuZXJzIHdpdGggLm5hdGl2ZSBtb2RpZmllclxyXG4gICAgLy8gc28gaXQgZ2V0cyBwcm9jZXNzZWQgZHVyaW5nIHBhcmVudCBjb21wb25lbnQgcGF0Y2guXHJcbiAgICBkYXRhLm9uID0gZGF0YS5uYXRpdmVPbjtcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIGlmIChpc1RydWUoQ3Rvci5vcHRpb25zLmFic3RyYWN0KSkge1xyXG4gICAgICAgIC8vIGFic3RyYWN0IGNvbXBvbmVudHMgZG8gbm90IGtlZXAgYW55dGhpbmdcclxuICAgICAgICAvLyBvdGhlciB0aGFuIHByb3BzICYgbGlzdGVuZXJzICYgc2xvdFxyXG4gICAgICAgIC8vIHdvcmsgYXJvdW5kIGZsb3dcclxuICAgICAgICB2YXIgc2xvdCA9IGRhdGEuc2xvdDtcclxuICAgICAgICBkYXRhID0ge307XHJcbiAgICAgICAgaWYgKHNsb3QpIHtcclxuICAgICAgICAgICAgZGF0YS5zbG90ID0gc2xvdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBpbnN0YWxsIGNvbXBvbmVudCBtYW5hZ2VtZW50IGhvb2tzIG9udG8gdGhlIHBsYWNlaG9sZGVyIG5vZGVcclxuICAgIGluc3RhbGxDb21wb25lbnRIb29rcyhkYXRhKTtcclxuICAgIC8vIHJldHVybiBhIHBsYWNlaG9sZGVyIHZub2RlXHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICB2YXIgbmFtZSA9IEN0b3Iub3B0aW9ucy5uYW1lIHx8IHRhZztcclxuICAgIHZhciB2bm9kZSA9IG5ldyBWTm9kZShcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIFwidnVlLWNvbXBvbmVudC1cIi5jb25jYXQoQ3Rvci5jaWQpLmNvbmNhdChuYW1lID8gXCItXCIuY29uY2F0KG5hbWUpIDogJycpLCBkYXRhLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb250ZXh0LCBcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIHsgQ3RvcjogQ3RvciwgcHJvcHNEYXRhOiBwcm9wc0RhdGEsIGxpc3RlbmVyczogbGlzdGVuZXJzLCB0YWc6IHRhZywgY2hpbGRyZW46IGNoaWxkcmVuIH0sIGFzeW5jRmFjdG9yeSk7XHJcbiAgICByZXR1cm4gdm5vZGU7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZShcclxuLy8gd2Uga25vdyBpdCdzIE1vdW50ZWRDb21wb25lbnRWTm9kZSBidXQgZmxvdyBkb2Vzbid0XHJcbnZub2RlLCBcclxuLy8gYWN0aXZlSW5zdGFuY2UgaW4gbGlmZWN5Y2xlIHN0YXRlXHJcbnBhcmVudCkge1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7XHJcbiAgICAgICAgX2lzQ29tcG9uZW50OiB0cnVlLFxyXG4gICAgICAgIF9wYXJlbnRWbm9kZTogdm5vZGUsXHJcbiAgICAgICAgcGFyZW50OiBwYXJlbnRcclxuICAgIH07XHJcbiAgICAvLyBjaGVjayBpbmxpbmUtdGVtcGxhdGUgcmVuZGVyIGZ1bmN0aW9uc1xyXG4gICAgdmFyIGlubGluZVRlbXBsYXRlID0gdm5vZGUuZGF0YS5pbmxpbmVUZW1wbGF0ZTtcclxuICAgIGlmIChpc0RlZihpbmxpbmVUZW1wbGF0ZSkpIHtcclxuICAgICAgICBvcHRpb25zLnJlbmRlciA9IGlubGluZVRlbXBsYXRlLnJlbmRlcjtcclxuICAgICAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IGlubGluZVRlbXBsYXRlLnN0YXRpY1JlbmRlckZucztcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgdm5vZGUuY29tcG9uZW50T3B0aW9ucy5DdG9yKG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIGluc3RhbGxDb21wb25lbnRIb29rcyhkYXRhKSB7XHJcbiAgICB2YXIgaG9va3MgPSBkYXRhLmhvb2sgfHwgKGRhdGEuaG9vayA9IHt9KTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9va3NUb01lcmdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IGhvb2tzVG9NZXJnZVtpXTtcclxuICAgICAgICB2YXIgZXhpc3RpbmcgPSBob29rc1trZXldO1xyXG4gICAgICAgIHZhciB0b01lcmdlID0gY29tcG9uZW50Vk5vZGVIb29rc1trZXldO1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICBpZiAoZXhpc3RpbmcgIT09IHRvTWVyZ2UgJiYgIShleGlzdGluZyAmJiBleGlzdGluZy5fbWVyZ2VkKSkge1xyXG4gICAgICAgICAgICBob29rc1trZXldID0gZXhpc3RpbmcgPyBtZXJnZUhvb2sodG9NZXJnZSwgZXhpc3RpbmcpIDogdG9NZXJnZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gbWVyZ2VIb29rKGYxLCBmMikge1xyXG4gICAgdmFyIG1lcmdlZCA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgLy8gZmxvdyBjb21wbGFpbnMgYWJvdXQgZXh0cmEgYXJncyB3aGljaCBpcyB3aHkgd2UgdXNlIGFueVxyXG4gICAgICAgIGYxKGEsIGIpO1xyXG4gICAgICAgIGYyKGEsIGIpO1xyXG4gICAgfTtcclxuICAgIG1lcmdlZC5fbWVyZ2VkID0gdHJ1ZTtcclxuICAgIHJldHVybiBtZXJnZWQ7XHJcbn1cclxuLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGluZm8gKHZhbHVlIGFuZCBjYWxsYmFjaykgaW50b1xyXG4vLyBwcm9wIGFuZCBldmVudCBoYW5kbGVyIHJlc3BlY3RpdmVseS5cclxuZnVuY3Rpb24gdHJhbnNmb3JtTW9kZWwob3B0aW9ucywgZGF0YSkge1xyXG4gICAgdmFyIHByb3AgPSAob3B0aW9ucy5tb2RlbCAmJiBvcHRpb25zLm1vZGVsLnByb3ApIHx8ICd2YWx1ZSc7XHJcbiAgICB2YXIgZXZlbnQgPSAob3B0aW9ucy5tb2RlbCAmJiBvcHRpb25zLm1vZGVsLmV2ZW50KSB8fCAnaW5wdXQnO1xyXG4gICAgKGRhdGEuYXR0cnMgfHwgKGRhdGEuYXR0cnMgPSB7fSkpW3Byb3BdID0gZGF0YS5tb2RlbC52YWx1ZTtcclxuICAgIHZhciBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7XHJcbiAgICB2YXIgZXhpc3RpbmcgPSBvbltldmVudF07XHJcbiAgICB2YXIgY2FsbGJhY2sgPSBkYXRhLm1vZGVsLmNhbGxiYWNrO1xyXG4gICAgaWYgKGlzRGVmKGV4aXN0aW5nKSkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KGV4aXN0aW5nKVxyXG4gICAgICAgICAgICA/IGV4aXN0aW5nLmluZGV4T2YoY2FsbGJhY2spID09PSAtMVxyXG4gICAgICAgICAgICA6IGV4aXN0aW5nICE9PSBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBvbltldmVudF0gPSBbY2FsbGJhY2tdLmNvbmNhdChleGlzdGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgb25bZXZlbnRdID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcbn1cblxudmFyIFNJTVBMRV9OT1JNQUxJWkUgPSAxO1xyXG52YXIgQUxXQVlTX05PUk1BTElaRSA9IDI7XHJcbi8vIHdyYXBwZXIgZnVuY3Rpb24gZm9yIHByb3ZpZGluZyBhIG1vcmUgZmxleGlibGUgaW50ZXJmYWNlXHJcbi8vIHdpdGhvdXQgZ2V0dGluZyB5ZWxsZWQgYXQgYnkgZmxvd1xyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50JDEoY29udGV4dCwgdGFnLCBkYXRhLCBjaGlsZHJlbiwgbm9ybWFsaXphdGlvblR5cGUsIGFsd2F5c05vcm1hbGl6ZSkge1xyXG4gICAgaWYgKGlzQXJyYXkoZGF0YSkgfHwgaXNQcmltaXRpdmUoZGF0YSkpIHtcclxuICAgICAgICBub3JtYWxpemF0aW9uVHlwZSA9IGNoaWxkcmVuO1xyXG4gICAgICAgIGNoaWxkcmVuID0gZGF0YTtcclxuICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzVHJ1ZShhbHdheXNOb3JtYWxpemUpKSB7XHJcbiAgICAgICAgbm9ybWFsaXphdGlvblR5cGUgPSBBTFdBWVNfTk9STUFMSVpFO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9jcmVhdGVFbGVtZW50KGNvbnRleHQsIHRhZywgZGF0YSwgY2hpbGRyZW4sIG5vcm1hbGl6YXRpb25UeXBlKTtcclxufVxyXG5mdW5jdGlvbiBfY3JlYXRlRWxlbWVudChjb250ZXh0LCB0YWcsIGRhdGEsIGNoaWxkcmVuLCBub3JtYWxpemF0aW9uVHlwZSkge1xyXG4gICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEuX19vYl9fKSkge1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgd2FybihcIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShkYXRhKSwgXCJcXG5cIikgKyAnQWx3YXlzIGNyZWF0ZSBmcmVzaCB2bm9kZSBkYXRhIG9iamVjdHMgaW4gZWFjaCByZW5kZXIhJywgY29udGV4dCk7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKTtcclxuICAgIH1cclxuICAgIC8vIG9iamVjdCBzeW50YXggaW4gdi1iaW5kXHJcbiAgICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNEZWYoZGF0YS5pcykpIHtcclxuICAgICAgICB0YWcgPSBkYXRhLmlzO1xyXG4gICAgfVxyXG4gICAgaWYgKCF0YWcpIHtcclxuICAgICAgICAvLyBpbiBjYXNlIG9mIGNvbXBvbmVudCA6aXMgc2V0IHRvIGZhbHN5IHZhbHVlXHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKTtcclxuICAgIH1cclxuICAgIC8vIHdhcm4gYWdhaW5zdCBub24tcHJpbWl0aXZlIGtleVxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNEZWYoZGF0YSkgJiYgaXNEZWYoZGF0YS5rZXkpICYmICFpc1ByaW1pdGl2ZShkYXRhLmtleSkpIHtcclxuICAgICAgICB3YXJuKCdBdm9pZCB1c2luZyBub24tcHJpbWl0aXZlIHZhbHVlIGFzIGtleSwgJyArXHJcbiAgICAgICAgICAgICd1c2Ugc3RyaW5nL251bWJlciB2YWx1ZSBpbnN0ZWFkLicsIGNvbnRleHQpO1xyXG4gICAgfVxyXG4gICAgLy8gc3VwcG9ydCBzaW5nbGUgZnVuY3Rpb24gY2hpbGRyZW4gYXMgZGVmYXVsdCBzY29wZWQgc2xvdFxyXG4gICAgaWYgKGlzQXJyYXkoY2hpbGRyZW4pICYmIGlzRnVuY3Rpb24oY2hpbGRyZW5bMF0pKSB7XHJcbiAgICAgICAgZGF0YSA9IGRhdGEgfHwge307XHJcbiAgICAgICAgZGF0YS5zY29wZWRTbG90cyA9IHsgZGVmYXVsdDogY2hpbGRyZW5bMF0gfTtcclxuICAgICAgICBjaGlsZHJlbi5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG4gICAgaWYgKG5vcm1hbGl6YXRpb25UeXBlID09PSBBTFdBWVNfTk9STUFMSVpFKSB7XHJcbiAgICAgICAgY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChub3JtYWxpemF0aW9uVHlwZSA9PT0gU0lNUExFX05PUk1BTElaRSkge1xyXG4gICAgICAgIGNoaWxkcmVuID0gc2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pO1xyXG4gICAgfVxyXG4gICAgdmFyIHZub2RlLCBucztcclxuICAgIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHZhciBDdG9yID0gdm9pZCAwO1xyXG4gICAgICAgIG5zID0gKGNvbnRleHQuJHZub2RlICYmIGNvbnRleHQuJHZub2RlLm5zKSB8fCBjb25maWcuZ2V0VGFnTmFtZXNwYWNlKHRhZyk7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5pc1Jlc2VydmVkVGFnKHRhZykpIHtcclxuICAgICAgICAgICAgLy8gcGxhdGZvcm0gYnVpbHQtaW4gZWxlbWVudHNcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIGlzRGVmKGRhdGEpICYmXHJcbiAgICAgICAgICAgICAgICBpc0RlZihkYXRhLm5hdGl2ZU9uKSAmJlxyXG4gICAgICAgICAgICAgICAgZGF0YS50YWcgIT09ICdjb21wb25lbnQnKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiVGhlIC5uYXRpdmUgbW9kaWZpZXIgZm9yIHYtb24gaXMgb25seSB2YWxpZCBvbiBjb21wb25lbnRzIGJ1dCBpdCB3YXMgdXNlZCBvbiA8XCIuY29uY2F0KHRhZywgXCI+LlwiKSwgY29udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm5vZGUgPSBuZXcgVk5vZGUoY29uZmlnLnBhcnNlUGxhdGZvcm1UYWdOYW1lKHRhZyksIGRhdGEsIGNoaWxkcmVuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCghZGF0YSB8fCAhZGF0YS5wcmUpICYmXHJcbiAgICAgICAgICAgIGlzRGVmKChDdG9yID0gcmVzb2x2ZUFzc2V0KGNvbnRleHQuJG9wdGlvbnMsICdjb21wb25lbnRzJywgdGFnKSkpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbXBvbmVudFxyXG4gICAgICAgICAgICB2bm9kZSA9IGNyZWF0ZUNvbXBvbmVudChDdG9yLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbiwgdGFnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHVua25vd24gb3IgdW5saXN0ZWQgbmFtZXNwYWNlZCBlbGVtZW50c1xyXG4gICAgICAgICAgICAvLyBjaGVjayBhdCBydW50aW1lIGJlY2F1c2UgaXQgbWF5IGdldCBhc3NpZ25lZCBhIG5hbWVzcGFjZSB3aGVuIGl0c1xyXG4gICAgICAgICAgICAvLyBwYXJlbnQgbm9ybWFsaXplcyBjaGlsZHJlblxyXG4gICAgICAgICAgICB2bm9kZSA9IG5ldyBWTm9kZSh0YWcsIGRhdGEsIGNoaWxkcmVuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gZGlyZWN0IGNvbXBvbmVudCBvcHRpb25zIC8gY29uc3RydWN0b3JcclxuICAgICAgICB2bm9kZSA9IGNyZWF0ZUNvbXBvbmVudCh0YWcsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHZub2RlKSkge1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRGVmKHZub2RlKSkge1xyXG4gICAgICAgIGlmIChpc0RlZihucykpXHJcbiAgICAgICAgICAgIGFwcGx5TlModm5vZGUsIG5zKTtcclxuICAgICAgICBpZiAoaXNEZWYoZGF0YSkpXHJcbiAgICAgICAgICAgIHJlZ2lzdGVyRGVlcEJpbmRpbmdzKGRhdGEpO1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBjcmVhdGVFbXB0eVZOb2RlKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlOUyh2bm9kZSwgbnMsIGZvcmNlKSB7XHJcbiAgICB2bm9kZS5ucyA9IG5zO1xyXG4gICAgaWYgKHZub2RlLnRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XHJcbiAgICAgICAgLy8gdXNlIGRlZmF1bHQgbmFtZXNwYWNlIGluc2lkZSBmb3JlaWduT2JqZWN0XHJcbiAgICAgICAgbnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgZm9yY2UgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzRGVmKHZub2RlLmNoaWxkcmVuKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHZub2RlLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoY2hpbGQudGFnKSAmJlxyXG4gICAgICAgICAgICAgICAgKGlzVW5kZWYoY2hpbGQubnMpIHx8IChpc1RydWUoZm9yY2UpICYmIGNoaWxkLnRhZyAhPT0gJ3N2ZycpKSkge1xyXG4gICAgICAgICAgICAgICAgYXBwbHlOUyhjaGlsZCwgbnMsIGZvcmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyByZWYgIzUzMThcclxuLy8gbmVjZXNzYXJ5IHRvIGVuc3VyZSBwYXJlbnQgcmUtcmVuZGVyIHdoZW4gZGVlcCBiaW5kaW5ncyBsaWtlIDpzdHlsZSBhbmRcclxuLy8gOmNsYXNzIGFyZSB1c2VkIG9uIHNsb3Qgbm9kZXNcclxuZnVuY3Rpb24gcmVnaXN0ZXJEZWVwQmluZGluZ3MoZGF0YSkge1xyXG4gICAgaWYgKGlzT2JqZWN0KGRhdGEuc3R5bGUpKSB7XHJcbiAgICAgICAgdHJhdmVyc2UoZGF0YS5zdHlsZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNPYmplY3QoZGF0YS5jbGFzcykpIHtcclxuICAgICAgICB0cmF2ZXJzZShkYXRhLmNsYXNzKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBpbml0U2V0dXAodm0pIHtcclxuICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XHJcbiAgICB2YXIgc2V0dXAgPSBvcHRpb25zLnNldHVwO1xyXG4gICAgaWYgKHNldHVwKSB7XHJcbiAgICAgICAgdmFyIGN0eCA9ICh2bS5fc2V0dXBDb250ZXh0ID0gY3JlYXRlU2V0dXBDb250ZXh0KHZtKSk7XHJcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKHZtKTtcclxuICAgICAgICBwdXNoVGFyZ2V0KCk7XHJcbiAgICAgICAgdmFyIHNldHVwUmVzdWx0ID0gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoc2V0dXAsIG51bGwsIFt2bS5fcHJvcHMgfHwgc2hhbGxvd1JlYWN0aXZlKHt9KSwgY3R4XSwgdm0sIFwic2V0dXBcIik7XHJcbiAgICAgICAgcG9wVGFyZ2V0KCk7XHJcbiAgICAgICAgc2V0Q3VycmVudEluc3RhbmNlKCk7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbmRlciBmdW5jdGlvblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIG9wdGlvbnMucmVuZGVyID0gc2V0dXBSZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xyXG4gICAgICAgICAgICAvLyBiaW5kaW5nc1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzZXR1cFJlc3VsdCBpbnN0YW5jZW9mIFZOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwic2V0dXAoKSBzaG91bGQgbm90IHJldHVybiBWTm9kZXMgZGlyZWN0bHkgLSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyZXR1cm4gYSByZW5kZXIgZnVuY3Rpb24gaW5zdGVhZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm0uX3NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcclxuICAgICAgICAgICAgLy8gX19zZmMgaW5kaWNhdGVzIGNvbXBpbGVkIGJpbmRpbmdzIGZyb20gPHNjcmlwdCBzZXR1cD5cclxuICAgICAgICAgICAgaWYgKCFzZXR1cFJlc3VsdC5fX3NmYykge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNldHVwUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Jlc2VydmVkKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHlXaXRoUmVmVW53cmFwKHZtLCBzZXR1cFJlc3VsdCwga2V5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKFwiQXZvaWQgdXNpbmcgdmFyaWFibGVzIHRoYXQgc3RhcnQgd2l0aCBfIG9yICQgaW4gc2V0dXAoKS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gZXhwb3NlZCBmb3IgY29tcGlsZWQgcmVuZGVyIGZuXHJcbiAgICAgICAgICAgICAgICB2YXIgcHJveHkgPSAodm0uX3NldHVwUHJveHkgPSB7fSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc2V0dXBSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSAnX19zZmMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5V2l0aFJlZlVud3JhcChwcm94eSwgc2V0dXBSZXN1bHQsIGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc2V0dXBSZXN1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB3YXJuKFwic2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6IFwiLmNvbmNhdChzZXR1cFJlc3VsdCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBzZXR1cFJlc3VsdCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQodm0pIHtcclxuICAgIHZhciBleHBvc2VDYWxsZWQgPSBmYWxzZTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0IGF0dHJzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5pdEF0dHJzUHJveHkodm0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IHNsb3RzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW5pdFNsb3RzUHJveHkodm0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1pdDogYmluZCh2bS4kZW1pdCwgdm0pLFxyXG4gICAgICAgIGV4cG9zZTogZnVuY3Rpb24gKGV4cG9zZWQpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChleHBvc2VDYWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiZXhwb3NlKCkgc2hvdWxkIGJlIGNhbGxlZCBvbmx5IG9uY2UgcGVyIHNldHVwKCkuXCIsIHZtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV4cG9zZUNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV4cG9zZWQpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGV4cG9zZWQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm94eVdpdGhSZWZVbndyYXAodm0sIGV4cG9zZWQsIGtleSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW5pdEF0dHJzUHJveHkodm0pIHtcclxuICAgIGlmICghdm0uX2F0dHJzUHJveHkpIHtcclxuICAgICAgICB2YXIgcHJveHkgPSAodm0uX2F0dHJzUHJveHkgPSB7fSk7XHJcbiAgICAgICAgZGVmKHByb3h5LCAnX3ZfYXR0cl9wcm94eScsIHRydWUpO1xyXG4gICAgICAgIHN5bmNTZXR1cEF0dHJzKHByb3h5LCB2bS4kYXR0cnMsIGVtcHR5T2JqZWN0LCB2bSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm0uX2F0dHJzUHJveHk7XHJcbn1cclxuZnVuY3Rpb24gc3luY1NldHVwQXR0cnModG8sIGZyb20sIHByZXYsIGluc3RhbmNlKSB7XHJcbiAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGZyb20pIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gdG8pKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBkZWZpbmVQcm94eUF0dHIodG8sIGtleSwgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmcm9tW2tleV0gIT09IHByZXZba2V5XSkge1xyXG4gICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gdG8pIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0b1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjaGFuZ2VkO1xyXG59XHJcbmZ1bmN0aW9uIGRlZmluZVByb3h5QXR0cihwcm94eSwga2V5LCBpbnN0YW5jZSkge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCBrZXksIHtcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLiRhdHRyc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGluaXRTbG90c1Byb3h5KHZtKSB7XHJcbiAgICBpZiAoIXZtLl9zbG90c1Byb3h5KSB7XHJcbiAgICAgICAgc3luY1NldHVwU2xvdHMoKHZtLl9zbG90c1Byb3h5ID0ge30pLCB2bS4kc2NvcGVkU2xvdHMpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZtLl9zbG90c1Byb3h5O1xyXG59XHJcbmZ1bmN0aW9uIHN5bmNTZXR1cFNsb3RzKHRvLCBmcm9tKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xyXG4gICAgICAgIHRvW2tleV0gPSBmcm9tW2tleV07XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gdG8pIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHRvW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWwgdXNlIG1hbnVhbCB0eXBlIGRlZlxyXG4gKi9cclxuZnVuY3Rpb24gdXNlU2xvdHMoKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLnNsb3RzO1xyXG59XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWwgdXNlIG1hbnVhbCB0eXBlIGRlZlxyXG4gKi9cclxuZnVuY3Rpb24gdXNlQXR0cnMoKSB7XHJcbiAgICByZXR1cm4gZ2V0Q29udGV4dCgpLmF0dHJzO1xyXG59XHJcbmZ1bmN0aW9uIGdldENvbnRleHQoKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgd2FybihcInVzZUNvbnRleHQoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIHZtID0gY3VycmVudEluc3RhbmNlO1xyXG4gICAgcmV0dXJuIHZtLl9zZXR1cENvbnRleHQgfHwgKHZtLl9zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQodm0pKTtcclxufVxyXG4vKipcclxuICogUnVudGltZSBoZWxwZXIgZm9yIG1lcmdpbmcgZGVmYXVsdCBkZWNsYXJhdGlvbnMuIEltcG9ydGVkIGJ5IGNvbXBpbGVkIGNvZGVcclxuICogb25seS5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXJnZURlZmF1bHRzKHJhdywgZGVmYXVsdHMpIHtcclxuICAgIHZhciBwcm9wcyA9IGlzQXJyYXkocmF3KVxyXG4gICAgICAgID8gcmF3LnJlZHVjZShmdW5jdGlvbiAobm9ybWFsaXplZCwgcCkgeyByZXR1cm4gKChub3JtYWxpemVkW3BdID0ge30pLCBub3JtYWxpemVkKTsgfSwge30pXHJcbiAgICAgICAgOiByYXc7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdHMpIHtcclxuICAgICAgICB2YXIgb3B0ID0gcHJvcHNba2V5XTtcclxuICAgICAgICBpZiAob3B0KSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldID0geyB0eXBlOiBvcHQsIGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG9wdC5kZWZhdWx0ID0gZGVmYXVsdHNba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvcHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcHJvcHNba2V5XSA9IHsgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJwcm9wcyBkZWZhdWx0IGtleSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGhhcyBubyBjb3JyZXNwb25kaW5nIGRlY2xhcmF0aW9uLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByb3BzO1xyXG59XG5cbmZ1bmN0aW9uIGluaXRSZW5kZXIodm0pIHtcclxuICAgIHZtLl92bm9kZSA9IG51bGw7IC8vIHRoZSByb290IG9mIHRoZSBjaGlsZCB0cmVlXHJcbiAgICB2bS5fc3RhdGljVHJlZXMgPSBudWxsOyAvLyB2LW9uY2UgY2FjaGVkIHRyZWVzXHJcbiAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zO1xyXG4gICAgdmFyIHBhcmVudFZub2RlID0gKHZtLiR2bm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlKTsgLy8gdGhlIHBsYWNlaG9sZGVyIG5vZGUgaW4gcGFyZW50IHRyZWVcclxuICAgIHZhciByZW5kZXJDb250ZXh0ID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuY29udGV4dDtcclxuICAgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiwgcmVuZGVyQ29udGV4dCk7XHJcbiAgICB2bS4kc2NvcGVkU2xvdHMgPSBlbXB0eU9iamVjdDtcclxuICAgIC8vIGJpbmQgdGhlIGNyZWF0ZUVsZW1lbnQgZm4gdG8gdGhpcyBpbnN0YW5jZVxyXG4gICAgLy8gc28gdGhhdCB3ZSBnZXQgcHJvcGVyIHJlbmRlciBjb250ZXh0IGluc2lkZSBpdC5cclxuICAgIC8vIGFyZ3Mgb3JkZXI6IHRhZywgZGF0YSwgY2hpbGRyZW4sIG5vcm1hbGl6YXRpb25UeXBlLCBhbHdheXNOb3JtYWxpemVcclxuICAgIC8vIGludGVybmFsIHZlcnNpb24gaXMgdXNlZCBieSByZW5kZXIgZnVuY3Rpb25zIGNvbXBpbGVkIGZyb20gdGVtcGxhdGVzXHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICB2bS5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBjcmVhdGVFbGVtZW50JDEodm0sIGEsIGIsIGMsIGQsIGZhbHNlKTsgfTtcclxuICAgIC8vIG5vcm1hbGl6YXRpb24gaXMgYWx3YXlzIGFwcGxpZWQgZm9yIHRoZSBwdWJsaWMgdmVyc2lvbiwgdXNlZCBpblxyXG4gICAgLy8gdXNlci13cml0dGVuIHJlbmRlciBmdW5jdGlvbnMuXHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICB2bS4kY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBjcmVhdGVFbGVtZW50JDEodm0sIGEsIGIsIGMsIGQsIHRydWUpOyB9O1xyXG4gICAgLy8gJGF0dHJzICYgJGxpc3RlbmVycyBhcmUgZXhwb3NlZCBmb3IgZWFzaWVyIEhPQyBjcmVhdGlvbi5cclxuICAgIC8vIHRoZXkgbmVlZCB0byBiZSByZWFjdGl2ZSBzbyB0aGF0IEhPQ3MgdXNpbmcgdGhlbSBhcmUgYWx3YXlzIHVwZGF0ZWRcclxuICAgIHZhciBwYXJlbnREYXRhID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuZGF0YTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIGRlZmluZVJlYWN0aXZlKHZtLCAnJGF0dHJzJywgKHBhcmVudERhdGEgJiYgcGFyZW50RGF0YS5hdHRycykgfHwgZW1wdHlPYmplY3QsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgIWlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCAmJiB3YXJuKFwiJGF0dHJzIGlzIHJlYWRvbmx5LlwiLCB2bSk7XHJcbiAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgZGVmaW5lUmVhY3RpdmUodm0sICckbGlzdGVuZXJzJywgb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybihcIiRsaXN0ZW5lcnMgaXMgcmVhZG9ubHkuXCIsIHZtKTtcclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGRlZmluZVJlYWN0aXZlKHZtLCAnJGF0dHJzJywgKHBhcmVudERhdGEgJiYgcGFyZW50RGF0YS5hdHRycykgfHwgZW1wdHlPYmplY3QsIG51bGwsIHRydWUpO1xyXG4gICAgICAgIGRlZmluZVJlYWN0aXZlKHZtLCAnJGxpc3RlbmVycycsIG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyB8fCBlbXB0eU9iamVjdCwgbnVsbCwgdHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxudmFyIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XHJcbmZ1bmN0aW9uIHJlbmRlck1peGluKFZ1ZSkge1xyXG4gICAgLy8gaW5zdGFsbCBydW50aW1lIGNvbnZlbmllbmNlIGhlbHBlcnNcclxuICAgIGluc3RhbGxSZW5kZXJIZWxwZXJzKFZ1ZS5wcm90b3R5cGUpO1xyXG4gICAgVnVlLnByb3RvdHlwZS4kbmV4dFRpY2sgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICByZXR1cm4gbmV4dFRpY2soZm4sIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIFZ1ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZhciBfYSA9IHZtLiRvcHRpb25zLCByZW5kZXIgPSBfYS5yZW5kZXIsIF9wYXJlbnRWbm9kZSA9IF9hLl9wYXJlbnRWbm9kZTtcclxuICAgICAgICBpZiAoX3BhcmVudFZub2RlKSB7XHJcbiAgICAgICAgICAgIHZtLiRzY29wZWRTbG90cyA9IG5vcm1hbGl6ZVNjb3BlZFNsb3RzKHZtLiRwYXJlbnQsIF9wYXJlbnRWbm9kZS5kYXRhLnNjb3BlZFNsb3RzLCB2bS4kc2xvdHMsIHZtLiRzY29wZWRTbG90cyk7XHJcbiAgICAgICAgICAgIGlmICh2bS5fc2xvdHNQcm94eSkge1xyXG4gICAgICAgICAgICAgICAgc3luY1NldHVwU2xvdHModm0uX3Nsb3RzUHJveHksIHZtLiRzY29wZWRTbG90cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2V0IHBhcmVudCB2bm9kZS4gdGhpcyBhbGxvd3MgcmVuZGVyIGZ1bmN0aW9ucyB0byBoYXZlIGFjY2Vzc1xyXG4gICAgICAgIC8vIHRvIHRoZSBkYXRhIG9uIHRoZSBwbGFjZWhvbGRlciBub2RlLlxyXG4gICAgICAgIHZtLiR2bm9kZSA9IF9wYXJlbnRWbm9kZTtcclxuICAgICAgICAvLyByZW5kZXIgc2VsZlxyXG4gICAgICAgIHZhciB2bm9kZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIG5lZWQgdG8gbWFpbnRhaW4gYSBzdGFjayBiZWNhdXNlIGFsbCByZW5kZXIgZm5zIGFyZSBjYWxsZWRcclxuICAgICAgICAgICAgLy8gc2VwYXJhdGVseSBmcm9tIG9uZSBhbm90aGVyLiBOZXN0ZWQgY29tcG9uZW50J3MgcmVuZGVyIGZucyBhcmUgY2FsbGVkXHJcbiAgICAgICAgICAgIC8vIHdoZW4gcGFyZW50IGNvbXBvbmVudCBpcyBwYXRjaGVkLlxyXG4gICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2Uodm0pO1xyXG4gICAgICAgICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSB2bTtcclxuICAgICAgICAgICAgdm5vZGUgPSByZW5kZXIuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwicmVuZGVyXCIpO1xyXG4gICAgICAgICAgICAvLyByZXR1cm4gZXJyb3IgcmVuZGVyIHJlc3VsdCxcclxuICAgICAgICAgICAgLy8gb3IgcHJldmlvdXMgdm5vZGUgdG8gcHJldmVudCByZW5kZXIgZXJyb3IgY2F1c2luZyBibGFuayBjb21wb25lbnRcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdm0uJG9wdGlvbnMucmVuZGVyRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm5vZGUgPSB2bS4kb3B0aW9ucy5yZW5kZXJFcnJvci5jYWxsKHZtLl9yZW5kZXJQcm94eSwgdm0uJGNyZWF0ZUVsZW1lbnQsIGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvcihlLCB2bSwgXCJyZW5kZXJFcnJvclwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZSA9IHZtLl92bm9kZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlID0gdm0uX3Zub2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xyXG4gICAgICAgICAgICBzZXRDdXJyZW50SW5zdGFuY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgdGhlIHJldHVybmVkIGFycmF5IGNvbnRhaW5zIG9ubHkgYSBzaW5nbGUgbm9kZSwgYWxsb3cgaXRcclxuICAgICAgICBpZiAoaXNBcnJheSh2bm9kZSkgJiYgdm5vZGUubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHZub2RlID0gdm5vZGVbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJldHVybiBlbXB0eSB2bm9kZSBpbiBjYXNlIHRoZSByZW5kZXIgZnVuY3Rpb24gZXJyb3JlZCBvdXRcclxuICAgICAgICBpZiAoISh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSkge1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBpc0FycmF5KHZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgd2FybignTXVsdGlwbGUgcm9vdCBub2RlcyByZXR1cm5lZCBmcm9tIHJlbmRlciBmdW5jdGlvbi4gUmVuZGVyIGZ1bmN0aW9uICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdzaG91bGQgcmV0dXJuIGEgc2luZ2xlIHJvb3Qgbm9kZS4nLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdm5vZGUgPSBjcmVhdGVFbXB0eVZOb2RlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNldCBwYXJlbnRcclxuICAgICAgICB2bm9kZS5wYXJlbnQgPSBfcGFyZW50Vm5vZGU7XHJcbiAgICAgICAgcmV0dXJuIHZub2RlO1xyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBlbnN1cmVDdG9yKGNvbXAsIGJhc2UpIHtcclxuICAgIGlmIChjb21wLl9fZXNNb2R1bGUgfHwgKGhhc1N5bWJvbCAmJiBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKSkge1xyXG4gICAgICAgIGNvbXAgPSBjb21wLmRlZmF1bHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNPYmplY3QoY29tcCkgPyBiYXNlLmV4dGVuZChjb21wKSA6IGNvbXA7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQXN5bmNQbGFjZWhvbGRlcihmYWN0b3J5LCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbiwgdGFnKSB7XHJcbiAgICB2YXIgbm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTtcclxuICAgIG5vZGUuYXN5bmNGYWN0b3J5ID0gZmFjdG9yeTtcclxuICAgIG5vZGUuYXN5bmNNZXRhID0geyBkYXRhOiBkYXRhLCBjb250ZXh0OiBjb250ZXh0LCBjaGlsZHJlbjogY2hpbGRyZW4sIHRhZzogdGFnIH07XHJcbiAgICByZXR1cm4gbm9kZTtcclxufVxyXG5mdW5jdGlvbiByZXNvbHZlQXN5bmNDb21wb25lbnQoZmFjdG9yeSwgYmFzZUN0b3IpIHtcclxuICAgIGlmIChpc1RydWUoZmFjdG9yeS5lcnJvcikgJiYgaXNEZWYoZmFjdG9yeS5lcnJvckNvbXApKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkuZXJyb3JDb21wO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzRGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkucmVzb2x2ZWQ7XHJcbiAgICB9XHJcbiAgICB2YXIgb3duZXIgPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XHJcbiAgICBpZiAob3duZXIgJiYgaXNEZWYoZmFjdG9yeS5vd25lcnMpICYmIGZhY3Rvcnkub3duZXJzLmluZGV4T2Yob3duZXIpID09PSAtMSkge1xyXG4gICAgICAgIC8vIGFscmVhZHkgcGVuZGluZ1xyXG4gICAgICAgIGZhY3Rvcnkub3duZXJzLnB1c2gob3duZXIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzVHJ1ZShmYWN0b3J5LmxvYWRpbmcpICYmIGlzRGVmKGZhY3RvcnkubG9hZGluZ0NvbXApKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZ0NvbXA7XHJcbiAgICB9XHJcbiAgICBpZiAob3duZXIgJiYgIWlzRGVmKGZhY3Rvcnkub3duZXJzKSkge1xyXG4gICAgICAgIHZhciBvd25lcnNfMSA9IChmYWN0b3J5Lm93bmVycyA9IFtvd25lcl0pO1xyXG4gICAgICAgIHZhciBzeW5jXzEgPSB0cnVlO1xyXG4gICAgICAgIHZhciB0aW1lckxvYWRpbmdfMSA9IG51bGw7XHJcbiAgICAgICAgdmFyIHRpbWVyVGltZW91dF8xID0gbnVsbDtcclxuICAgICAgICBvd25lci4kb24oJ2hvb2s6ZGVzdHJveWVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlJDIob3duZXJzXzEsIG93bmVyKTsgfSk7XHJcbiAgICAgICAgdmFyIGZvcmNlUmVuZGVyXzEgPSBmdW5jdGlvbiAocmVuZGVyQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gb3duZXJzXzEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBvd25lcnNfMVtpXS4kZm9yY2VVcGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVuZGVyQ29tcGxldGVkKSB7XHJcbiAgICAgICAgICAgICAgICBvd25lcnNfMS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVyTG9hZGluZ18xICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyTG9hZGluZ18xKTtcclxuICAgICAgICAgICAgICAgICAgICB0aW1lckxvYWRpbmdfMSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGltZXJUaW1lb3V0XzEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJUaW1lb3V0XzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVyVGltZW91dF8xID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHJlc29sdmUgPSBvbmNlKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgLy8gY2FjaGUgcmVzb2x2ZWRcclxuICAgICAgICAgICAgZmFjdG9yeS5yZXNvbHZlZCA9IGVuc3VyZUN0b3IocmVzLCBiYXNlQ3Rvcik7XHJcbiAgICAgICAgICAgIC8vIGludm9rZSBjYWxsYmFja3Mgb25seSBpZiB0aGlzIGlzIG5vdCBhIHN5bmNocm9ub3VzIHJlc29sdmVcclxuICAgICAgICAgICAgLy8gKGFzeW5jIHJlc29sdmVzIGFyZSBzaGltbWVkIGFzIHN5bmNocm9ub3VzIGR1cmluZyBTU1IpXHJcbiAgICAgICAgICAgIGlmICghc3luY18xKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcl8xKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3duZXJzXzEubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciByZWplY3RfMSA9IG9uY2UoZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiRmFpbGVkIHRvIHJlc29sdmUgYXN5bmMgY29tcG9uZW50OiBcIi5jb25jYXQoU3RyaW5nKGZhY3RvcnkpKSArXHJcbiAgICAgICAgICAgICAgICAgICAgKHJlYXNvbiA/IFwiXFxuUmVhc29uOiBcIi5jb25jYXQocmVhc29uKSA6ICcnKSk7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZihmYWN0b3J5LmVycm9yQ29tcCkpIHtcclxuICAgICAgICAgICAgICAgIGZhY3RvcnkuZXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZm9yY2VSZW5kZXJfMSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciByZXNfMSA9IGZhY3RvcnkocmVzb2x2ZSwgcmVqZWN0XzEpO1xyXG4gICAgICAgIGlmIChpc09iamVjdChyZXNfMSkpIHtcclxuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShyZXNfMSkpIHtcclxuICAgICAgICAgICAgICAgIC8vICgpID0+IFByb21pc2VcclxuICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzXzEudGhlbihyZXNvbHZlLCByZWplY3RfMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNQcm9taXNlKHJlc18xLmNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJlc18xLmNvbXBvbmVudC50aGVuKHJlc29sdmUsIHJlamVjdF8xKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0RlZihyZXNfMS5lcnJvcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBmYWN0b3J5LmVycm9yQ29tcCA9IGVuc3VyZUN0b3IocmVzXzEuZXJyb3IsIGJhc2VDdG9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc0RlZihyZXNfMS5sb2FkaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhY3RvcnkubG9hZGluZ0NvbXAgPSBlbnN1cmVDdG9yKHJlc18xLmxvYWRpbmcsIGJhc2VDdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzXzEuZGVsYXkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFjdG9yeS5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgTm9kZUpTIHRpbWVvdXQgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lckxvYWRpbmdfMSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJMb2FkaW5nXzEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkgJiYgaXNVbmRlZihmYWN0b3J5LmVycm9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhY3RvcnkubG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VSZW5kZXJfMShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlc18xLmRlbGF5IHx8IDIwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGlzRGVmKHJlc18xLnRpbWVvdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBOb2RlSlMgdGltZW91dCB0eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXJUaW1lb3V0XzEgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJUaW1lb3V0XzEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNVbmRlZihmYWN0b3J5LnJlc29sdmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0XzEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IFwidGltZW91dCAoXCIuY29uY2F0KHJlc18xLnRpbWVvdXQsIFwibXMpXCIpIDogbnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCByZXNfMS50aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzeW5jXzEgPSBmYWxzZTtcclxuICAgICAgICAvLyByZXR1cm4gaW4gY2FzZSByZXNvbHZlZCBzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZyA/IGZhY3RvcnkubG9hZGluZ0NvbXAgOiBmYWN0b3J5LnJlc29sdmVkO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY2hpbGRyZW4pIHtcclxuICAgIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGMgPSBjaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGMpICYmIChpc0RlZihjLmNvbXBvbmVudE9wdGlvbnMpIHx8IGlzQXN5bmNQbGFjZWhvbGRlcihjKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGluaXRFdmVudHModm0pIHtcclxuICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgdm0uX2hhc0hvb2tFdmVudCA9IGZhbHNlO1xyXG4gICAgLy8gaW5pdCBwYXJlbnQgYXR0YWNoZWQgZXZlbnRzXHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycztcclxuICAgIGlmIChsaXN0ZW5lcnMpIHtcclxuICAgICAgICB1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnModm0sIGxpc3RlbmVycyk7XHJcbiAgICB9XHJcbn1cclxudmFyIHRhcmdldCQxO1xyXG5mdW5jdGlvbiBhZGQkMShldmVudCwgZm4pIHtcclxuICAgIHRhcmdldCQxLiRvbihldmVudCwgZm4pO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZSQxKGV2ZW50LCBmbikge1xyXG4gICAgdGFyZ2V0JDEuJG9mZihldmVudCwgZm4pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZU9uY2VIYW5kbGVyJDEoZXZlbnQsIGZuKSB7XHJcbiAgICB2YXIgX3RhcmdldCA9IHRhcmdldCQxO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xyXG4gICAgICAgIHZhciByZXMgPSBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xyXG4gICAgICAgIGlmIChyZXMgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgX3RhcmdldC4kb2ZmKGV2ZW50LCBvbmNlSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnModm0sIGxpc3RlbmVycywgb2xkTGlzdGVuZXJzKSB7XHJcbiAgICB0YXJnZXQkMSA9IHZtO1xyXG4gICAgdXBkYXRlTGlzdGVuZXJzKGxpc3RlbmVycywgb2xkTGlzdGVuZXJzIHx8IHt9LCBhZGQkMSwgcmVtb3ZlJDEsIGNyZWF0ZU9uY2VIYW5kbGVyJDEsIHZtKTtcclxuICAgIHRhcmdldCQxID0gdW5kZWZpbmVkO1xyXG59XHJcbmZ1bmN0aW9uIGV2ZW50c01peGluKFZ1ZSkge1xyXG4gICAgdmFyIGhvb2tSRSA9IC9eaG9vazovO1xyXG4gICAgVnVlLnByb3RvdHlwZS4kb24gPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICBpZiAoaXNBcnJheShldmVudCkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBldmVudC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZtLiRvbihldmVudFtpXSwgZm4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAodm0uX2V2ZW50c1tldmVudF0gfHwgKHZtLl9ldmVudHNbZXZlbnRdID0gW10pKS5wdXNoKGZuKTtcclxuICAgICAgICAgICAgLy8gb3B0aW1pemUgaG9vazpldmVudCBjb3N0IGJ5IHVzaW5nIGEgYm9vbGVhbiBmbGFnIG1hcmtlZCBhdCByZWdpc3RyYXRpb25cclxuICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhIGhhc2ggbG9va3VwXHJcbiAgICAgICAgICAgIGlmIChob29rUkUudGVzdChldmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHZtLl9oYXNIb29rRXZlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2bTtcclxuICAgIH07XHJcbiAgICBWdWUucHJvdG90eXBlLiRvbmNlID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgZnVuY3Rpb24gb24oKSB7XHJcbiAgICAgICAgICAgIHZtLiRvZmYoZXZlbnQsIG9uKTtcclxuICAgICAgICAgICAgZm4uYXBwbHkodm0sIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9uLmZuID0gZm47XHJcbiAgICAgICAgdm0uJG9uKGV2ZW50LCBvbik7XHJcbiAgICAgICAgcmV0dXJuIHZtO1xyXG4gICAgfTtcclxuICAgIFZ1ZS5wcm90b3R5cGUuJG9mZiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIC8vIGFsbFxyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHZtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhcnJheSBvZiBldmVudHNcclxuICAgICAgICBpZiAoaXNBcnJheShldmVudCkpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMCwgbCA9IGV2ZW50Lmxlbmd0aDsgaV8xIDwgbDsgaV8xKyspIHtcclxuICAgICAgICAgICAgICAgIHZtLiRvZmYoZXZlbnRbaV8xXSwgZm4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2bTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc3BlY2lmaWMgZXZlbnRcclxuICAgICAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07XHJcbiAgICAgICAgaWYgKCFjYnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWZuKSB7XHJcbiAgICAgICAgICAgIHZtLl9ldmVudHNbZXZlbnRdID0gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuIHZtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzcGVjaWZpYyBoYW5kbGVyXHJcbiAgICAgICAgdmFyIGNiO1xyXG4gICAgICAgIHZhciBpID0gY2JzLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIGNiID0gY2JzW2ldO1xyXG4gICAgICAgICAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xyXG4gICAgICAgICAgICAgICAgY2JzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2bTtcclxuICAgIH07XHJcbiAgICBWdWUucHJvdG90eXBlLiRlbWl0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICB2YXIgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHZtLl9ldmVudHNbbG93ZXJDYXNlRXZlbnRdKSB7XHJcbiAgICAgICAgICAgICAgICB0aXAoXCJFdmVudCBcXFwiXCIuY29uY2F0KGxvd2VyQ2FzZUV2ZW50LCBcIlxcXCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgXCIpICtcclxuICAgICAgICAgICAgICAgICAgICBcIlwiLmNvbmNhdChmb3JtYXRDb21wb25lbnROYW1lKHZtKSwgXCIgYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFxcXCJcIikuY29uY2F0KGV2ZW50LCBcIlxcXCIuIFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXFxcIlwiLmNvbmNhdChoeXBoZW5hdGUoZXZlbnQpLCBcIlxcXCIgaW5zdGVhZCBvZiBcXFwiXCIpLmNvbmNhdChldmVudCwgXCJcXFwiLlwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xyXG4gICAgICAgIGlmIChjYnMpIHtcclxuICAgICAgICAgICAgY2JzID0gY2JzLmxlbmd0aCA+IDEgPyB0b0FycmF5KGNicykgOiBjYnM7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpO1xyXG4gICAgICAgICAgICB2YXIgaW5mbyA9IFwiZXZlbnQgaGFuZGxlciBmb3IgXFxcIlwiLmNvbmNhdChldmVudCwgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNic1tpXSwgdm0sIGFyZ3MsIHZtLCBpbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdm07XHJcbiAgICB9O1xyXG59XG5cbnZhciBhY3RpdmVJbnN0YW5jZSA9IG51bGw7XHJcbnZhciBpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgPSBmYWxzZTtcclxuZnVuY3Rpb24gc2V0QWN0aXZlSW5zdGFuY2Uodm0pIHtcclxuICAgIHZhciBwcmV2QWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZTtcclxuICAgIGFjdGl2ZUluc3RhbmNlID0gdm07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFjdGl2ZUluc3RhbmNlID0gcHJldkFjdGl2ZUluc3RhbmNlO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBpbml0TGlmZWN5Y2xlKHZtKSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zO1xyXG4gICAgLy8gbG9jYXRlIGZpcnN0IG5vbi1hYnN0cmFjdCBwYXJlbnRcclxuICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcclxuICAgIGlmIChwYXJlbnQgJiYgIW9wdGlvbnMuYWJzdHJhY3QpIHtcclxuICAgICAgICB3aGlsZSAocGFyZW50LiRvcHRpb25zLmFic3RyYWN0ICYmIHBhcmVudC4kcGFyZW50KSB7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC4kcGFyZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnQuJGNoaWxkcmVuLnB1c2godm0pO1xyXG4gICAgfVxyXG4gICAgdm0uJHBhcmVudCA9IHBhcmVudDtcclxuICAgIHZtLiRyb290ID0gcGFyZW50ID8gcGFyZW50LiRyb290IDogdm07XHJcbiAgICB2bS4kY2hpbGRyZW4gPSBbXTtcclxuICAgIHZtLiRyZWZzID0ge307XHJcbiAgICB2bS5fcHJvdmlkZWQgPSBwYXJlbnQgPyBwYXJlbnQuX3Byb3ZpZGVkIDogT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgIHZtLl93YXRjaGVyID0gbnVsbDtcclxuICAgIHZtLl9pbmFjdGl2ZSA9IG51bGw7XHJcbiAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSBmYWxzZTtcclxuICAgIHZtLl9pc01vdW50ZWQgPSBmYWxzZTtcclxuICAgIHZtLl9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xyXG4gICAgdm0uX2lzQmVpbmdEZXN0cm95ZWQgPSBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBsaWZlY3ljbGVNaXhpbihWdWUpIHtcclxuICAgIFZ1ZS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2YXIgcHJldkVsID0gdm0uJGVsO1xyXG4gICAgICAgIHZhciBwcmV2Vm5vZGUgPSB2bS5fdm5vZGU7XHJcbiAgICAgICAgdmFyIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSA9IHNldEFjdGl2ZUluc3RhbmNlKHZtKTtcclxuICAgICAgICB2bS5fdm5vZGUgPSB2bm9kZTtcclxuICAgICAgICAvLyBWdWUucHJvdG90eXBlLl9fcGF0Y2hfXyBpcyBpbmplY3RlZCBpbiBlbnRyeSBwb2ludHNcclxuICAgICAgICAvLyBiYXNlZCBvbiB0aGUgcmVuZGVyaW5nIGJhY2tlbmQgdXNlZC5cclxuICAgICAgICBpZiAoIXByZXZWbm9kZSkge1xyXG4gICAgICAgICAgICAvLyBpbml0aWFsIHJlbmRlclxyXG4gICAgICAgICAgICB2bS4kZWwgPSB2bS5fX3BhdGNoX18odm0uJGVsLCB2bm9kZSwgaHlkcmF0aW5nLCBmYWxzZSAvKiByZW1vdmVPbmx5ICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZXNcclxuICAgICAgICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHByZXZWbm9kZSwgdm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXN0b3JlQWN0aXZlSW5zdGFuY2UoKTtcclxuICAgICAgICAvLyB1cGRhdGUgX192dWVfXyByZWZlcmVuY2VcclxuICAgICAgICBpZiAocHJldkVsKSB7XHJcbiAgICAgICAgICAgIHByZXZFbC5fX3Z1ZV9fID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZtLiRlbCkge1xyXG4gICAgICAgICAgICB2bS4kZWwuX192dWVfXyA9IHZtO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiBwYXJlbnQgaXMgYW4gSE9DLCB1cGRhdGUgaXRzICRlbCBhcyB3ZWxsXHJcbiAgICAgICAgaWYgKHZtLiR2bm9kZSAmJiB2bS4kcGFyZW50ICYmIHZtLiR2bm9kZSA9PT0gdm0uJHBhcmVudC5fdm5vZGUpIHtcclxuICAgICAgICAgICAgdm0uJHBhcmVudC4kZWwgPSB2bS4kZWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVwZGF0ZWQgaG9vayBpcyBjYWxsZWQgYnkgdGhlIHNjaGVkdWxlciB0byBlbnN1cmUgdGhhdCBjaGlsZHJlbiBhcmVcclxuICAgICAgICAvLyB1cGRhdGVkIGluIGEgcGFyZW50J3MgdXBkYXRlZCBob29rLlxyXG4gICAgfTtcclxuICAgIFZ1ZS5wcm90b3R5cGUuJGZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHZtLl93YXRjaGVyKSB7XHJcbiAgICAgICAgICAgIHZtLl93YXRjaGVyLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBWdWUucHJvdG90eXBlLiRkZXN0cm95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHZtLl9pc0JlaW5nRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2FsbEhvb2skMSh2bSwgJ2JlZm9yZURlc3Ryb3knKTtcclxuICAgICAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7XHJcbiAgICAgICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSBwYXJlbnRcclxuICAgICAgICB2YXIgcGFyZW50ID0gdm0uJHBhcmVudDtcclxuICAgICAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZSQyKHBhcmVudC4kY2hpbGRyZW4sIHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGVhcmRvd24gc2NvcGUuIHRoaXMgaW5jbHVkZXMgYm90aCB0aGUgcmVuZGVyIHdhdGNoZXIgYW5kIG90aGVyXHJcbiAgICAgICAgLy8gd2F0Y2hlcnMgY3JlYXRlZFxyXG4gICAgICAgIHZtLl9zY29wZS5zdG9wKCk7XHJcbiAgICAgICAgLy8gcmVtb3ZlIHJlZmVyZW5jZSBmcm9tIGRhdGEgb2JcclxuICAgICAgICAvLyBmcm96ZW4gb2JqZWN0IG1heSBub3QgaGF2ZSBvYnNlcnZlci5cclxuICAgICAgICBpZiAodm0uX2RhdGEuX19vYl9fKSB7XHJcbiAgICAgICAgICAgIHZtLl9kYXRhLl9fb2JfXy52bUNvdW50LS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNhbGwgdGhlIGxhc3QgaG9vay4uLlxyXG4gICAgICAgIHZtLl9pc0Rlc3Ryb3llZCA9IHRydWU7XHJcbiAgICAgICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlXHJcbiAgICAgICAgdm0uX19wYXRjaF9fKHZtLl92bm9kZSwgbnVsbCk7XHJcbiAgICAgICAgLy8gZmlyZSBkZXN0cm95ZWQgaG9va1xyXG4gICAgICAgIGNhbGxIb29rJDEodm0sICdkZXN0cm95ZWQnKTtcclxuICAgICAgICAvLyB0dXJuIG9mZiBhbGwgaW5zdGFuY2UgbGlzdGVuZXJzLlxyXG4gICAgICAgIHZtLiRvZmYoKTtcclxuICAgICAgICAvLyByZW1vdmUgX192dWVfXyByZWZlcmVuY2VcclxuICAgICAgICBpZiAodm0uJGVsKSB7XHJcbiAgICAgICAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVsZWFzZSBjaXJjdWxhciByZWZlcmVuY2UgKCM2NzU5KVxyXG4gICAgICAgIGlmICh2bS4kdm5vZGUpIHtcclxuICAgICAgICAgICAgdm0uJHZub2RlLnBhcmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudCh2bSwgZWwsIGh5ZHJhdGluZykge1xyXG4gICAgdm0uJGVsID0gZWw7XHJcbiAgICBpZiAoIXZtLiRvcHRpb25zLnJlbmRlcikge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaW52YWxpZCB0eXBlXHJcbiAgICAgICAgdm0uJG9wdGlvbnMucmVuZGVyID0gY3JlYXRlRW1wdHlWTm9kZTtcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgaWYgKCh2bS4kb3B0aW9ucy50ZW1wbGF0ZSAmJiB2bS4kb3B0aW9ucy50ZW1wbGF0ZS5jaGFyQXQoMCkgIT09ICcjJykgfHxcclxuICAgICAgICAgICAgICAgIHZtLiRvcHRpb25zLmVsIHx8XHJcbiAgICAgICAgICAgICAgICBlbCkge1xyXG4gICAgICAgICAgICAgICAgd2FybignWW91IGFyZSB1c2luZyB0aGUgcnVudGltZS1vbmx5IGJ1aWxkIG9mIFZ1ZSB3aGVyZSB0aGUgdGVtcGxhdGUgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NvbXBpbGVyIGlzIG5vdCBhdmFpbGFibGUuIEVpdGhlciBwcmUtY29tcGlsZSB0aGUgdGVtcGxhdGVzIGludG8gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ3JlbmRlciBmdW5jdGlvbnMsIG9yIHVzZSB0aGUgY29tcGlsZXItaW5jbHVkZWQgYnVpbGQuJywgdm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2FybignRmFpbGVkIHRvIG1vdW50IGNvbXBvbmVudDogdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uIG5vdCBkZWZpbmVkLicsIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhbGxIb29rJDEodm0sICdiZWZvcmVNb3VudCcpO1xyXG4gICAgdmFyIHVwZGF0ZUNvbXBvbmVudDtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcclxuICAgICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gdm0uX25hbWU7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHZtLl91aWQ7XHJcbiAgICAgICAgICAgIHZhciBzdGFydFRhZyA9IFwidnVlLXBlcmYtc3RhcnQ6XCIuY29uY2F0KGlkKTtcclxuICAgICAgICAgICAgdmFyIGVuZFRhZyA9IFwidnVlLXBlcmYtZW5kOlwiLmNvbmNhdChpZCk7XHJcbiAgICAgICAgICAgIG1hcmsoc3RhcnRUYWcpO1xyXG4gICAgICAgICAgICB2YXIgdm5vZGUgPSB2bS5fcmVuZGVyKCk7XHJcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcclxuICAgICAgICAgICAgbWVhc3VyZShcInZ1ZSBcIi5jb25jYXQobmFtZSwgXCIgcmVuZGVyXCIpLCBzdGFydFRhZywgZW5kVGFnKTtcclxuICAgICAgICAgICAgbWFyayhzdGFydFRhZyk7XHJcbiAgICAgICAgICAgIHZtLl91cGRhdGUodm5vZGUsIGh5ZHJhdGluZyk7XHJcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcclxuICAgICAgICAgICAgbWVhc3VyZShcInZ1ZSBcIi5jb25jYXQobmFtZSwgXCIgcGF0Y2hcIiksIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZtLl91cGRhdGUodm0uX3JlbmRlcigpLCBoeWRyYXRpbmcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICB2YXIgd2F0Y2hlck9wdGlvbnMgPSB7XHJcbiAgICAgICAgYmVmb3JlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh2bS5faXNNb3VudGVkICYmICF2bS5faXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxIb29rJDEodm0sICdiZWZvcmVVcGRhdGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIHdhdGNoZXJPcHRpb25zLm9uVHJhY2sgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gY2FsbEhvb2skMSh2bSwgJ3JlbmRlclRyYWNrZWQnLCBbZV0pOyB9O1xyXG4gICAgICAgIHdhdGNoZXJPcHRpb25zLm9uVHJpZ2dlciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBjYWxsSG9vayQxKHZtLCAncmVuZGVyVHJpZ2dlcmVkJywgW2VdKTsgfTtcclxuICAgIH1cclxuICAgIC8vIHdlIHNldCB0aGlzIHRvIHZtLl93YXRjaGVyIGluc2lkZSB0aGUgd2F0Y2hlcidzIGNvbnN0cnVjdG9yXHJcbiAgICAvLyBzaW5jZSB0aGUgd2F0Y2hlcidzIGluaXRpYWwgcGF0Y2ggbWF5IGNhbGwgJGZvcmNlVXBkYXRlIChlLmcuIGluc2lkZSBjaGlsZFxyXG4gICAgLy8gY29tcG9uZW50J3MgbW91bnRlZCBob29rKSwgd2hpY2ggcmVsaWVzIG9uIHZtLl93YXRjaGVyIGJlaW5nIGFscmVhZHkgZGVmaW5lZFxyXG4gICAgbmV3IFdhdGNoZXIodm0sIHVwZGF0ZUNvbXBvbmVudCwgbm9vcCwgd2F0Y2hlck9wdGlvbnMsIHRydWUgLyogaXNSZW5kZXJXYXRjaGVyICovKTtcclxuICAgIGh5ZHJhdGluZyA9IGZhbHNlO1xyXG4gICAgLy8gZmx1c2ggYnVmZmVyIGZvciBmbHVzaDogXCJwcmVcIiB3YXRjaGVycyBxdWV1ZWQgaW4gc2V0dXAoKVxyXG4gICAgdmFyIHByZVdhdGNoZXJzID0gdm0uX3ByZVdhdGNoZXJzO1xyXG4gICAgaWYgKHByZVdhdGNoZXJzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVXYXRjaGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBwcmVXYXRjaGVyc1tpXS5ydW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlLCBjYWxsIG1vdW50ZWQgb24gc2VsZlxyXG4gICAgLy8gbW91bnRlZCBpcyBjYWxsZWQgZm9yIHJlbmRlci1jcmVhdGVkIGNoaWxkIGNvbXBvbmVudHMgaW4gaXRzIGluc2VydGVkIGhvb2tcclxuICAgIGlmICh2bS4kdm5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgIHZtLl9pc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgICAgIGNhbGxIb29rJDEodm0sICdtb3VudGVkJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm07XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlQ2hpbGRDb21wb25lbnQodm0sIHByb3BzRGF0YSwgbGlzdGVuZXJzLCBwYXJlbnRWbm9kZSwgcmVuZGVyQ2hpbGRyZW4pIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIGRldGVybWluZSB3aGV0aGVyIGNvbXBvbmVudCBoYXMgc2xvdCBjaGlsZHJlblxyXG4gICAgLy8gd2UgbmVlZCB0byBkbyB0aGlzIGJlZm9yZSBvdmVyd3JpdGluZyAkb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4uXHJcbiAgICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgZHluYW1pYyBzY29wZWRTbG90cyAoaGFuZC13cml0dGVuIG9yIGNvbXBpbGVkIGJ1dCB3aXRoXHJcbiAgICAvLyBkeW5hbWljIHNsb3QgbmFtZXMpLiBTdGF0aWMgc2NvcGVkIHNsb3RzIGNvbXBpbGVkIGZyb20gdGVtcGxhdGUgaGFzIHRoZVxyXG4gICAgLy8gXCIkc3RhYmxlXCIgbWFya2VyLlxyXG4gICAgdmFyIG5ld1Njb3BlZFNsb3RzID0gcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cztcclxuICAgIHZhciBvbGRTY29wZWRTbG90cyA9IHZtLiRzY29wZWRTbG90cztcclxuICAgIHZhciBoYXNEeW5hbWljU2NvcGVkU2xvdCA9ICEhKChuZXdTY29wZWRTbG90cyAmJiAhbmV3U2NvcGVkU2xvdHMuJHN0YWJsZSkgfHxcclxuICAgICAgICAob2xkU2NvcGVkU2xvdHMgIT09IGVtcHR5T2JqZWN0ICYmICFvbGRTY29wZWRTbG90cy4kc3RhYmxlKSB8fFxyXG4gICAgICAgIChuZXdTY29wZWRTbG90cyAmJiB2bS4kc2NvcGVkU2xvdHMuJGtleSAhPT0gbmV3U2NvcGVkU2xvdHMuJGtleSkgfHxcclxuICAgICAgICAoIW5ld1Njb3BlZFNsb3RzICYmIHZtLiRzY29wZWRTbG90cy4ka2V5KSk7XHJcbiAgICAvLyBBbnkgc3RhdGljIHNsb3QgY2hpbGRyZW4gZnJvbSB0aGUgcGFyZW50IG1heSBoYXZlIGNoYW5nZWQgZHVyaW5nIHBhcmVudCdzXHJcbiAgICAvLyB1cGRhdGUuIER5bmFtaWMgc2NvcGVkIHNsb3RzIG1heSBhbHNvIGhhdmUgY2hhbmdlZC4gSW4gc3VjaCBjYXNlcywgYSBmb3JjZWRcclxuICAgIC8vIHVwZGF0ZSBpcyBuZWNlc3NhcnkgdG8gZW5zdXJlIGNvcnJlY3RuZXNzLlxyXG4gICAgdmFyIG5lZWRzRm9yY2VVcGRhdGUgPSAhIShyZW5kZXJDaGlsZHJlbiB8fCAvLyBoYXMgbmV3IHN0YXRpYyBzbG90c1xyXG4gICAgICAgIHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiB8fCAvLyBoYXMgb2xkIHN0YXRpYyBzbG90c1xyXG4gICAgICAgIGhhc0R5bmFtaWNTY29wZWRTbG90KTtcclxuICAgIHZhciBwcmV2Vk5vZGUgPSB2bS4kdm5vZGU7XHJcbiAgICB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTtcclxuICAgIHZtLiR2bm9kZSA9IHBhcmVudFZub2RlOyAvLyB1cGRhdGUgdm0ncyBwbGFjZWhvbGRlciBub2RlIHdpdGhvdXQgcmUtcmVuZGVyXHJcbiAgICBpZiAodm0uX3Zub2RlKSB7XHJcbiAgICAgICAgLy8gdXBkYXRlIGNoaWxkIHRyZWUncyBwYXJlbnRcclxuICAgICAgICB2bS5fdm5vZGUucGFyZW50ID0gcGFyZW50Vm5vZGU7XHJcbiAgICB9XHJcbiAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gPSByZW5kZXJDaGlsZHJlbjtcclxuICAgIC8vIHVwZGF0ZSAkYXR0cnMgYW5kICRsaXN0ZW5lcnMgaGFzaFxyXG4gICAgLy8gdGhlc2UgYXJlIGFsc28gcmVhY3RpdmUgc28gdGhleSBtYXkgdHJpZ2dlciBjaGlsZCB1cGRhdGUgaWYgdGhlIGNoaWxkXHJcbiAgICAvLyB1c2VkIHRoZW0gZHVyaW5nIHJlbmRlclxyXG4gICAgdmFyIGF0dHJzID0gcGFyZW50Vm5vZGUuZGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdDtcclxuICAgIGlmICh2bS5fYXR0cnNQcm94eSkge1xyXG4gICAgICAgIC8vIGZvcmNlIHVwZGF0ZSBpZiBhdHRycyBhcmUgYWNjZXNzZWQgYW5kIGhhcyBjaGFuZ2VkIHNpbmNlIGl0IG1heSBiZVxyXG4gICAgICAgIC8vIHBhc3NlZCB0byBhIGNoaWxkIGNvbXBvbmVudC5cclxuICAgICAgICBpZiAoc3luY1NldHVwQXR0cnModm0uX2F0dHJzUHJveHksIGF0dHJzLCAocHJldlZOb2RlLmRhdGEgJiYgcHJldlZOb2RlLmRhdGEuYXR0cnMpIHx8IGVtcHR5T2JqZWN0LCB2bSkpIHtcclxuICAgICAgICAgICAgbmVlZHNGb3JjZVVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdm0uJGF0dHJzID0gYXR0cnM7XHJcbiAgICB2bS4kbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0O1xyXG4gICAgLy8gdXBkYXRlIHByb3BzXHJcbiAgICBpZiAocHJvcHNEYXRhICYmIHZtLiRvcHRpb25zLnByb3BzKSB7XHJcbiAgICAgICAgdG9nZ2xlT2JzZXJ2aW5nKGZhbHNlKTtcclxuICAgICAgICB2YXIgcHJvcHMgPSB2bS5fcHJvcHM7XHJcbiAgICAgICAgdmFyIHByb3BLZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzIHx8IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcEtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IHByb3BLZXlzW2ldO1xyXG4gICAgICAgICAgICB2YXIgcHJvcE9wdGlvbnMgPSB2bS4kb3B0aW9ucy5wcm9wczsgLy8gd3RmIGZsb3c/XHJcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhLCB2bSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcclxuICAgICAgICAvLyBrZWVwIGEgY29weSBvZiByYXcgcHJvcHNEYXRhXHJcbiAgICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhO1xyXG4gICAgfVxyXG4gICAgLy8gdXBkYXRlIGxpc3RlbmVyc1xyXG4gICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0O1xyXG4gICAgdmFyIG9sZExpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XHJcbiAgICB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xyXG4gICAgdXBkYXRlQ29tcG9uZW50TGlzdGVuZXJzKHZtLCBsaXN0ZW5lcnMsIG9sZExpc3RlbmVycyk7XHJcbiAgICAvLyByZXNvbHZlIHNsb3RzICsgZm9yY2UgdXBkYXRlIGlmIGhhcyBjaGlsZHJlblxyXG4gICAgaWYgKG5lZWRzRm9yY2VVcGRhdGUpIHtcclxuICAgICAgICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHMocmVuZGVyQ2hpbGRyZW4sIHBhcmVudFZub2RlLmNvbnRleHQpO1xyXG4gICAgICAgIHZtLiRmb3JjZVVwZGF0ZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgPSBmYWxzZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc0luSW5hY3RpdmVUcmVlKHZtKSB7XHJcbiAgICB3aGlsZSAodm0gJiYgKHZtID0gdm0uJHBhcmVudCkpIHtcclxuICAgICAgICBpZiAodm0uX2luYWN0aXZlKVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLCBkaXJlY3QpIHtcclxuICAgIGlmIChkaXJlY3QpIHtcclxuICAgICAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBpZiAoaXNJbkluYWN0aXZlVHJlZSh2bSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHZtLl9kaXJlY3RJbmFjdGl2ZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh2bS5faW5hY3RpdmUgfHwgdm0uX2luYWN0aXZlID09PSBudWxsKSB7XHJcbiAgICAgICAgdm0uX2luYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bS4kY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bS4kY2hpbGRyZW5baV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsSG9vayQxKHZtLCAnYWN0aXZhdGVkJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLCBkaXJlY3QpIHtcclxuICAgIGlmIChkaXJlY3QpIHtcclxuICAgICAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGlmIChpc0luSW5hY3RpdmVUcmVlKHZtKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCF2bS5faW5hY3RpdmUpIHtcclxuICAgICAgICB2bS5faW5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRlYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bS4kY2hpbGRyZW5baV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsSG9vayQxKHZtLCAnZGVhY3RpdmF0ZWQnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjYWxsSG9vayQxKHZtLCBob29rLCBhcmdzKSB7XHJcbiAgICAvLyAjNzU3MyBkaXNhYmxlIGRlcCBjb2xsZWN0aW9uIHdoZW4gaW52b2tpbmcgbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICBwdXNoVGFyZ2V0KCk7XHJcbiAgICB2YXIgcHJldiA9IGN1cnJlbnRJbnN0YW5jZTtcclxuICAgIHNldEN1cnJlbnRJbnN0YW5jZSh2bSk7XHJcbiAgICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTtcclxuICAgIHZhciBpbmZvID0gXCJcIi5jb25jYXQoaG9vaywgXCIgaG9va1wiKTtcclxuICAgIGlmIChoYW5kbGVycykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XHJcbiAgICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGhhbmRsZXJzW2ldLCB2bSwgYXJncyB8fCBudWxsLCB2bSwgaW5mbyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHZtLl9oYXNIb29rRXZlbnQpIHtcclxuICAgICAgICB2bS4kZW1pdCgnaG9vazonICsgaG9vayk7XHJcbiAgICB9XHJcbiAgICBzZXRDdXJyZW50SW5zdGFuY2UocHJldik7XHJcbiAgICBwb3BUYXJnZXQoKTtcclxufVxuXG52YXIgTUFYX1VQREFURV9DT1VOVCA9IDEwMDtcclxudmFyIHF1ZXVlID0gW107XHJcbnZhciBhY3RpdmF0ZWRDaGlsZHJlbiA9IFtdO1xyXG52YXIgaGFzID0ge307XHJcbnZhciBjaXJjdWxhciA9IHt9O1xyXG52YXIgd2FpdGluZyA9IGZhbHNlO1xyXG52YXIgZmx1c2hpbmcgPSBmYWxzZTtcclxudmFyIGluZGV4ID0gMDtcclxuLyoqXHJcbiAqIFJlc2V0IHRoZSBzY2hlZHVsZXIncyBzdGF0ZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlc2V0U2NoZWR1bGVyU3RhdGUoKSB7XHJcbiAgICBpbmRleCA9IHF1ZXVlLmxlbmd0aCA9IGFjdGl2YXRlZENoaWxkcmVuLmxlbmd0aCA9IDA7XHJcbiAgICBoYXMgPSB7fTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgY2lyY3VsYXIgPSB7fTtcclxuICAgIH1cclxuICAgIHdhaXRpbmcgPSBmbHVzaGluZyA9IGZhbHNlO1xyXG59XHJcbi8vIEFzeW5jIGVkZ2UgY2FzZSAjNjU2NiByZXF1aXJlcyBzYXZpbmcgdGhlIHRpbWVzdGFtcCB3aGVuIGV2ZW50IGxpc3RlbmVycyBhcmVcclxuLy8gYXR0YWNoZWQuIEhvd2V2ZXIsIGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCkgaGFzIGEgcGVyZiBvdmVyaGVhZCBlc3BlY2lhbGx5XHJcbi8vIGlmIHRoZSBwYWdlIGhhcyB0aG91c2FuZHMgb2YgZXZlbnQgbGlzdGVuZXJzLiBJbnN0ZWFkLCB3ZSB0YWtlIGEgdGltZXN0YW1wXHJcbi8vIGV2ZXJ5IHRpbWUgdGhlIHNjaGVkdWxlciBmbHVzaGVzIGFuZCB1c2UgdGhhdCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVyc1xyXG4vLyBhdHRhY2hlZCBkdXJpbmcgdGhhdCBmbHVzaC5cclxudmFyIGN1cnJlbnRGbHVzaFRpbWVzdGFtcCA9IDA7XHJcbi8vIEFzeW5jIGVkZ2UgY2FzZSBmaXggcmVxdWlyZXMgc3RvcmluZyBhbiBldmVudCBsaXN0ZW5lcidzIGF0dGFjaCB0aW1lc3RhbXAuXHJcbnZhciBnZXROb3cgPSBEYXRlLm5vdztcclxuLy8gRGV0ZXJtaW5lIHdoYXQgZXZlbnQgdGltZXN0YW1wIHRoZSBicm93c2VyIGlzIHVzaW5nLiBBbm5veWluZ2x5LCB0aGVcclxuLy8gdGltZXN0YW1wIGNhbiBlaXRoZXIgYmUgaGktcmVzIChyZWxhdGl2ZSB0byBwYWdlIGxvYWQpIG9yIGxvdy1yZXNcclxuLy8gKHJlbGF0aXZlIHRvIFVOSVggZXBvY2gpLCBzbyBpbiBvcmRlciB0byBjb21wYXJlIHRpbWUgd2UgaGF2ZSB0byB1c2UgdGhlXHJcbi8vIHNhbWUgdGltZXN0YW1wIHR5cGUgd2hlbiBzYXZpbmcgdGhlIGZsdXNoIHRpbWVzdGFtcC5cclxuLy8gQWxsIElFIHZlcnNpb25zIHVzZSBsb3ctcmVzIGV2ZW50IHRpbWVzdGFtcHMsIGFuZCBoYXZlIHByb2JsZW1hdGljIGNsb2NrXHJcbi8vIGltcGxlbWVudGF0aW9ucyAoIzk2MzIpXHJcbmlmIChpbkJyb3dzZXIgJiYgIWlzSUUpIHtcclxuICAgIHZhciBwZXJmb3JtYW5jZV8xID0gd2luZG93LnBlcmZvcm1hbmNlO1xyXG4gICAgaWYgKHBlcmZvcm1hbmNlXzEgJiZcclxuICAgICAgICB0eXBlb2YgcGVyZm9ybWFuY2VfMS5ub3cgPT09ICdmdW5jdGlvbicgJiZcclxuICAgICAgICBnZXROb3coKSA+IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpLnRpbWVTdGFtcCkge1xyXG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB0aW1lc3RhbXAsIGFsdGhvdWdoIGV2YWx1YXRlZCBBRlRFUiB0aGUgRGF0ZS5ub3coKSwgaXNcclxuICAgICAgICAvLyBzbWFsbGVyIHRoYW4gaXQsIGl0IG1lYW5zIHRoZSBldmVudCBpcyB1c2luZyBhIGhpLXJlcyB0aW1lc3RhbXAsXHJcbiAgICAgICAgLy8gYW5kIHdlIG5lZWQgdG8gdXNlIHRoZSBoaS1yZXMgdmVyc2lvbiBmb3IgZXZlbnQgbGlzdGVuZXIgdGltZXN0YW1wcyBhc1xyXG4gICAgICAgIC8vIHdlbGwuXHJcbiAgICAgICAgZ2V0Tm93ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcGVyZm9ybWFuY2VfMS5ub3coKTsgfTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRmx1c2ggYm90aCBxdWV1ZXMgYW5kIHJ1biB0aGUgd2F0Y2hlcnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBmbHVzaFNjaGVkdWxlclF1ZXVlKCkge1xyXG4gICAgY3VycmVudEZsdXNoVGltZXN0YW1wID0gZ2V0Tm93KCk7XHJcbiAgICBmbHVzaGluZyA9IHRydWU7XHJcbiAgICB2YXIgd2F0Y2hlciwgaWQ7XHJcbiAgICAvLyBTb3J0IHF1ZXVlIGJlZm9yZSBmbHVzaC5cclxuICAgIC8vIFRoaXMgZW5zdXJlcyB0aGF0OlxyXG4gICAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xyXG4gICAgLy8gICAgY3JlYXRlZCBiZWZvcmUgdGhlIGNoaWxkKVxyXG4gICAgLy8gMi4gQSBjb21wb25lbnQncyB1c2VyIHdhdGNoZXJzIGFyZSBydW4gYmVmb3JlIGl0cyByZW5kZXIgd2F0Y2hlciAoYmVjYXVzZVxyXG4gICAgLy8gICAgdXNlciB3YXRjaGVycyBhcmUgY3JlYXRlZCBiZWZvcmUgdGhlIHJlbmRlciB3YXRjaGVyKVxyXG4gICAgLy8gMy4gSWYgYSBjb21wb25lbnQgaXMgZGVzdHJveWVkIGR1cmluZyBhIHBhcmVudCBjb21wb25lbnQncyB3YXRjaGVyIHJ1bixcclxuICAgIC8vICAgIGl0cyB3YXRjaGVycyBjYW4gYmUgc2tpcHBlZC5cclxuICAgIHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuaWQgLSBiLmlkOyB9KTtcclxuICAgIC8vIGRvIG5vdCBjYWNoZSBsZW5ndGggYmVjYXVzZSBtb3JlIHdhdGNoZXJzIG1pZ2h0IGJlIHB1c2hlZFxyXG4gICAgLy8gYXMgd2UgcnVuIGV4aXN0aW5nIHdhdGNoZXJzXHJcbiAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBxdWV1ZS5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICB3YXRjaGVyID0gcXVldWVbaW5kZXhdO1xyXG4gICAgICAgIGlmICh3YXRjaGVyLmJlZm9yZSkge1xyXG4gICAgICAgICAgICB3YXRjaGVyLmJlZm9yZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZCA9IHdhdGNoZXIuaWQ7XHJcbiAgICAgICAgaGFzW2lkXSA9IG51bGw7XHJcbiAgICAgICAgd2F0Y2hlci5ydW4oKTtcclxuICAgICAgICAvLyBpbiBkZXYgYnVpbGQsIGNoZWNrIGFuZCBzdG9wIGNpcmN1bGFyIHVwZGF0ZXMuXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaGFzW2lkXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNpcmN1bGFyW2lkXSA9IChjaXJjdWxhcltpZF0gfHwgMCkgKyAxO1xyXG4gICAgICAgICAgICBpZiAoY2lyY3VsYXJbaWRdID4gTUFYX1VQREFURV9DT1VOVCkge1xyXG4gICAgICAgICAgICAgICAgd2FybignWW91IG1heSBoYXZlIGFuIGluZmluaXRlIHVwZGF0ZSBsb29wICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICh3YXRjaGVyLnVzZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcImluIHdhdGNoZXIgd2l0aCBleHByZXNzaW9uIFxcXCJcIi5jb25jYXQod2F0Y2hlci5leHByZXNzaW9uLCBcIlxcXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcImluIGEgY29tcG9uZW50IHJlbmRlciBmdW5jdGlvbi5cIiksIHdhdGNoZXIudm0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBrZWVwIGNvcGllcyBvZiBwb3N0IHF1ZXVlcyBiZWZvcmUgcmVzZXR0aW5nIHN0YXRlXHJcbiAgICB2YXIgYWN0aXZhdGVkUXVldWUgPSBhY3RpdmF0ZWRDaGlsZHJlbi5zbGljZSgpO1xyXG4gICAgdmFyIHVwZGF0ZWRRdWV1ZSA9IHF1ZXVlLnNsaWNlKCk7XHJcbiAgICByZXNldFNjaGVkdWxlclN0YXRlKCk7XHJcbiAgICAvLyBjYWxsIGNvbXBvbmVudCB1cGRhdGVkIGFuZCBhY3RpdmF0ZWQgaG9va3NcclxuICAgIGNhbGxBY3RpdmF0ZWRIb29rcyhhY3RpdmF0ZWRRdWV1ZSk7XHJcbiAgICBjYWxsVXBkYXRlZEhvb2tzKHVwZGF0ZWRRdWV1ZSk7XHJcbiAgICAvLyBkZXZ0b29sIGhvb2tcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGRldnRvb2xzICYmIGNvbmZpZy5kZXZ0b29scykge1xyXG4gICAgICAgIGRldnRvb2xzLmVtaXQoJ2ZsdXNoJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY2FsbFVwZGF0ZWRIb29rcyhxdWV1ZSkge1xyXG4gICAgdmFyIGkgPSBxdWV1ZS5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgdmFyIHdhdGNoZXIgPSBxdWV1ZVtpXTtcclxuICAgICAgICB2YXIgdm0gPSB3YXRjaGVyLnZtO1xyXG4gICAgICAgIGlmICh2bSAmJiB2bS5fd2F0Y2hlciA9PT0gd2F0Y2hlciAmJiB2bS5faXNNb3VudGVkICYmICF2bS5faXNEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgY2FsbEhvb2skMSh2bSwgJ3VwZGF0ZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFF1ZXVlIGEga2VwdC1hbGl2ZSBjb21wb25lbnQgdGhhdCB3YXMgYWN0aXZhdGVkIGR1cmluZyBwYXRjaC5cclxuICogVGhlIHF1ZXVlIHdpbGwgYmUgcHJvY2Vzc2VkIGFmdGVyIHRoZSBlbnRpcmUgdHJlZSBoYXMgYmVlbiBwYXRjaGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gcXVldWVBY3RpdmF0ZWRDb21wb25lbnQodm0pIHtcclxuICAgIC8vIHNldHRpbmcgX2luYWN0aXZlIHRvIGZhbHNlIGhlcmUgc28gdGhhdCBhIHJlbmRlciBmdW5jdGlvbiBjYW5cclxuICAgIC8vIHJlbHkgb24gY2hlY2tpbmcgd2hldGhlciBpdCdzIGluIGFuIGluYWN0aXZlIHRyZWUgKGUuZy4gcm91dGVyLXZpZXcpXHJcbiAgICB2bS5faW5hY3RpdmUgPSBmYWxzZTtcclxuICAgIGFjdGl2YXRlZENoaWxkcmVuLnB1c2godm0pO1xyXG59XHJcbmZ1bmN0aW9uIGNhbGxBY3RpdmF0ZWRIb29rcyhxdWV1ZSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHF1ZXVlW2ldLl9pbmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudChxdWV1ZVtpXSwgdHJ1ZSAvKiB0cnVlICovKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUHVzaCBhIHdhdGNoZXIgaW50byB0aGUgd2F0Y2hlciBxdWV1ZS5cclxuICogSm9icyB3aXRoIGR1cGxpY2F0ZSBJRHMgd2lsbCBiZSBza2lwcGVkIHVubGVzcyBpdCdzXHJcbiAqIHB1c2hlZCB3aGVuIHRoZSBxdWV1ZSBpcyBiZWluZyBmbHVzaGVkLlxyXG4gKi9cclxuZnVuY3Rpb24gcXVldWVXYXRjaGVyKHdhdGNoZXIpIHtcclxuICAgIHZhciBpZCA9IHdhdGNoZXIuaWQ7XHJcbiAgICBpZiAoaGFzW2lkXSAhPSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHdhdGNoZXIgPT09IERlcC50YXJnZXQgJiYgd2F0Y2hlci5ub1JlY3Vyc2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBoYXNbaWRdID0gdHJ1ZTtcclxuICAgIGlmICghZmx1c2hpbmcpIHtcclxuICAgICAgICBxdWV1ZS5wdXNoKHdhdGNoZXIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gaWYgYWxyZWFkeSBmbHVzaGluZywgc3BsaWNlIHRoZSB3YXRjaGVyIGJhc2VkIG9uIGl0cyBpZFxyXG4gICAgICAgIC8vIGlmIGFscmVhZHkgcGFzdCBpdHMgaWQsIGl0IHdpbGwgYmUgcnVuIG5leHQgaW1tZWRpYXRlbHkuXHJcbiAgICAgICAgdmFyIGkgPSBxdWV1ZS5sZW5ndGggLSAxO1xyXG4gICAgICAgIHdoaWxlIChpID4gaW5kZXggJiYgcXVldWVbaV0uaWQgPiB3YXRjaGVyLmlkKSB7XHJcbiAgICAgICAgICAgIGktLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcXVldWUuc3BsaWNlKGkgKyAxLCAwLCB3YXRjaGVyKTtcclxuICAgIH1cclxuICAgIC8vIHF1ZXVlIHRoZSBmbHVzaFxyXG4gICAgaWYgKCF3YWl0aW5nKSB7XHJcbiAgICAgICAgd2FpdGluZyA9IHRydWU7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWNvbmZpZy5hc3luYykge1xyXG4gICAgICAgICAgICBmbHVzaFNjaGVkdWxlclF1ZXVlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV4dFRpY2soZmx1c2hTY2hlZHVsZXJRdWV1ZSk7XHJcbiAgICB9XHJcbn1cblxudmFyIGFjdGl2ZUVmZmVjdFNjb3BlO1xyXG52YXIgRWZmZWN0U2NvcGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFZmZlY3RTY29wZShkZXRhY2hlZCkge1xyXG4gICAgICAgIGlmIChkZXRhY2hlZCA9PT0gdm9pZCAwKSB7IGRldGFjaGVkID0gZmFsc2U7IH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAaW50ZXJuYWxcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGludGVybmFsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5lZmZlY3RzID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQGludGVybmFsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jbGVhbnVwcyA9IFtdO1xyXG4gICAgICAgIGlmICghZGV0YWNoZWQgJiYgYWN0aXZlRWZmZWN0U2NvcGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9XHJcbiAgICAgICAgICAgICAgICAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzIHx8IChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgPSBbXSkpLnB1c2godGhpcykgLSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEVmZmVjdFNjb3BlLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRFZmZlY3RTY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IGN1cnJlbnRFZmZlY3RTY29wZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJjYW5ub3QgcnVuIGFuIGluYWN0aXZlIGVmZmVjdCBzY29wZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gbm9uLWRldGFjaGVkIHNjb3Blc1xyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIEVmZmVjdFNjb3BlLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgRWZmZWN0U2NvcGUucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXMucGFyZW50O1xyXG4gICAgfTtcclxuICAgIEVmZmVjdFNjb3BlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKGZyb21QYXJlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSB2b2lkIDAsIGwgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmVmZmVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVmZmVjdHNbaV0udGVhcmRvd24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5jbGVhbnVwcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYW51cHNbaV0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY29wZXMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLnNjb3Blcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3Blc1tpXS5zdG9wKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5lc3RlZCBzY29wZSwgZGVyZWZlcmVuY2UgZnJvbSBwYXJlbnQgdG8gYXZvaWQgbWVtb3J5IGxlYWtzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCAmJiAhZnJvbVBhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgLy8gb3B0aW1pemVkIE8oMSkgcmVtb3ZhbFxyXG4gICAgICAgICAgICAgICAgdmFyIGxhc3QgPSB0aGlzLnBhcmVudC5zY29wZXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdCAmJiBsYXN0ICE9PSB0aGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2NvcGVzW3RoaXMuaW5kZXhdID0gbGFzdDtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0LmluZGV4ID0gdGhpcy5pbmRleDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRWZmZWN0U2NvcGU7XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIGVmZmVjdFNjb3BlKGRldGFjaGVkKSB7XHJcbiAgICByZXR1cm4gbmV3IEVmZmVjdFNjb3BlKGRldGFjaGVkKTtcclxufVxyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiByZWNvcmRFZmZlY3RTY29wZShlZmZlY3QsIHNjb3BlKSB7XHJcbiAgICBpZiAoc2NvcGUgPT09IHZvaWQgMCkgeyBzY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlOyB9XHJcbiAgICBpZiAoc2NvcGUgJiYgc2NvcGUuYWN0aXZlKSB7XHJcbiAgICAgICAgc2NvcGUuZWZmZWN0cy5wdXNoKGVmZmVjdCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZ2V0Q3VycmVudFNjb3BlKCkge1xyXG4gICAgcmV0dXJuIGFjdGl2ZUVmZmVjdFNjb3BlO1xyXG59XHJcbmZ1bmN0aW9uIG9uU2NvcGVEaXNwb3NlKGZuKSB7XHJcbiAgICBpZiAoYWN0aXZlRWZmZWN0U2NvcGUpIHtcclxuICAgICAgICBhY3RpdmVFZmZlY3RTY29wZS5jbGVhbnVwcy5wdXNoKGZuKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICB3YXJuKFwib25TY29wZURpc3Bvc2UoKSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgZWZmZWN0IHNjb3BlXCIgK1xyXG4gICAgICAgICAgICBcIiB0byBiZSBhc3NvY2lhdGVkIHdpdGguXCIpO1xyXG4gICAgfVxyXG59XG5cbnZhciB1aWQkMSA9IDA7XHJcbi8qKlxyXG4gKiBBIHdhdGNoZXIgcGFyc2VzIGFuIGV4cHJlc3Npb24sIGNvbGxlY3RzIGRlcGVuZGVuY2llcyxcclxuICogYW5kIGZpcmVzIGNhbGxiYWNrIHdoZW4gdGhlIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcy5cclxuICogVGhpcyBpcyB1c2VkIGZvciBib3RoIHRoZSAkd2F0Y2goKSBhcGkgYW5kIGRpcmVjdGl2ZXMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxudmFyIFdhdGNoZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBXYXRjaGVyKHZtLCBleHBPckZuLCBjYiwgb3B0aW9ucywgaXNSZW5kZXJXYXRjaGVyKSB7XHJcbiAgICAgICAgcmVjb3JkRWZmZWN0U2NvcGUodGhpcywgYWN0aXZlRWZmZWN0U2NvcGUgfHwgKHZtID8gdm0uX3Njb3BlIDogdW5kZWZpbmVkKSk7XHJcbiAgICAgICAgaWYgKCh0aGlzLnZtID0gdm0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1JlbmRlcldhdGNoZXIpIHtcclxuICAgICAgICAgICAgICAgIHZtLl93YXRjaGVyID0gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBvcHRpb25zXHJcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7XHJcbiAgICAgICAgICAgIHRoaXMudXNlciA9ICEhb3B0aW9ucy51c2VyO1xyXG4gICAgICAgICAgICB0aGlzLmxhenkgPSAhIW9wdGlvbnMubGF6eTtcclxuICAgICAgICAgICAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7XHJcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlID0gb3B0aW9ucy5iZWZvcmU7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVHJhY2sgPSBvcHRpb25zLm9uVHJhY2s7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uVHJpZ2dlciA9IG9wdGlvbnMub25UcmlnZ2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlZXAgPSB0aGlzLnVzZXIgPSB0aGlzLmxhenkgPSB0aGlzLnN5bmMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYiA9IGNiO1xyXG4gICAgICAgIHRoaXMuaWQgPSArK3VpZCQxOyAvLyB1aWQgZm9yIGJhdGNoaW5nXHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZGlydHkgPSB0aGlzLmxhenk7IC8vIGZvciBsYXp5IHdhdGNoZXJzXHJcbiAgICAgICAgdGhpcy5kZXBzID0gW107XHJcbiAgICAgICAgdGhpcy5uZXdEZXBzID0gW107XHJcbiAgICAgICAgdGhpcy5kZXBJZHMgPSBuZXcgX1NldCgpO1xyXG4gICAgICAgIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTtcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gZXhwT3JGbi50b1N0cmluZygpIDogJyc7XHJcbiAgICAgICAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oZXhwT3JGbikpIHtcclxuICAgICAgICAgICAgdGhpcy5nZXR0ZXIgPSBleHBPckZuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5nZXR0ZXIgPSBwYXJzZVBhdGgoZXhwT3JGbik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5nZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0dGVyID0gbm9vcDtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiRmFpbGVkIHdhdGNoaW5nIHBhdGg6IFxcXCJcIi5jb25jYXQoZXhwT3JGbiwgXCJcXFwiIFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdXYXRjaGVyIG9ubHkgYWNjZXB0cyBzaW1wbGUgZG90LWRlbGltaXRlZCBwYXRocy4gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdGb3IgZnVsbCBjb250cm9sLCB1c2UgYSBmdW5jdGlvbiBpbnN0ZWFkLicsIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5sYXp5ID8gdW5kZWZpbmVkIDogdGhpcy5nZXQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXZhbHVhdGUgdGhlIGdldHRlciwgYW5kIHJlLWNvbGxlY3QgZGVwZW5kZW5jaWVzLlxyXG4gICAgICovXHJcbiAgICBXYXRjaGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcHVzaFRhcmdldCh0aGlzKTtcclxuICAgICAgICB2YXIgdmFsdWU7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcy52bTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuZ2V0dGVyLmNhbGwodm0sIHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudXNlcikge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwiZ2V0dGVyIGZvciB3YXRjaGVyIFxcXCJcIi5jb25jYXQodGhpcy5leHByZXNzaW9uLCBcIlxcXCJcIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgLy8gXCJ0b3VjaFwiIGV2ZXJ5IHByb3BlcnR5IHNvIHRoZXkgYXJlIGFsbCB0cmFja2VkIGFzXHJcbiAgICAgICAgICAgIC8vIGRlcGVuZGVuY2llcyBmb3IgZGVlcCB3YXRjaGluZ1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kZWVwKSB7XHJcbiAgICAgICAgICAgICAgICB0cmF2ZXJzZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG9wVGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cERlcHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQWRkIGEgZGVwZW5kZW5jeSB0byB0aGlzIGRpcmVjdGl2ZS5cclxuICAgICAqL1xyXG4gICAgV2F0Y2hlci5wcm90b3R5cGUuYWRkRGVwID0gZnVuY3Rpb24gKGRlcCkge1xyXG4gICAgICAgIHZhciBpZCA9IGRlcC5pZDtcclxuICAgICAgICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXdEZXBJZHMuYWRkKGlkKTtcclxuICAgICAgICAgICAgdGhpcy5uZXdEZXBzLnB1c2goZGVwKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRlcElkcy5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgICAgICBkZXAuYWRkU3ViKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2xlYW4gdXAgZm9yIGRlcGVuZGVuY3kgY29sbGVjdGlvbi5cclxuICAgICAqL1xyXG4gICAgV2F0Y2hlci5wcm90b3R5cGUuY2xlYW51cERlcHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFyIGRlcCA9IHRoaXMuZGVwc1tpXTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm5ld0RlcElkcy5oYXMoZGVwLmlkKSkge1xyXG4gICAgICAgICAgICAgICAgZGVwLnJlbW92ZVN1Yih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdG1wID0gdGhpcy5kZXBJZHM7XHJcbiAgICAgICAgdGhpcy5kZXBJZHMgPSB0aGlzLm5ld0RlcElkcztcclxuICAgICAgICB0aGlzLm5ld0RlcElkcyA9IHRtcDtcclxuICAgICAgICB0aGlzLm5ld0RlcElkcy5jbGVhcigpO1xyXG4gICAgICAgIHRtcCA9IHRoaXMuZGVwcztcclxuICAgICAgICB0aGlzLmRlcHMgPSB0aGlzLm5ld0RlcHM7XHJcbiAgICAgICAgdGhpcy5uZXdEZXBzID0gdG1wO1xyXG4gICAgICAgIHRoaXMubmV3RGVwcy5sZW5ndGggPSAwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaWJlciBpbnRlcmZhY2UuXHJcbiAgICAgKiBXaWxsIGJlIGNhbGxlZCB3aGVuIGEgZGVwZW5kZW5jeSBjaGFuZ2VzLlxyXG4gICAgICovXHJcbiAgICBXYXRjaGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICBpZiAodGhpcy5sYXp5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLnN5bmMpIHtcclxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHF1ZXVlV2F0Y2hlcih0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTY2hlZHVsZXIgam9iIGludGVyZmFjZS5cclxuICAgICAqIFdpbGwgYmUgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIuXHJcbiAgICAgKi9cclxuICAgIFdhdGNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLnZhbHVlIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBEZWVwIHdhdGNoZXJzIGFuZCB3YXRjaGVycyBvbiBPYmplY3QvQXJyYXlzIHNob3VsZCBmaXJlIGV2ZW5cclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIHZhbHVlIGlzIHRoZSBzYW1lLCBiZWNhdXNlIHRoZSB2YWx1ZSBtYXlcclxuICAgICAgICAgICAgICAgIC8vIGhhdmUgbXV0YXRlZC5cclxuICAgICAgICAgICAgICAgIGlzT2JqZWN0KHZhbHVlKSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWVwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzZXQgbmV3IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmZvID0gXCJjYWxsYmFjayBmb3Igd2F0Y2hlciBcXFwiXCIuY29uY2F0KHRoaXMuZXhwcmVzc2lvbiwgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKHRoaXMuY2IsIHRoaXMudm0sIFt2YWx1ZSwgb2xkVmFsdWVdLCB0aGlzLnZtLCBpbmZvKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRXZhbHVhdGUgdGhlIHZhbHVlIG9mIHRoZSB3YXRjaGVyLlxyXG4gICAgICogVGhpcyBvbmx5IGdldHMgY2FsbGVkIGZvciBsYXp5IHdhdGNoZXJzLlxyXG4gICAgICovXHJcbiAgICBXYXRjaGVyLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5nZXQoKTtcclxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZXBlbmQgb24gYWxsIGRlcHMgY29sbGVjdGVkIGJ5IHRoaXMgd2F0Y2hlci5cclxuICAgICAqL1xyXG4gICAgV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVwc1tpXS5kZXBlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgc2VsZiBmcm9tIGFsbCBkZXBlbmRlbmNpZXMnIHN1YnNjcmliZXIgbGlzdC5cclxuICAgICAqL1xyXG4gICAgV2F0Y2hlci5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudm0gJiYgIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcclxuICAgICAgICAgICAgcmVtb3ZlJDIodGhpcy52bS5fc2NvcGUuZWZmZWN0cywgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVwc1tpXS5yZW1vdmVTdWIodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMub25TdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBXYXRjaGVyO1xyXG59KCkpO1xuXG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucykge1xyXG4gICAgdmFyIGdldHRlcjtcclxuICAgIHZhciBzZXR0ZXI7XHJcbiAgICB2YXIgb25seUdldHRlciA9IGlzRnVuY3Rpb24oZ2V0dGVyT3JPcHRpb25zKTtcclxuICAgIGlmIChvbmx5R2V0dGVyKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xyXG4gICAgICAgIHNldHRlciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCdXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCB2YWx1ZSBpcyByZWFkb25seScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogbm9vcDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XHJcbiAgICAgICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcclxuICAgIH1cclxuICAgIHZhciB3YXRjaGVyID0gaXNTZXJ2ZXJSZW5kZXJpbmcoKVxyXG4gICAgICAgID8gbnVsbFxyXG4gICAgICAgIDogbmV3IFdhdGNoZXIoY3VycmVudEluc3RhbmNlLCBnZXR0ZXIsIG5vb3AsIHsgbGF6eTogdHJ1ZSB9KTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhdGNoZXIgJiYgZGVidWdPcHRpb25zKSB7XHJcbiAgICAgICAgd2F0Y2hlci5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XHJcbiAgICAgICAgd2F0Y2hlci5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xyXG4gICAgfVxyXG4gICAgdmFyIHJlZiA9IHtcclxuICAgICAgICAvLyBzb21lIGxpYnMgcmVseSBvbiB0aGUgcHJlc2VuY2UgZWZmZWN0IGZvciBjaGVja2luZyBjb21wdXRlZCByZWZzXHJcbiAgICAgICAgLy8gZnJvbSBub3JtYWwgcmVmcywgYnV0IHRoZSBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IG1hdHRlclxyXG4gICAgICAgIGVmZmVjdDogd2F0Y2hlcixcclxuICAgICAgICBnZXQgdmFsdWUoKSB7XHJcbiAgICAgICAgICAgIGlmICh3YXRjaGVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAod2F0Y2hlci5kaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoZXIuZXZhbHVhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChEZXAudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgRGVwLnRhcmdldC5vblRyYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERlcC50YXJnZXQub25UcmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6IERlcC50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHJlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3ZhbHVlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2hlci5kZXBlbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB3YXRjaGVyLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldHRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQgdmFsdWUobmV3VmFsKSB7XHJcbiAgICAgICAgICAgIHNldHRlcihuZXdWYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBkZWYocmVmLCBSZWZGbGFnLCB0cnVlKTtcclxuICAgIGRlZihyZWYsIFwiX192X2lzUmVhZG9ubHlcIiAvKiBSZWFjdGl2ZUZsYWdzLklTX1JFQURPTkxZICovLCBvbmx5R2V0dGVyKTtcclxuICAgIHJldHVybiByZWY7XHJcbn1cblxudmFyIFdBVENIRVIgPSBcIndhdGNoZXJcIjtcclxudmFyIFdBVENIRVJfQ0IgPSBcIlwiLmNvbmNhdChXQVRDSEVSLCBcIiBjYWxsYmFja1wiKTtcclxudmFyIFdBVENIRVJfR0VUVEVSID0gXCJcIi5jb25jYXQoV0FUQ0hFUiwgXCIgZ2V0dGVyXCIpO1xyXG52YXIgV0FUQ0hFUl9DTEVBTlVQID0gXCJcIi5jb25jYXQoV0FUQ0hFUiwgXCIgY2xlYW51cFwiKTtcclxuLy8gU2ltcGxlIGVmZmVjdC5cclxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIHdhdGNoUG9zdEVmZmVjdChlZmZlY3QsIG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbidcclxuICAgICAgICA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwgeyBmbHVzaDogJ3Bvc3QnIH0pIDogeyBmbHVzaDogJ3Bvc3QnIH0pKTtcclxufVxyXG5mdW5jdGlvbiB3YXRjaFN5bmNFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gZG9XYXRjaChlZmZlY3QsIG51bGwsIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nXHJcbiAgICAgICAgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgZmx1c2g6ICdzeW5jJyB9KSA6IHsgZmx1c2g6ICdzeW5jJyB9KSk7XHJcbn1cclxuLy8gaW5pdGlhbCB2YWx1ZSBmb3Igd2F0Y2hlcnMgdG8gdHJpZ2dlciBvbiB1bmRlZmluZWQgaW5pdGlhbCB2YWx1ZXNcclxudmFyIElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xyXG4vLyBpbXBsZW1lbnRhdGlvblxyXG5mdW5jdGlvbiB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB3YXJuKFwiYHdhdGNoKGZuLCBvcHRpb25zPylgIHNpZ25hdHVyZSBoYXMgYmVlbiBtb3ZlZCB0byBhIHNlcGFyYXRlIEFQSS4gXCIgK1xyXG4gICAgICAgICAgICBcIlVzZSBgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KWAgaW5zdGVhZC4gYHdhdGNoYCBub3cgb25seSBcIiArXHJcbiAgICAgICAgICAgIFwic3VwcG9ydHMgYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XHJcbn1cclxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCBfYSkge1xyXG4gICAgdmFyIF9iID0gX2EgPT09IHZvaWQgMCA/IGVtcHR5T2JqZWN0IDogX2EsIGltbWVkaWF0ZSA9IF9iLmltbWVkaWF0ZSwgZGVlcCA9IF9iLmRlZXAsIF9jID0gX2IuZmx1c2gsIGZsdXNoID0gX2MgPT09IHZvaWQgMCA/ICdwcmUnIDogX2MsIG9uVHJhY2sgPSBfYi5vblRyYWNrLCBvblRyaWdnZXIgPSBfYi5vblRyaWdnZXI7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY2IpIHtcclxuICAgICAgICBpZiAoaW1tZWRpYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2FybihcIndhdGNoKCkgXFxcImltbWVkaWF0ZVxcXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIFwiICtcclxuICAgICAgICAgICAgICAgIFwid2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkZWVwICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2FybihcIndhdGNoKCkgXFxcImRlZXBcXFwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSBcIiArXHJcbiAgICAgICAgICAgICAgICBcIndhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciB3YXJuSW52YWxpZFNvdXJjZSA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgd2FybihcIkludmFsaWQgd2F0Y2ggc291cmNlOiBcIi5jb25jYXQocywgXCIuIEEgd2F0Y2ggc291cmNlIGNhbiBvbmx5IGJlIGEgZ2V0dGVyL2VmZmVjdCBcIikgK1xyXG4gICAgICAgICAgICBcImZ1bmN0aW9uLCBhIHJlZiwgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLlwiKTtcclxuICAgIH07XHJcbiAgICB2YXIgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XHJcbiAgICB2YXIgY2FsbCA9IGZ1bmN0aW9uIChmbiwgdHlwZSwgYXJncykge1xyXG4gICAgICAgIGlmIChhcmdzID09PSB2b2lkIDApIHsgYXJncyA9IG51bGw7IH1cclxuICAgICAgICByZXR1cm4gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoZm4sIG51bGwsIGFyZ3MsIGluc3RhbmNlLCB0eXBlKTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0dGVyO1xyXG4gICAgdmFyIGZvcmNlVHJpZ2dlciA9IGZhbHNlO1xyXG4gICAgdmFyIGlzTXVsdGlTb3VyY2UgPSBmYWxzZTtcclxuICAgIGlmIChpc1JlZihzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlLnZhbHVlOyB9O1xyXG4gICAgICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNSZWFjdGl2ZShzb3VyY2UpKSB7XHJcbiAgICAgICAgZ2V0dGVyID0gaXNBcnJheShzb3VyY2UpXHJcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc291cmNlLl9fb2JfXy5kZXAuZGVwZW5kKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlOyB9O1xyXG4gICAgICAgIGRlZXAgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgICAgaXNNdWx0aVNvdXJjZSA9IHRydWU7XHJcbiAgICAgICAgZm9yY2VUcmlnZ2VyID0gc291cmNlLnNvbWUoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIGlzUmVhY3RpdmUocykgfHwgaXNTaGFsbG93KHMpOyB9KTtcclxuICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubWFwKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWYocykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVhY3RpdmUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhdmVyc2Uocyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGwocywgV0FUQ0hFUl9HRVRURVIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIGlmIChjYikge1xyXG4gICAgICAgICAgICAvLyBnZXR0ZXIgd2l0aCBjYlxyXG4gICAgICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsKHNvdXJjZSwgV0FUQ0hFUl9HRVRURVIpOyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbm8gY2IgLT4gc2ltcGxlIGVmZmVjdFxyXG4gICAgICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNsZWFudXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbChzb3VyY2UsIFdBVENIRVIsIFtvbkNsZWFudXBdKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBnZXR0ZXIgPSBub29wO1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybkludmFsaWRTb3VyY2Uoc291cmNlKTtcclxuICAgIH1cclxuICAgIGlmIChjYiAmJiBkZWVwKSB7XHJcbiAgICAgICAgdmFyIGJhc2VHZXR0ZXJfMSA9IGdldHRlcjtcclxuICAgICAgICBnZXR0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cmF2ZXJzZShiYXNlR2V0dGVyXzEoKSk7IH07XHJcbiAgICB9XHJcbiAgICB2YXIgY2xlYW51cDtcclxuICAgIHZhciBvbkNsZWFudXAgPSBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICBjbGVhbnVwID0gd2F0Y2hlci5vblN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhbGwoZm4sIFdBVENIRVJfQ0xFQU5VUCk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvLyBpbiBTU1IgdGhlcmUgaXMgbm8gbmVlZCB0byBzZXR1cCBhbiBhY3R1YWwgZWZmZWN0LCBhbmQgaXQgc2hvdWxkIGJlIG5vb3BcclxuICAgIC8vIHVubGVzcyBpdCdzIGVhZ2VyXHJcbiAgICBpZiAoaXNTZXJ2ZXJSZW5kZXJpbmcoKSkge1xyXG4gICAgICAgIC8vIHdlIHdpbGwgYWxzbyBub3QgY2FsbCB0aGUgaW52YWxpZGF0ZSBjYWxsYmFjayAoKyBydW5uZXIgaXMgbm90IHNldCB1cClcclxuICAgICAgICBvbkNsZWFudXAgPSBub29wO1xyXG4gICAgICAgIGlmICghY2IpIHtcclxuICAgICAgICAgICAgZ2V0dGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICBjYWxsKGNiLCBXQVRDSEVSX0NCLCBbXHJcbiAgICAgICAgICAgICAgICBnZXR0ZXIoKSxcclxuICAgICAgICAgICAgICAgIGlzTXVsdGlTb3VyY2UgPyBbXSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cFxyXG4gICAgICAgICAgICBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5vb3A7XHJcbiAgICB9XHJcbiAgICB2YXIgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKGN1cnJlbnRJbnN0YW5jZSwgZ2V0dGVyLCBub29wLCB7XHJcbiAgICAgICAgbGF6eTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICB3YXRjaGVyLm5vUmVjdXJzZSA9ICFjYjtcclxuICAgIHZhciBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBbXSA6IElOSVRJQUxfV0FUQ0hFUl9WQUxVRTtcclxuICAgIC8vIG92ZXJ3cml0ZSBkZWZhdWx0IHJ1blxyXG4gICAgd2F0Y2hlci5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF3YXRjaGVyLmFjdGl2ZSAmJlxyXG4gICAgICAgICAgICAhKGZsdXNoID09PSAncHJlJyAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5faXNCZWluZ0Rlc3Ryb3llZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2goc291cmNlLCBjYilcclxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gd2F0Y2hlci5nZXQoKTtcclxuICAgICAgICAgICAgaWYgKGRlZXAgfHxcclxuICAgICAgICAgICAgICAgIGZvcmNlVHJpZ2dlciB8fFxyXG4gICAgICAgICAgICAgICAgKGlzTXVsdGlTb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICA/IG5ld1ZhbHVlLnNvbWUoZnVuY3Rpb24gKHYsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc0NoYW5nZWQodiwgb2xkVmFsdWVbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGJlZm9yZSBydW5uaW5nIGNiIGFnYWluXHJcbiAgICAgICAgICAgICAgICBpZiAoY2xlYW51cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhbGwoY2IsIFdBVENIRVJfQ0IsIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID09PSBJTklUSUFMX1dBVENIRVJfVkFMVUUgPyB1bmRlZmluZWQgOiBvbGRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBvbkNsZWFudXBcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gd2F0Y2hFZmZlY3RcclxuICAgICAgICAgICAgd2F0Y2hlci5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKGZsdXNoID09PSAnc3luYycpIHtcclxuICAgICAgICB3YXRjaGVyLnVwZGF0ZSA9IHdhdGNoZXIucnVuO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZmx1c2ggPT09ICdwb3N0Jykge1xyXG4gICAgICAgIHdhdGNoZXIuaWQgPSBJbmZpbml0eTtcclxuICAgICAgICB3YXRjaGVyLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHF1ZXVlV2F0Y2hlcih3YXRjaGVyKTsgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIHByZVxyXG4gICAgICAgIHdhdGNoZXIudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UgPT09IGN1cnJlbnRJbnN0YW5jZSAmJiAhaW5zdGFuY2UuX2lzTW91bnRlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJlLXdhdGNoZXIgdHJpZ2dlcmVkIGJlZm9yZVxyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGluc3RhbmNlLl9wcmVXYXRjaGVycyB8fCAoaW5zdGFuY2UuX3ByZVdhdGNoZXJzID0gW10pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlci5pbmRleE9mKHdhdGNoZXIpIDwgMClcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXIucHVzaCh3YXRjaGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlV2F0Y2hlcih3YXRjaGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIHdhdGNoZXIub25UcmFjayA9IG9uVHJhY2s7XHJcbiAgICAgICAgd2F0Y2hlci5vblRyaWdnZXIgPSBvblRyaWdnZXI7XHJcbiAgICB9XHJcbiAgICAvLyBpbml0aWFsIHJ1blxyXG4gICAgaWYgKGNiKSB7XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xyXG4gICAgICAgICAgICB3YXRjaGVyLnJ1bigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb2xkVmFsdWUgPSB3YXRjaGVyLmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZsdXNoID09PSAncG9zdCcgJiYgaW5zdGFuY2UpIHtcclxuICAgICAgICBpbnN0YW5jZS4kb25jZSgnaG9vazptb3VudGVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gd2F0Y2hlci5nZXQoKTsgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB3YXRjaGVyLmdldCgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB3YXRjaGVyLnRlYXJkb3duKCk7XHJcbiAgICB9O1xyXG59XG5cbi8qKlxyXG4gKiBAaW50ZXJuYWwgdGhpcyBmdW5jdGlvbiBuZWVkcyBtYW51YWwgcHVibGljIHR5cGUgZGVjbGFyYXRpb24gYmVjYXVzZSBpdCByZWxpZXNcclxuICogb24gcHJldmlvdXNseSBtYW51YWxseSBhdXRob3JlZCB0eXBlcyBmcm9tIFZ1ZSAyXHJcbiAqL1xyXG5mdW5jdGlvbiBoKHR5cGUsIHByb3BzLCBjaGlsZHJlbikge1xyXG4gICAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4oXCJnbG9iYWxseSBpbXBvcnRlZCBoKCkgY2FuIG9ubHkgYmUgaW52b2tlZCB3aGVuIHRoZXJlIGlzIGFuIGFjdGl2ZSBcIiArXHJcbiAgICAgICAgICAgICAgICBcImNvbXBvbmVudCBpbnN0YW5jZSwgZS5nLiBzeW5jaHJvbm91c2x5IGluIGEgY29tcG9uZW50J3MgcmVuZGVyIG9yIHNldHVwIGZ1bmN0aW9uLlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50JDEoY3VycmVudEluc3RhbmNlLCB0eXBlLCBwcm9wcywgY2hpbGRyZW4sIDIsIHRydWUpO1xyXG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yKGVyciwgdm0sIGluZm8pIHtcclxuICAgIC8vIERlYWN0aXZhdGUgZGVwcyB0cmFja2luZyB3aGlsZSBwcm9jZXNzaW5nIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgcG9zc2libGUgaW5maW5pdGUgcmVuZGVyaW5nLlxyXG4gICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVleC9pc3N1ZXMvMTUwNVxyXG4gICAgcHVzaFRhcmdldCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAodm0pIHtcclxuICAgICAgICAgICAgdmFyIGN1ciA9IHZtO1xyXG4gICAgICAgICAgICB3aGlsZSAoKGN1ciA9IGN1ci4kcGFyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhvb2tzID0gY3VyLiRvcHRpb25zLmVycm9yQ2FwdHVyZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaG9va3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FwdHVyZSA9IGhvb2tzW2ldLmNhbGwoY3VyLCBlcnIsIHZtLCBpbmZvKSA9PT0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FwdHVyZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGUsIGN1ciwgJ2Vycm9yQ2FwdHVyZWQgaG9vaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGVyciwgdm0sIGluZm8pO1xyXG4gICAgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgcG9wVGFyZ2V0KCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW52b2tlV2l0aEVycm9ySGFuZGxpbmcoaGFuZGxlciwgY29udGV4dCwgYXJncywgdm0sIGluZm8pIHtcclxuICAgIHZhciByZXM7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlcyA9IGFyZ3MgPyBoYW5kbGVyLmFwcGx5KGNvbnRleHQsIGFyZ3MpIDogaGFuZGxlci5jYWxsKGNvbnRleHQpO1xyXG4gICAgICAgIGlmIChyZXMgJiYgIXJlcy5faXNWdWUgJiYgaXNQcm9taXNlKHJlcykgJiYgIXJlcy5faGFuZGxlZCkge1xyXG4gICAgICAgICAgICByZXMuY2F0Y2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGUsIHZtLCBpbmZvICsgXCIgKFByb21pc2UvYXN5bmMpXCIpOyB9KTtcclxuICAgICAgICAgICAgcmVzLl9oYW5kbGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGhhbmRsZUVycm9yKGUsIHZtLCBpbmZvKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gZ2xvYmFsSGFuZGxlRXJyb3IoZXJyLCB2bSwgaW5mbykge1xyXG4gICAgaWYgKGNvbmZpZy5lcnJvckhhbmRsZXIpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLmVycm9ySGFuZGxlci5jYWxsKG51bGwsIGVyciwgdm0sIGluZm8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBpbnRlbnRpb25hbGx5IHRocm93cyB0aGUgb3JpZ2luYWwgZXJyb3IgaW4gdGhlIGhhbmRsZXIsXHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBsb2cgaXQgdHdpY2VcclxuICAgICAgICAgICAgaWYgKGUgIT09IGVycikge1xyXG4gICAgICAgICAgICAgICAgbG9nRXJyb3IoZSwgbnVsbCwgJ2NvbmZpZy5lcnJvckhhbmRsZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxvZ0Vycm9yKGVyciwgdm0sIGluZm8pO1xyXG59XHJcbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdm0sIGluZm8pIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgd2FybihcIkVycm9yIGluIFwiLmNvbmNhdChpbmZvLCBcIjogXFxcIlwiKS5jb25jYXQoZXJyLnRvU3RyaW5nKCksIFwiXFxcIlwiKSwgdm0pO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgIGlmIChpbkJyb3dzZXIgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgfVxyXG59XG5cbi8qIGdsb2JhbHMgTXV0YXRpb25PYnNlcnZlciAqL1xyXG52YXIgaXNVc2luZ01pY3JvVGFzayA9IGZhbHNlO1xyXG52YXIgY2FsbGJhY2tzID0gW107XHJcbnZhciBwZW5kaW5nID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGZsdXNoQ2FsbGJhY2tzKCkge1xyXG4gICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcclxuICAgIGNhbGxiYWNrcy5sZW5ndGggPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3BpZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb3BpZXNbaV0oKTtcclxuICAgIH1cclxufVxyXG4vLyBIZXJlIHdlIGhhdmUgYXN5bmMgZGVmZXJyaW5nIHdyYXBwZXJzIHVzaW5nIG1pY3JvdGFza3MuXHJcbi8vIEluIDIuNSB3ZSB1c2VkIChtYWNybykgdGFza3MgKGluIGNvbWJpbmF0aW9uIHdpdGggbWljcm90YXNrcykuXHJcbi8vIEhvd2V2ZXIsIGl0IGhhcyBzdWJ0bGUgcHJvYmxlbXMgd2hlbiBzdGF0ZSBpcyBjaGFuZ2VkIHJpZ2h0IGJlZm9yZSByZXBhaW50XHJcbi8vIChlLmcuICM2ODEzLCBvdXQtaW4gdHJhbnNpdGlvbnMpLlxyXG4vLyBBbHNvLCB1c2luZyAobWFjcm8pIHRhc2tzIGluIGV2ZW50IGhhbmRsZXIgd291bGQgY2F1c2Ugc29tZSB3ZWlyZCBiZWhhdmlvcnNcclxuLy8gdGhhdCBjYW5ub3QgYmUgY2lyY3VtdmVudGVkIChlLmcuICM3MTA5LCAjNzE1MywgIzc1NDYsICM3ODM0LCAjODEwOSkuXHJcbi8vIFNvIHdlIG5vdyB1c2UgbWljcm90YXNrcyBldmVyeXdoZXJlLCBhZ2Fpbi5cclxuLy8gQSBtYWpvciBkcmF3YmFjayBvZiB0aGlzIHRyYWRlb2ZmIGlzIHRoYXQgdGhlcmUgYXJlIHNvbWUgc2NlbmFyaW9zXHJcbi8vIHdoZXJlIG1pY3JvdGFza3MgaGF2ZSB0b28gaGlnaCBhIHByaW9yaXR5IGFuZCBmaXJlIGluIGJldHdlZW4gc3VwcG9zZWRseVxyXG4vLyBzZXF1ZW50aWFsIGV2ZW50cyAoZS5nLiAjNDUyMSwgIzY2OTAsIHdoaWNoIGhhdmUgd29ya2Fyb3VuZHMpXHJcbi8vIG9yIGV2ZW4gYmV0d2VlbiBidWJibGluZyBvZiB0aGUgc2FtZSBldmVudCAoIzY1NjYpLlxyXG52YXIgdGltZXJGdW5jO1xyXG4vLyBUaGUgbmV4dFRpY2sgYmVoYXZpb3IgbGV2ZXJhZ2VzIHRoZSBtaWNyb3Rhc2sgcXVldWUsIHdoaWNoIGNhbiBiZSBhY2Nlc3NlZFxyXG4vLyB2aWEgZWl0aGVyIG5hdGl2ZSBQcm9taXNlLnRoZW4gb3IgTXV0YXRpb25PYnNlcnZlci5cclxuLy8gTXV0YXRpb25PYnNlcnZlciBoYXMgd2lkZXIgc3VwcG9ydCwgaG93ZXZlciBpdCBpcyBzZXJpb3VzbHkgYnVnZ2VkIGluXHJcbi8vIFVJV2ViVmlldyBpbiBpT1MgPj0gOS4zLjMgd2hlbiB0cmlnZ2VyZWQgaW4gdG91Y2ggZXZlbnQgaGFuZGxlcnMuIEl0XHJcbi8vIGNvbXBsZXRlbHkgc3RvcHMgd29ya2luZyBhZnRlciB0cmlnZ2VyaW5nIGEgZmV3IHRpbWVzLi4uIHNvLCBpZiBuYXRpdmVcclxuLy8gUHJvbWlzZSBpcyBhdmFpbGFibGUsIHdlIHdpbGwgdXNlIGl0OlxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCwgJGZsb3ctZGlzYWJsZS1saW5lICovXHJcbmlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJvbWlzZSkpIHtcclxuICAgIHZhciBwXzEgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwXzEudGhlbihmbHVzaENhbGxiYWNrcyk7XHJcbiAgICAgICAgLy8gSW4gcHJvYmxlbWF0aWMgVUlXZWJWaWV3cywgUHJvbWlzZS50aGVuIGRvZXNuJ3QgY29tcGxldGVseSBicmVhaywgYnV0XHJcbiAgICAgICAgLy8gaXQgY2FuIGdldCBzdHVjayBpbiBhIHdlaXJkIHN0YXRlIHdoZXJlIGNhbGxiYWNrcyBhcmUgcHVzaGVkIGludG8gdGhlXHJcbiAgICAgICAgLy8gbWljcm90YXNrIHF1ZXVlIGJ1dCB0aGUgcXVldWUgaXNuJ3QgYmVpbmcgZmx1c2hlZCwgdW50aWwgdGhlIGJyb3dzZXJcclxuICAgICAgICAvLyBuZWVkcyB0byBkbyBzb21lIG90aGVyIHdvcmssIGUuZy4gaGFuZGxlIGEgdGltZXIuIFRoZXJlZm9yZSB3ZSBjYW5cclxuICAgICAgICAvLyBcImZvcmNlXCIgdGhlIG1pY3JvdGFzayBxdWV1ZSB0byBiZSBmbHVzaGVkIGJ5IGFkZGluZyBhbiBlbXB0eSB0aW1lci5cclxuICAgICAgICBpZiAoaXNJT1MpXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQobm9vcCk7XHJcbiAgICB9O1xyXG4gICAgaXNVc2luZ01pY3JvVGFzayA9IHRydWU7XHJcbn1cclxuZWxzZSBpZiAoIWlzSUUgJiZcclxuICAgIHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgKGlzTmF0aXZlKE11dGF0aW9uT2JzZXJ2ZXIpIHx8XHJcbiAgICAgICAgLy8gUGhhbnRvbUpTIGFuZCBpT1MgNy54XHJcbiAgICAgICAgTXV0YXRpb25PYnNlcnZlci50b1N0cmluZygpID09PSAnW29iamVjdCBNdXRhdGlvbk9ic2VydmVyQ29uc3RydWN0b3JdJykpIHtcclxuICAgIC8vIFVzZSBNdXRhdGlvbk9ic2VydmVyIHdoZXJlIG5hdGl2ZSBQcm9taXNlIGlzIG5vdCBhdmFpbGFibGUsXHJcbiAgICAvLyBlLmcuIFBoYW50b21KUywgaU9TNywgQW5kcm9pZCA0LjRcclxuICAgIC8vICgjNjQ2NiBNdXRhdGlvbk9ic2VydmVyIGlzIHVucmVsaWFibGUgaW4gSUUxMSlcclxuICAgIHZhciBjb3VudGVyXzEgPSAxO1xyXG4gICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2hDYWxsYmFja3MpO1xyXG4gICAgdmFyIHRleHROb2RlXzEgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY291bnRlcl8xKSk7XHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRleHROb2RlXzEsIHtcclxuICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb3VudGVyXzEgPSAoY291bnRlcl8xICsgMSkgJSAyO1xyXG4gICAgICAgIHRleHROb2RlXzEuZGF0YSA9IFN0cmluZyhjb3VudGVyXzEpO1xyXG4gICAgfTtcclxuICAgIGlzVXNpbmdNaWNyb1Rhc2sgPSB0cnVlO1xyXG59XHJcbmVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKHNldEltbWVkaWF0ZSkpIHtcclxuICAgIC8vIEZhbGxiYWNrIHRvIHNldEltbWVkaWF0ZS5cclxuICAgIC8vIFRlY2huaWNhbGx5IGl0IGxldmVyYWdlcyB0aGUgKG1hY3JvKSB0YXNrIHF1ZXVlLFxyXG4gICAgLy8gYnV0IGl0IGlzIHN0aWxsIGEgYmV0dGVyIGNob2ljZSB0aGFuIHNldFRpbWVvdXQuXHJcbiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2V0SW1tZWRpYXRlKGZsdXNoQ2FsbGJhY2tzKTtcclxuICAgIH07XHJcbn1cclxuZWxzZSB7XHJcbiAgICAvLyBGYWxsYmFjayB0byBzZXRUaW1lb3V0LlxyXG4gICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZmx1c2hDYWxsYmFja3MsIDApO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBuZXh0VGljayhjYiwgY3R4KSB7XHJcbiAgICB2YXIgX3Jlc29sdmU7XHJcbiAgICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNiKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjYi5jYWxsKGN0eCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGN0eCwgJ25leHRUaWNrJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX3Jlc29sdmUpIHtcclxuICAgICAgICAgICAgX3Jlc29sdmUoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGlmICghcGVuZGluZykge1xyXG4gICAgICAgIHBlbmRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRpbWVyRnVuYygpO1xyXG4gICAgfVxyXG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICBpZiAoIWNiICYmIHR5cGVvZiBQcm9taXNlICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gdXNlQ3NzTW9kdWxlKG5hbWUpIHtcclxuICAgIGlmIChuYW1lID09PSB2b2lkIDApIHsgbmFtZSA9ICckc3R5bGUnOyB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAge1xyXG4gICAgICAgIGlmICghY3VycmVudEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcInVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVtcHR5T2JqZWN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbW9kID0gY3VycmVudEluc3RhbmNlW25hbWVdO1xyXG4gICAgICAgIGlmICghbW9kKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oXCJDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIi5cIikpO1xyXG4gICAgICAgICAgICByZXR1cm4gZW1wdHlPYmplY3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtb2Q7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciBTRkMncyBDU1MgdmFyaWFibGUgaW5qZWN0aW9uIGZlYXR1cmUuXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xyXG4gICAgaWYgKCFpbkJyb3dzZXIgJiYgIWZhbHNlKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcclxuICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4oXCJ1c2VDc3NWYXJzIGlzIGNhbGxlZCB3aXRob3V0IGN1cnJlbnQgYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgd2F0Y2hQb3N0RWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZWwgPSBpbnN0YW5jZS4kZWw7XHJcbiAgICAgICAgdmFyIHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UsIGluc3RhbmNlLl9zZXR1cFByb3h5KTtcclxuICAgICAgICBpZiAoZWwgJiYgZWwubm9kZVR5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZWwuc3R5bGU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB2YXJzKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZS5zZXRQcm9wZXJ0eShcIi0tXCIuY29uY2F0KGtleSksIHZhcnNba2V5XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogdjMtY29tcGF0aWJsZSBhc3luYyBjb21wb25lbnQgQVBJLlxyXG4gKiBAaW50ZXJuYWwgdGhlIHR5cGUgaXMgbWFudWFsbHkgZGVjbGFyZWQgaW4gPHJvb3Q+L3R5cGVzL3YzLWRlZmluZS1hc3luYy1jb21wb25lbnQuZC50c1xyXG4gKiBiZWNhdXNlIGl0IHJlbGllcyBvbiBleGlzdGluZyBtYW51YWwgdHlwZXNcclxuICovXHJcbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xyXG4gICAgICAgIHNvdXJjZSA9IHsgbG9hZGVyOiBzb3VyY2UgfTtcclxuICAgIH1cclxuICAgIHZhciBsb2FkZXIgPSBzb3VyY2UubG9hZGVyLCBsb2FkaW5nQ29tcG9uZW50ID0gc291cmNlLmxvYWRpbmdDb21wb25lbnQsIGVycm9yQ29tcG9uZW50ID0gc291cmNlLmVycm9yQ29tcG9uZW50LCBfYSA9IHNvdXJjZS5kZWxheSwgZGVsYXkgPSBfYSA9PT0gdm9pZCAwID8gMjAwIDogX2EsIHRpbWVvdXQgPSBzb3VyY2UudGltZW91dCwgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XHJcbiAgICBfYiA9IHNvdXJjZS5zdXNwZW5zaWJsZSwgLy8gdW5kZWZpbmVkID0gbmV2ZXIgdGltZXMgb3V0XHJcbiAgICBzdXNwZW5zaWJsZSA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iLCAvLyBpbiBWdWUgMyBkZWZhdWx0IGlzIHRydWVcclxuICAgIHVzZXJPbkVycm9yID0gc291cmNlLm9uRXJyb3I7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdXNwZW5zaWJsZSkge1xyXG4gICAgICAgIHdhcm4oXCJUaGUgc3VzcGVuc2libGJlIG9wdGlvbiBmb3IgYXN5bmMgY29tcG9uZW50cyBpcyBub3Qgc3VwcG9ydGVkIGluIFZ1ZTIuIEl0IGlzIGlnbm9yZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcclxuICAgIHZhciByZXRyaWVzID0gMDtcclxuICAgIHZhciByZXRyeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXRyaWVzKys7XHJcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiBsb2FkKCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRoaXNSZXF1ZXN0O1xyXG4gICAgICAgIHJldHVybiAocGVuZGluZ1JlcXVlc3QgfHxcclxuICAgICAgICAgICAgKHRoaXNSZXF1ZXN0ID0gcGVuZGluZ1JlcXVlc3QgPVxyXG4gICAgICAgICAgICAgICAgbG9hZGVyKClcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlck9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyUmV0cnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHJldHJ5KCkpOyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJGYWlsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVqZWN0KGVycik7IH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzUmVxdWVzdCAhPT0gcGVuZGluZ1JlcXVlc3QgJiYgcGVuZGluZ1JlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY29tcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKFwiQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IGFyZSB1c2luZyByZXRyeSgpLCBtYWtlIHN1cmUgdG8gcmV0dXJuIGl0cyByZXR1cm4gdmFsdWUuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcm9wIG1vZHVsZSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXAgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGNvbXAuX19lc01vZHVsZSB8fCBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb21wICYmICFpc09iamVjdChjb21wKSAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogXCIuY29uY2F0KGNvbXApKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXA7XHJcbiAgICAgICAgICAgICAgICB9KSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IGxvYWQoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCxcclxuICAgICAgICAgICAgZGVsYXk6IGRlbGF5LFxyXG4gICAgICAgICAgICB0aW1lb3V0OiB0aW1lb3V0LFxyXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JDb21wb25lbnQsXHJcbiAgICAgICAgICAgIGxvYWRpbmc6IGxvYWRpbmdDb21wb25lbnRcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBjcmVhdGVMaWZlQ3ljbGUoaG9va05hbWUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZm4sIHRhcmdldCkge1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHZvaWQgMCkgeyB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2U7IH1cclxuICAgICAgICBpZiAoIXRhcmdldCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiXCIuY29uY2F0KGZvcm1hdE5hbWUoaG9va05hbWUpLCBcIiBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJhc3NvY2lhdGVkIHdpdGguIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIkxpZmVjeWNsZSBpbmplY3Rpb24gQVBJcyBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBleGVjdXRpb24gb2Ygc2V0dXAoKS5cIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluamVjdEhvb2sodGFyZ2V0LCBob29rTmFtZSwgZm4pO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBmb3JtYXROYW1lKG5hbWUpIHtcclxuICAgIGlmIChuYW1lID09PSAnYmVmb3JlRGVzdHJveScpIHtcclxuICAgICAgICBuYW1lID0gJ2JlZm9yZVVubW91bnQnO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobmFtZSA9PT0gJ2Rlc3Ryb3llZCcpIHtcclxuICAgICAgICBuYW1lID0gJ3VubW91bnRlZCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJvblwiLmNvbmNhdChuYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpKTtcclxufVxyXG5mdW5jdGlvbiBpbmplY3RIb29rKGluc3RhbmNlLCBob29rTmFtZSwgZm4pIHtcclxuICAgIHZhciBvcHRpb25zID0gaW5zdGFuY2UuJG9wdGlvbnM7XHJcbiAgICBvcHRpb25zW2hvb2tOYW1lXSA9IG1lcmdlTGlmZWN5Y2xlSG9vayhvcHRpb25zW2hvb2tOYW1lXSwgZm4pO1xyXG59XHJcbnZhciBvbkJlZm9yZU1vdW50ID0gY3JlYXRlTGlmZUN5Y2xlKCdiZWZvcmVNb3VudCcpO1xyXG52YXIgb25Nb3VudGVkID0gY3JlYXRlTGlmZUN5Y2xlKCdtb3VudGVkJyk7XHJcbnZhciBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUxpZmVDeWNsZSgnYmVmb3JlVXBkYXRlJyk7XHJcbnZhciBvblVwZGF0ZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ3VwZGF0ZWQnKTtcclxudmFyIG9uQmVmb3JlVW5tb3VudCA9IGNyZWF0ZUxpZmVDeWNsZSgnYmVmb3JlRGVzdHJveScpO1xyXG52YXIgb25Vbm1vdW50ZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ2Rlc3Ryb3llZCcpO1xyXG52YXIgb25FcnJvckNhcHR1cmVkID0gY3JlYXRlTGlmZUN5Y2xlKCdlcnJvckNhcHR1cmVkJyk7XHJcbnZhciBvbkFjdGl2YXRlZCA9IGNyZWF0ZUxpZmVDeWNsZSgnYWN0aXZhdGVkJyk7XHJcbnZhciBvbkRlYWN0aXZhdGVkID0gY3JlYXRlTGlmZUN5Y2xlKCdkZWFjdGl2YXRlZCcpO1xyXG52YXIgb25TZXJ2ZXJQcmVmZXRjaCA9IGNyZWF0ZUxpZmVDeWNsZSgnc2VydmVyUHJlZmV0Y2gnKTtcclxudmFyIG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUxpZmVDeWNsZSgncmVuZGVyVHJhY2tlZCcpO1xyXG52YXIgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVMaWZlQ3ljbGUoJ3JlbmRlclRyaWdnZXJlZCcpO1xuXG4vKipcclxuICogTm90ZTogYWxzbyB1cGRhdGUgZGlzdC92dWUucnVudGltZS5tanMgd2hlbiBhZGRpbmcgbmV3IGV4cG9ydHMgdG8gdGhpcyBmaWxlLlxyXG4gKi9cclxudmFyIHZlcnNpb24gPSAnMi43LjQnO1xyXG4vKipcclxuICogQGludGVybmFsIHR5cGUgaXMgbWFudWFsbHkgZGVjbGFyZWQgaW4gPHJvb3Q+L3R5cGVzL3YzLWRlZmluZS1jb21wb25lbnQuZC50c1xyXG4gKi9cclxuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBvcHRpb25zO1xyXG59XG5cbnZhciBhcnJheUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcnJheU1ldGhvZHMpO1xyXG52YXIgTk9fSU5JSVRJQUxfVkFMVUUgPSB7fTtcclxuLyoqXHJcbiAqIEluIHNvbWUgY2FzZXMgd2UgbWF5IHdhbnQgdG8gZGlzYWJsZSBvYnNlcnZhdGlvbiBpbnNpZGUgYSBjb21wb25lbnQnc1xyXG4gKiB1cGRhdGUgY29tcHV0YXRpb24uXHJcbiAqL1xyXG52YXIgc2hvdWxkT2JzZXJ2ZSA9IHRydWU7XHJcbmZ1bmN0aW9uIHRvZ2dsZU9ic2VydmluZyh2YWx1ZSkge1xyXG4gICAgc2hvdWxkT2JzZXJ2ZSA9IHZhbHVlO1xyXG59XHJcbi8vIHNzciBtb2NrIGRlcFxyXG52YXIgbW9ja0RlcCA9IHtcclxuICAgIG5vdGlmeTogbm9vcCxcclxuICAgIGRlcGVuZDogbm9vcCxcclxuICAgIGFkZFN1Yjogbm9vcCxcclxuICAgIHJlbW92ZVN1Yjogbm9vcFxyXG59O1xyXG4vKipcclxuICogT2JzZXJ2ZXIgY2xhc3MgdGhhdCBpcyBhdHRhY2hlZCB0byBlYWNoIG9ic2VydmVkXHJcbiAqIG9iamVjdC4gT25jZSBhdHRhY2hlZCwgdGhlIG9ic2VydmVyIGNvbnZlcnRzIHRoZSB0YXJnZXRcclxuICogb2JqZWN0J3MgcHJvcGVydHkga2V5cyBpbnRvIGdldHRlci9zZXR0ZXJzIHRoYXRcclxuICogY29sbGVjdCBkZXBlbmRlbmNpZXMgYW5kIGRpc3BhdGNoIHVwZGF0ZXMuXHJcbiAqL1xyXG52YXIgT2JzZXJ2ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBPYnNlcnZlcih2YWx1ZSwgc2hhbGxvdywgbW9jaykge1xyXG4gICAgICAgIGlmIChzaGFsbG93ID09PSB2b2lkIDApIHsgc2hhbGxvdyA9IGZhbHNlOyB9XHJcbiAgICAgICAgaWYgKG1vY2sgPT09IHZvaWQgMCkgeyBtb2NrID0gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5zaGFsbG93ID0gc2hhbGxvdztcclxuICAgICAgICB0aGlzLm1vY2sgPSBtb2NrO1xyXG4gICAgICAgIC8vIHRoaXMudmFsdWUgPSB2YWx1ZVxyXG4gICAgICAgIHRoaXMuZGVwID0gbW9jayA/IG1vY2tEZXAgOiBuZXcgRGVwKCk7XHJcbiAgICAgICAgdGhpcy52bUNvdW50ID0gMDtcclxuICAgICAgICBkZWYodmFsdWUsICdfX29iX18nLCB0aGlzKTtcclxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgaWYgKCFtb2NrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzUHJvdG8pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5fX3Byb3RvX18gPSBhcnJheU1ldGhvZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1wcm90byAqL1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcnJheUtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBhcnJheUtleXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZih2YWx1ZSwga2V5LCBhcnJheU1ldGhvZHNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghc2hhbGxvdykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogV2FsayB0aHJvdWdoIGFsbCBwcm9wZXJ0aWVzIGFuZCBjb252ZXJ0IHRoZW0gaW50b1xyXG4gICAgICAgICAgICAgKiBnZXR0ZXIvc2V0dGVycy4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW5cclxuICAgICAgICAgICAgICogdmFsdWUgdHlwZSBpcyBPYmplY3QuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgICAgIGRlZmluZVJlYWN0aXZlKHZhbHVlLCBrZXksIE5PX0lOSUlUSUFMX1ZBTFVFLCB1bmRlZmluZWQsIHNoYWxsb3csIG1vY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPYnNlcnZlIGEgbGlzdCBvZiBBcnJheSBpdGVtcy5cclxuICAgICAqL1xyXG4gICAgT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmVBcnJheSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmUodmFsdWVbaV0sIGZhbHNlLCB0aGlzLm1vY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gT2JzZXJ2ZXI7XHJcbn0oKSk7XHJcbi8vIGhlbHBlcnNcclxuLyoqXHJcbiAqIEF0dGVtcHQgdG8gY3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGZvciBhIHZhbHVlLFxyXG4gKiByZXR1cm5zIHRoZSBuZXcgb2JzZXJ2ZXIgaWYgc3VjY2Vzc2Z1bGx5IG9ic2VydmVkLFxyXG4gKiBvciB0aGUgZXhpc3Rpbmcgb2JzZXJ2ZXIgaWYgdGhlIHZhbHVlIGFscmVhZHkgaGFzIG9uZS5cclxuICovXHJcbmZ1bmN0aW9uIG9ic2VydmUodmFsdWUsIHNoYWxsb3csIHNzck1vY2tSZWFjdGl2aXR5KSB7XHJcbiAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc1JlZih2YWx1ZSkgfHwgdmFsdWUgaW5zdGFuY2VvZiBWTm9kZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBvYjtcclxuICAgIGlmIChoYXNPd24odmFsdWUsICdfX29iX18nKSAmJiB2YWx1ZS5fX29iX18gaW5zdGFuY2VvZiBPYnNlcnZlcikge1xyXG4gICAgICAgIG9iID0gdmFsdWUuX19vYl9fO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2hvdWxkT2JzZXJ2ZSAmJlxyXG4gICAgICAgIChzc3JNb2NrUmVhY3Rpdml0eSB8fCAhaXNTZXJ2ZXJSZW5kZXJpbmcoKSkgJiZcclxuICAgICAgICAoaXNBcnJheSh2YWx1ZSkgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZSkpICYmXHJcbiAgICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgJiZcclxuICAgICAgICAhdmFsdWUuX192X3NraXAgLyogUmVhY3RpdmVGbGFncy5TS0lQICovKSB7XHJcbiAgICAgICAgb2IgPSBuZXcgT2JzZXJ2ZXIodmFsdWUsIHNoYWxsb3csIHNzck1vY2tSZWFjdGl2aXR5KTtcclxuICAgIH1cclxuICAgIHJldHVybiBvYjtcclxufVxyXG4vKipcclxuICogRGVmaW5lIGEgcmVhY3RpdmUgcHJvcGVydHkgb24gYW4gT2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmUob2JqLCBrZXksIHZhbCwgY3VzdG9tU2V0dGVyLCBzaGFsbG93LCBtb2NrKSB7XHJcbiAgICB2YXIgZGVwID0gbmV3IERlcCgpO1xyXG4gICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7XHJcbiAgICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuY29uZmlndXJhYmxlID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIGNhdGVyIGZvciBwcmUtZGVmaW5lZCBnZXR0ZXIvc2V0dGVyc1xyXG4gICAgdmFyIGdldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LmdldDtcclxuICAgIHZhciBzZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5zZXQ7XHJcbiAgICBpZiAoKCFnZXR0ZXIgfHwgc2V0dGVyKSAmJlxyXG4gICAgICAgICh2YWwgPT09IE5PX0lOSUlUSUFMX1ZBTFVFIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpKSB7XHJcbiAgICAgICAgdmFsID0gb2JqW2tleV07XHJcbiAgICB9XHJcbiAgICB2YXIgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUodmFsLCBmYWxzZSwgbW9jayk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlR2V0dGVyKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogdmFsO1xyXG4gICAgICAgICAgICBpZiAoRGVwLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXAuZGVwZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBvYmosXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIgLyogVHJhY2tPcFR5cGVzLkdFVCAqLyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBrZXlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlcC5kZXBlbmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZE9iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRPYi5kZXAuZGVwZW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZEFycmF5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGlzUmVmKHZhbHVlKSAmJiAhc2hhbGxvdyA/IHZhbHVlLnZhbHVlIDogdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlU2V0dGVyKG5ld1ZhbCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogdmFsO1xyXG4gICAgICAgICAgICBpZiAoIWhhc0NoYW5nZWQodmFsdWUsIG5ld1ZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjdXN0b21TZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbVNldHRlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHNldHRlci5jYWxsKG9iaiwgbmV3VmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChnZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vICM3OTgxOiBmb3IgYWNjZXNzb3IgcHJvcGVydGllcyB3aXRob3V0IHNldHRlclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUmVmKHZhbHVlKSAmJiAhaXNSZWYobmV3VmFsKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUudmFsdWUgPSBuZXdWYWw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBuZXdWYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUobmV3VmFsLCBmYWxzZSwgbW9jayk7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBkZXAubm90aWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiIC8qIFRyaWdnZXJPcFR5cGVzLlNFVCAqLyxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IG9iaixcclxuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcclxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZTogbmV3VmFsLFxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZXAubm90aWZ5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZXA7XHJcbn1cclxuZnVuY3Rpb24gc2V0KHRhcmdldCwga2V5LCB2YWwpIHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIChpc1VuZGVmKHRhcmdldCkgfHwgaXNQcmltaXRpdmUodGFyZ2V0KSkpIHtcclxuICAgICAgICB3YXJuKFwiQ2Fubm90IHNldCByZWFjdGl2ZSBwcm9wZXJ0eSBvbiB1bmRlZmluZWQsIG51bGwsIG9yIHByaW1pdGl2ZSB2YWx1ZTogXCIuY29uY2F0KHRhcmdldCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xyXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcIlNldCBvcGVyYXRpb24gb24ga2V5IFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuXCIpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgb2IgPSB0YXJnZXQuX19vYl9fO1xyXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc1ZhbGlkQXJyYXlJbmRleChrZXkpKSB7XHJcbiAgICAgICAgdGFyZ2V0Lmxlbmd0aCA9IE1hdGgubWF4KHRhcmdldC5sZW5ndGgsIGtleSk7XHJcbiAgICAgICAgdGFyZ2V0LnNwbGljZShrZXksIDEsIHZhbCk7XHJcbiAgICAgICAgLy8gd2hlbiBtb2NraW5nIGZvciBTU1IsIGFycmF5IG1ldGhvZHMgYXJlIG5vdCBoaWphY2tlZFxyXG4gICAgICAgIGlmIChvYiAmJiAhb2Iuc2hhbGxvdyAmJiBvYi5tb2NrKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmUodmFsLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAoa2V5IGluIHRhcmdldCAmJiAhKGtleSBpbiBPYmplY3QucHJvdG90eXBlKSkge1xyXG4gICAgICAgIHRhcmdldFtrZXldID0gdmFsO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0Ll9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4oJ0F2b2lkIGFkZGluZyByZWFjdGl2ZSBwcm9wZXJ0aWVzIHRvIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xyXG4gICAgICAgICAgICAgICAgJ2F0IHJ1bnRpbWUgLSBkZWNsYXJlIGl0IHVwZnJvbnQgaW4gdGhlIGRhdGEgb3B0aW9uLicpO1xyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbiAgICBpZiAoIW9iKSB7XHJcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWw7XHJcbiAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgIH1cclxuICAgIGRlZmluZVJlYWN0aXZlKG9iLnZhbHVlLCBrZXksIHZhbCwgdW5kZWZpbmVkLCBvYi5zaGFsbG93LCBvYi5tb2NrKTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgb2IuZGVwLm5vdGlmeSh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiYWRkXCIgLyogVHJpZ2dlck9wVHlwZXMuQUREICovLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcclxuICAgICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICAgIG5ld1ZhbHVlOiB2YWwsXHJcbiAgICAgICAgICAgIG9sZFZhbHVlOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG9iLmRlcC5ub3RpZnkoKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn1cclxuZnVuY3Rpb24gZGVsKHRhcmdldCwga2V5KSB7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAoaXNVbmRlZih0YXJnZXQpIHx8IGlzUHJpbWl0aXZlKHRhcmdldCkpKSB7XHJcbiAgICAgICAgd2FybihcIkNhbm5vdCBkZWxldGUgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6IFwiLmNvbmNhdCh0YXJnZXQpKTtcclxuICAgIH1cclxuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgaXNWYWxpZEFycmF5SW5kZXgoa2V5KSkge1xyXG4gICAgICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgb2IgPSB0YXJnZXQuX19vYl9fO1xyXG4gICAgaWYgKHRhcmdldC5faXNWdWUgfHwgKG9iICYmIG9iLnZtQ291bnQpKSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICB3YXJuKCdBdm9pZCBkZWxldGluZyBwcm9wZXJ0aWVzIG9uIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xyXG4gICAgICAgICAgICAgICAgJy0ganVzdCBzZXQgaXQgdG8gbnVsbC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoaXNSZWFkb25seSh0YXJnZXQpKSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICB3YXJuKFwiRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5cIikpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICghaGFzT3duKHRhcmdldCwga2V5KSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGRlbGV0ZSB0YXJnZXRba2V5XTtcclxuICAgIGlmICghb2IpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIG9iLmRlcC5ub3RpZnkoe1xyXG4gICAgICAgICAgICB0eXBlOiBcImRlbGV0ZVwiIC8qIFRyaWdnZXJPcFR5cGVzLkRFTEVURSAqLyxcclxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgICAgIGtleToga2V5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBvYi5kZXAubm90aWZ5KCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENvbGxlY3QgZGVwZW5kZW5jaWVzIG9uIGFycmF5IGVsZW1lbnRzIHdoZW4gdGhlIGFycmF5IGlzIHRvdWNoZWQsIHNpbmNlXHJcbiAqIHdlIGNhbm5vdCBpbnRlcmNlcHQgYXJyYXkgZWxlbWVudCBhY2Nlc3MgbGlrZSBwcm9wZXJ0eSBnZXR0ZXJzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVwZW5kQXJyYXkodmFsdWUpIHtcclxuICAgIGZvciAodmFyIGUgPSB2b2lkIDAsIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgZSA9IHZhbHVlW2ldO1xyXG4gICAgICAgIGlmIChlICYmIGUuX19vYl9fKSB7XHJcbiAgICAgICAgICAgIGUuX19vYl9fLmRlcC5kZXBlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQXJyYXkoZSkpIHtcclxuICAgICAgICAgICAgZGVwZW5kQXJyYXkoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBPcHRpb24gb3ZlcndyaXRpbmcgc3RyYXRlZ2llcyBhcmUgZnVuY3Rpb25zIHRoYXQgaGFuZGxlXHJcbiAqIGhvdyB0byBtZXJnZSBhIHBhcmVudCBvcHRpb24gdmFsdWUgYW5kIGEgY2hpbGQgb3B0aW9uXHJcbiAqIHZhbHVlIGludG8gdGhlIGZpbmFsIHZhbHVlLlxyXG4gKi9cclxudmFyIHN0cmF0cyA9IGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7XHJcbi8qKlxyXG4gKiBPcHRpb25zIHdpdGggcmVzdHJpY3Rpb25zXHJcbiAqL1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgc3RyYXRzLmVsID0gc3RyYXRzLnByb3BzRGF0YSA9IGZ1bmN0aW9uIChwYXJlbnQsIGNoaWxkLCB2bSwga2V5KSB7XHJcbiAgICAgICAgaWYgKCF2bSkge1xyXG4gICAgICAgICAgICB3YXJuKFwib3B0aW9uIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgaW5zdGFuY2UgXCIpICtcclxuICAgICAgICAgICAgICAgICdjcmVhdGlvbiB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmYXVsdFN0cmF0KHBhcmVudCwgY2hpbGQpO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogSGVscGVyIHRoYXQgcmVjdXJzaXZlbHkgbWVyZ2VzIHR3byBkYXRhIG9iamVjdHMgdG9nZXRoZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXJnZURhdGEodG8sIGZyb20pIHtcclxuICAgIGlmICghZnJvbSlcclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB2YXIga2V5LCB0b1ZhbCwgZnJvbVZhbDtcclxuICAgIHZhciBrZXlzID0gaGFzU3ltYm9sXHJcbiAgICAgICAgPyBSZWZsZWN0Lm93bktleXMoZnJvbSlcclxuICAgICAgICA6IE9iamVjdC5rZXlzKGZyb20pO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAvLyBpbiBjYXNlIHRoZSBvYmplY3QgaXMgYWxyZWFkeSBvYnNlcnZlZC4uLlxyXG4gICAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKVxyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB0b1ZhbCA9IHRvW2tleV07XHJcbiAgICAgICAgZnJvbVZhbCA9IGZyb21ba2V5XTtcclxuICAgICAgICBpZiAoIWhhc093bih0bywga2V5KSkge1xyXG4gICAgICAgICAgICBzZXQodG8sIGtleSwgZnJvbVZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRvVmFsICE9PSBmcm9tVmFsICYmXHJcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3QodG9WYWwpICYmXHJcbiAgICAgICAgICAgIGlzUGxhaW5PYmplY3QoZnJvbVZhbCkpIHtcclxuICAgICAgICAgICAgbWVyZ2VEYXRhKHRvVmFsLCBmcm9tVmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG87XHJcbn1cclxuLyoqXHJcbiAqIERhdGFcclxuICovXHJcbmZ1bmN0aW9uIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbCwgdm0pIHtcclxuICAgIGlmICghdm0pIHtcclxuICAgICAgICAvLyBpbiBhIFZ1ZS5leHRlbmQgbWVyZ2UsIGJvdGggc2hvdWxkIGJlIGZ1bmN0aW9uc1xyXG4gICAgICAgIGlmICghY2hpbGRWYWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudFZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFwYXJlbnRWYWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoaWxkVmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3aGVuIHBhcmVudFZhbCAmIGNoaWxkVmFsIGFyZSBib3RoIHByZXNlbnQsXHJcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXHJcbiAgICAgICAgLy8gbWVyZ2VkIHJlc3VsdCBvZiBib3RoIGZ1bmN0aW9ucy4uLiBubyBuZWVkIHRvXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgcGFyZW50VmFsIGlzIGEgZnVuY3Rpb24gaGVyZSBiZWNhdXNlXHJcbiAgICAgICAgLy8gaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb24gdG8gcGFzcyBwcmV2aW91cyBtZXJnZXMuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlRGF0YShpc0Z1bmN0aW9uKGNoaWxkVmFsKSA/IGNoaWxkVmFsLmNhbGwodGhpcywgdGhpcykgOiBjaGlsZFZhbCwgaXNGdW5jdGlvbihwYXJlbnRWYWwpID8gcGFyZW50VmFsLmNhbGwodGhpcywgdGhpcykgOiBwYXJlbnRWYWwpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkSW5zdGFuY2VEYXRhRm4oKSB7XHJcbiAgICAgICAgICAgIC8vIGluc3RhbmNlIG1lcmdlXHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZURhdGEgPSBpc0Z1bmN0aW9uKGNoaWxkVmFsKVxyXG4gICAgICAgICAgICAgICAgPyBjaGlsZFZhbC5jYWxsKHZtLCB2bSlcclxuICAgICAgICAgICAgICAgIDogY2hpbGRWYWw7XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0RGF0YSA9IGlzRnVuY3Rpb24ocGFyZW50VmFsKVxyXG4gICAgICAgICAgICAgICAgPyBwYXJlbnRWYWwuY2FsbCh2bSwgdm0pXHJcbiAgICAgICAgICAgICAgICA6IHBhcmVudFZhbDtcclxuICAgICAgICAgICAgaWYgKGluc3RhbmNlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lcmdlRGF0YShpbnN0YW5jZURhdGEsIGRlZmF1bHREYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuc3RyYXRzLmRhdGEgPSBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCwgdm0pIHtcclxuICAgIGlmICghdm0pIHtcclxuICAgICAgICBpZiAoY2hpbGRWYWwgJiYgdHlwZW9mIGNoaWxkVmFsICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcclxuICAgICAgICAgICAgICAgIHdhcm4oJ1RoZSBcImRhdGFcIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RoYXQgcmV0dXJucyBhIHBlci1pbnN0YW5jZSB2YWx1ZSBpbiBjb21wb25lbnQgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ2RlZmluaXRpb25zLicsIHZtKTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcmVudFZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWVyZ2VEYXRhT3JGbihwYXJlbnRWYWwsIGNoaWxkVmFsLCB2bSk7XHJcbn07XHJcbi8qKlxyXG4gKiBIb29rcyBhbmQgcHJvcHMgYXJlIG1lcmdlZCBhcyBhcnJheXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBtZXJnZUxpZmVjeWNsZUhvb2socGFyZW50VmFsLCBjaGlsZFZhbCkge1xyXG4gICAgdmFyIHJlcyA9IGNoaWxkVmFsXHJcbiAgICAgICAgPyBwYXJlbnRWYWxcclxuICAgICAgICAgICAgPyBwYXJlbnRWYWwuY29uY2F0KGNoaWxkVmFsKVxyXG4gICAgICAgICAgICA6IGlzQXJyYXkoY2hpbGRWYWwpXHJcbiAgICAgICAgICAgICAgICA/IGNoaWxkVmFsXHJcbiAgICAgICAgICAgICAgICA6IFtjaGlsZFZhbF1cclxuICAgICAgICA6IHBhcmVudFZhbDtcclxuICAgIHJldHVybiByZXMgPyBkZWR1cGVIb29rcyhyZXMpIDogcmVzO1xyXG59XHJcbmZ1bmN0aW9uIGRlZHVwZUhvb2tzKGhvb2tzKSB7XHJcbiAgICB2YXIgcmVzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHJlcy5pbmRleE9mKGhvb2tzW2ldKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmVzLnB1c2goaG9va3NbaV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuTElGRUNZQ0xFX0hPT0tTLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHtcclxuICAgIHN0cmF0c1tob29rXSA9IG1lcmdlTGlmZWN5Y2xlSG9vaztcclxufSk7XHJcbi8qKlxyXG4gKiBBc3NldHNcclxuICpcclxuICogV2hlbiBhIHZtIGlzIHByZXNlbnQgKGluc3RhbmNlIGNyZWF0aW9uKSwgd2UgbmVlZCB0byBkb1xyXG4gKiBhIHRocmVlLXdheSBtZXJnZSBiZXR3ZWVuIGNvbnN0cnVjdG9yIG9wdGlvbnMsIGluc3RhbmNlXHJcbiAqIG9wdGlvbnMgYW5kIHBhcmVudCBvcHRpb25zLlxyXG4gKi9cclxuZnVuY3Rpb24gbWVyZ2VBc3NldHMocGFyZW50VmFsLCBjaGlsZFZhbCwgdm0sIGtleSkge1xyXG4gICAgdmFyIHJlcyA9IE9iamVjdC5jcmVhdGUocGFyZW50VmFsIHx8IG51bGwpO1xyXG4gICAgaWYgKGNoaWxkVmFsKSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTtcclxuICAgICAgICByZXR1cm4gZXh0ZW5kKHJlcywgY2hpbGRWYWwpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxufVxyXG5BU1NFVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICBzdHJhdHNbdHlwZSArICdzJ10gPSBtZXJnZUFzc2V0cztcclxufSk7XHJcbi8qKlxyXG4gKiBXYXRjaGVycy5cclxuICpcclxuICogV2F0Y2hlcnMgaGFzaGVzIHNob3VsZCBub3Qgb3ZlcndyaXRlIG9uZVxyXG4gKiBhbm90aGVyLCBzbyB3ZSBtZXJnZSB0aGVtIGFzIGFycmF5cy5cclxuICovXHJcbnN0cmF0cy53YXRjaCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsLCB2bSwga2V5KSB7XHJcbiAgICAvLyB3b3JrIGFyb3VuZCBGaXJlZm94J3MgT2JqZWN0LnByb3RvdHlwZS53YXRjaC4uLlxyXG4gICAgLy9AdHMtZXhwZWN0LWVycm9yIHdvcmsgYXJvdW5kXHJcbiAgICBpZiAocGFyZW50VmFsID09PSBuYXRpdmVXYXRjaClcclxuICAgICAgICBwYXJlbnRWYWwgPSB1bmRlZmluZWQ7XHJcbiAgICAvL0B0cy1leHBlY3QtZXJyb3Igd29yayBhcm91bmRcclxuICAgIGlmIChjaGlsZFZhbCA9PT0gbmF0aXZlV2F0Y2gpXHJcbiAgICAgICAgY2hpbGRWYWwgPSB1bmRlZmluZWQ7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICghY2hpbGRWYWwpXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUocGFyZW50VmFsIHx8IG51bGwpO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTtcclxuICAgIH1cclxuICAgIGlmICghcGFyZW50VmFsKVxyXG4gICAgICAgIHJldHVybiBjaGlsZFZhbDtcclxuICAgIHZhciByZXQgPSB7fTtcclxuICAgIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XHJcbiAgICBmb3IgKHZhciBrZXlfMSBpbiBjaGlsZFZhbCkge1xyXG4gICAgICAgIHZhciBwYXJlbnRfMSA9IHJldFtrZXlfMV07XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRWYWxba2V5XzFdO1xyXG4gICAgICAgIGlmIChwYXJlbnRfMSAmJiAhaXNBcnJheShwYXJlbnRfMSkpIHtcclxuICAgICAgICAgICAgcGFyZW50XzEgPSBbcGFyZW50XzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXRba2V5XzFdID0gcGFyZW50XzEgPyBwYXJlbnRfMS5jb25jYXQoY2hpbGQpIDogaXNBcnJheShjaGlsZCkgPyBjaGlsZCA6IFtjaGlsZF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmV0O1xyXG59O1xyXG4vKipcclxuICogT3RoZXIgb2JqZWN0IGhhc2hlcy5cclxuICovXHJcbnN0cmF0cy5wcm9wcyA9XHJcbiAgICBzdHJhdHMubWV0aG9kcyA9XHJcbiAgICAgICAgc3RyYXRzLmluamVjdCA9XHJcbiAgICAgICAgICAgIHN0cmF0cy5jb21wdXRlZCA9XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocGFyZW50VmFsLCBjaGlsZFZhbCwgdm0sIGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZFZhbCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydE9iamVjdFR5cGUoa2V5LCBjaGlsZFZhbCwgdm0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudFZhbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkVmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkVmFsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQocmV0LCBjaGlsZFZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH07XHJcbnN0cmF0cy5wcm92aWRlID0gbWVyZ2VEYXRhT3JGbjtcclxuLyoqXHJcbiAqIERlZmF1bHQgc3RyYXRlZ3kuXHJcbiAqL1xyXG52YXIgZGVmYXVsdFN0cmF0ID0gZnVuY3Rpb24gKHBhcmVudFZhbCwgY2hpbGRWYWwpIHtcclxuICAgIHJldHVybiBjaGlsZFZhbCA9PT0gdW5kZWZpbmVkID8gcGFyZW50VmFsIDogY2hpbGRWYWw7XHJcbn07XHJcbi8qKlxyXG4gKiBWYWxpZGF0ZSBjb21wb25lbnQgbmFtZXNcclxuICovXHJcbmZ1bmN0aW9uIGNoZWNrQ29tcG9uZW50cyhvcHRpb25zKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5jb21wb25lbnRzKSB7XHJcbiAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKGtleSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUpIHtcclxuICAgIGlmICghbmV3IFJlZ0V4cChcIl5bYS16QS1aXVtcXFxcLVxcXFwuMC05X1wiLmNvbmNhdCh1bmljb2RlUmVnRXhwLnNvdXJjZSwgXCJdKiRcIikpLnRlc3QobmFtZSkpIHtcclxuICAgICAgICB3YXJuKCdJbnZhbGlkIGNvbXBvbmVudCBuYW1lOiBcIicgK1xyXG4gICAgICAgICAgICBuYW1lICtcclxuICAgICAgICAgICAgJ1wiLiBDb21wb25lbnQgbmFtZXMgJyArXHJcbiAgICAgICAgICAgICdzaG91bGQgY29uZm9ybSB0byB2YWxpZCBjdXN0b20gZWxlbWVudCBuYW1lIGluIGh0bWw1IHNwZWNpZmljYXRpb24uJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGNvbmZpZy5pc1Jlc2VydmVkVGFnKG5hbWUpKSB7XHJcbiAgICAgICAgd2FybignRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcclxuICAgICAgICAgICAgJ2lkOiAnICtcclxuICAgICAgICAgICAgbmFtZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEVuc3VyZSBhbGwgcHJvcHMgb3B0aW9uIHN5bnRheCBhcmUgbm9ybWFsaXplZCBpbnRvIHRoZVxyXG4gKiBPYmplY3QtYmFzZWQgZm9ybWF0LlxyXG4gKi9cclxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHMob3B0aW9ucywgdm0pIHtcclxuICAgIHZhciBwcm9wcyA9IG9wdGlvbnMucHJvcHM7XHJcbiAgICBpZiAoIXByb3BzKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIHZhciByZXMgPSB7fTtcclxuICAgIHZhciBpLCB2YWwsIG5hbWU7XHJcbiAgICBpZiAoaXNBcnJheShwcm9wcykpIHtcclxuICAgICAgICBpID0gcHJvcHMubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgdmFsID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9IGNhbWVsaXplKHZhbCk7XHJcbiAgICAgICAgICAgICAgICByZXNbbmFtZV0gPSB7IHR5cGU6IG51bGwgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKCdwcm9wcyBtdXN0IGJlIHN0cmluZ3Mgd2hlbiB1c2luZyBhcnJheSBzeW50YXguJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHByb3BzKSkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICB2YWwgPSBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICBuYW1lID0gY2FtZWxpemUoa2V5KTtcclxuICAgICAgICAgICAgcmVzW25hbWVdID0gaXNQbGFpbk9iamVjdCh2YWwpID8gdmFsIDogeyB0eXBlOiB2YWwgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgd2FybihcIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcXFwicHJvcHNcXFwiOiBleHBlY3RlZCBhbiBBcnJheSBvciBhbiBPYmplY3QsIFwiICtcclxuICAgICAgICAgICAgXCJidXQgZ290IFwiLmNvbmNhdCh0b1Jhd1R5cGUocHJvcHMpLCBcIi5cIiksIHZtKTtcclxuICAgIH1cclxuICAgIG9wdGlvbnMucHJvcHMgPSByZXM7XHJcbn1cclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhbGwgaW5qZWN0aW9ucyBpbnRvIE9iamVjdC1iYXNlZCBmb3JtYXRcclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZUluamVjdChvcHRpb25zLCB2bSkge1xyXG4gICAgdmFyIGluamVjdCA9IG9wdGlvbnMuaW5qZWN0O1xyXG4gICAgaWYgKCFpbmplY3QpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgdmFyIG5vcm1hbGl6ZWQgPSAob3B0aW9ucy5pbmplY3QgPSB7fSk7XHJcbiAgICBpZiAoaXNBcnJheShpbmplY3QpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmplY3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplZFtpbmplY3RbaV1dID0geyBmcm9tOiBpbmplY3RbaV0gfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGluamVjdCkpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gaW5qZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSBpbmplY3Rba2V5XTtcclxuICAgICAgICAgICAgbm9ybWFsaXplZFtrZXldID0gaXNQbGFpbk9iamVjdCh2YWwpXHJcbiAgICAgICAgICAgICAgICA/IGV4dGVuZCh7IGZyb206IGtleSB9LCB2YWwpXHJcbiAgICAgICAgICAgICAgICA6IHsgZnJvbTogdmFsIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIHdhcm4oXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcImluamVjdFxcXCI6IGV4cGVjdGVkIGFuIEFycmF5IG9yIGFuIE9iamVjdCwgXCIgK1xyXG4gICAgICAgICAgICBcImJ1dCBnb3QgXCIuY29uY2F0KHRvUmF3VHlwZShpbmplY3QpLCBcIi5cIiksIHZtKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogTm9ybWFsaXplIHJhdyBmdW5jdGlvbiBkaXJlY3RpdmVzIGludG8gb2JqZWN0IGZvcm1hdC5cclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZURpcmVjdGl2ZXMkMShvcHRpb25zKSB7XHJcbiAgICB2YXIgZGlycyA9IG9wdGlvbnMuZGlyZWN0aXZlcztcclxuICAgIGlmIChkaXJzKSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGRpcnMpIHtcclxuICAgICAgICAgICAgdmFyIGRlZiA9IGRpcnNba2V5XTtcclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGVmKSkge1xyXG4gICAgICAgICAgICAgICAgZGlyc1trZXldID0geyBiaW5kOiBkZWYsIHVwZGF0ZTogZGVmIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYXNzZXJ0T2JqZWN0VHlwZShuYW1lLCB2YWx1ZSwgdm0pIHtcclxuICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICB3YXJuKFwiSW52YWxpZCB2YWx1ZSBmb3Igb3B0aW9uIFxcXCJcIi5jb25jYXQobmFtZSwgXCJcXFwiOiBleHBlY3RlZCBhbiBPYmplY3QsIFwiKSArXHJcbiAgICAgICAgICAgIFwiYnV0IGdvdCBcIi5jb25jYXQodG9SYXdUeXBlKHZhbHVlKSwgXCIuXCIpLCB2bSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIE1lcmdlIHR3byBvcHRpb24gb2JqZWN0cyBpbnRvIGEgbmV3IG9uZS5cclxuICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS5cclxuICovXHJcbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhwYXJlbnQsIGNoaWxkLCB2bSkge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBjaGVja0NvbXBvbmVudHMoY2hpbGQpO1xyXG4gICAgfVxyXG4gICAgaWYgKGlzRnVuY3Rpb24oY2hpbGQpKSB7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGNoaWxkID0gY2hpbGQub3B0aW9ucztcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZVByb3BzKGNoaWxkLCB2bSk7XHJcbiAgICBub3JtYWxpemVJbmplY3QoY2hpbGQsIHZtKTtcclxuICAgIG5vcm1hbGl6ZURpcmVjdGl2ZXMkMShjaGlsZCk7XHJcbiAgICAvLyBBcHBseSBleHRlbmRzIGFuZCBtaXhpbnMgb24gdGhlIGNoaWxkIG9wdGlvbnMsXHJcbiAgICAvLyBidXQgb25seSBpZiBpdCBpcyBhIHJhdyBvcHRpb25zIG9iamVjdCB0aGF0IGlzbid0XHJcbiAgICAvLyB0aGUgcmVzdWx0IG9mIGFub3RoZXIgbWVyZ2VPcHRpb25zIGNhbGwuXHJcbiAgICAvLyBPbmx5IG1lcmdlZCBvcHRpb25zIGhhcyB0aGUgX2Jhc2UgcHJvcGVydHkuXHJcbiAgICBpZiAoIWNoaWxkLl9iYXNlKSB7XHJcbiAgICAgICAgaWYgKGNoaWxkLmV4dGVuZHMpIHtcclxuICAgICAgICAgICAgcGFyZW50ID0gbWVyZ2VPcHRpb25zKHBhcmVudCwgY2hpbGQuZXh0ZW5kcywgdm0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hpbGQubWl4aW5zKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGQubWl4aW5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gbWVyZ2VPcHRpb25zKHBhcmVudCwgY2hpbGQubWl4aW5zW2ldLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgb3B0aW9ucyA9IHt9O1xyXG4gICAgdmFyIGtleTtcclxuICAgIGZvciAoa2V5IGluIHBhcmVudCkge1xyXG4gICAgICAgIG1lcmdlRmllbGQoa2V5KTtcclxuICAgIH1cclxuICAgIGZvciAoa2V5IGluIGNoaWxkKSB7XHJcbiAgICAgICAgaWYgKCFoYXNPd24ocGFyZW50LCBrZXkpKSB7XHJcbiAgICAgICAgICAgIG1lcmdlRmllbGQoa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtZXJnZUZpZWxkKGtleSkge1xyXG4gICAgICAgIHZhciBzdHJhdCA9IHN0cmF0c1trZXldIHx8IGRlZmF1bHRTdHJhdDtcclxuICAgICAgICBvcHRpb25zW2tleV0gPSBzdHJhdChwYXJlbnRba2V5XSwgY2hpbGRba2V5XSwgdm0sIGtleSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3B0aW9ucztcclxufVxyXG4vKipcclxuICogUmVzb2x2ZSBhbiBhc3NldC5cclxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGJlY2F1c2UgY2hpbGQgaW5zdGFuY2VzIG5lZWQgYWNjZXNzXHJcbiAqIHRvIGFzc2V0cyBkZWZpbmVkIGluIGl0cyBhbmNlc3RvciBjaGFpbi5cclxuICovXHJcbmZ1bmN0aW9uIHJlc29sdmVBc3NldChvcHRpb25zLCB0eXBlLCBpZCwgd2Fybk1pc3NpbmcpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgYXNzZXRzID0gb3B0aW9uc1t0eXBlXTtcclxuICAgIC8vIGNoZWNrIGxvY2FsIHJlZ2lzdHJhdGlvbiB2YXJpYXRpb25zIGZpcnN0XHJcbiAgICBpZiAoaGFzT3duKGFzc2V0cywgaWQpKVxyXG4gICAgICAgIHJldHVybiBhc3NldHNbaWRdO1xyXG4gICAgdmFyIGNhbWVsaXplZElkID0gY2FtZWxpemUoaWQpO1xyXG4gICAgaWYgKGhhc093bihhc3NldHMsIGNhbWVsaXplZElkKSlcclxuICAgICAgICByZXR1cm4gYXNzZXRzW2NhbWVsaXplZElkXTtcclxuICAgIHZhciBQYXNjYWxDYXNlSWQgPSBjYXBpdGFsaXplKGNhbWVsaXplZElkKTtcclxuICAgIGlmIChoYXNPd24oYXNzZXRzLCBQYXNjYWxDYXNlSWQpKVxyXG4gICAgICAgIHJldHVybiBhc3NldHNbUGFzY2FsQ2FzZUlkXTtcclxuICAgIC8vIGZhbGxiYWNrIHRvIHByb3RvdHlwZSBjaGFpblxyXG4gICAgdmFyIHJlcyA9IGFzc2V0c1tpZF0gfHwgYXNzZXRzW2NhbWVsaXplZElkXSB8fCBhc3NldHNbUGFzY2FsQ2FzZUlkXTtcclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcclxuICAgICAgICB3YXJuKCdGYWlsZWQgdG8gcmVzb2x2ZSAnICsgdHlwZS5zbGljZSgwLCAtMSkgKyAnOiAnICsgaWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhLCB2bSkge1xyXG4gICAgdmFyIHByb3AgPSBwcm9wT3B0aW9uc1trZXldO1xyXG4gICAgdmFyIGFic2VudCA9ICFoYXNPd24ocHJvcHNEYXRhLCBrZXkpO1xyXG4gICAgdmFyIHZhbHVlID0gcHJvcHNEYXRhW2tleV07XHJcbiAgICAvLyBib29sZWFuIGNhc3RpbmdcclxuICAgIHZhciBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcclxuICAgIGlmIChib29sZWFuSW5kZXggPiAtMSkge1xyXG4gICAgICAgIGlmIChhYnNlbnQgJiYgIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XHJcbiAgICAgICAgICAgIHZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gaHlwaGVuYXRlKGtleSkpIHtcclxuICAgICAgICAgICAgLy8gb25seSBjYXN0IGVtcHR5IHN0cmluZyAvIHNhbWUgbmFtZSB0byBib29sZWFuIGlmXHJcbiAgICAgICAgICAgIC8vIGJvb2xlYW4gaGFzIGhpZ2hlciBwcmlvcml0eVxyXG4gICAgICAgICAgICB2YXIgc3RyaW5nSW5kZXggPSBnZXRUeXBlSW5kZXgoU3RyaW5nLCBwcm9wLnR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjaGVjayBkZWZhdWx0IHZhbHVlXHJcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHZhbHVlID0gZ2V0UHJvcERlZmF1bHRWYWx1ZSh2bSwgcHJvcCwga2V5KTtcclxuICAgICAgICAvLyBzaW5jZSB0aGUgZGVmYXVsdCB2YWx1ZSBpcyBhIGZyZXNoIGNvcHksXHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIG9ic2VydmUgaXQuXHJcbiAgICAgICAgdmFyIHByZXZTaG91bGRPYnNlcnZlID0gc2hvdWxkT2JzZXJ2ZTtcclxuICAgICAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XHJcbiAgICAgICAgb2JzZXJ2ZSh2YWx1ZSk7XHJcbiAgICAgICAgdG9nZ2xlT2JzZXJ2aW5nKHByZXZTaG91bGRPYnNlcnZlKTtcclxuICAgIH1cclxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgYXNzZXJ0UHJvcChwcm9wLCBrZXksIHZhbHVlLCB2bSwgYWJzZW50KTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4vKipcclxuICogR2V0IHRoZSBkZWZhdWx0IHZhbHVlIG9mIGEgcHJvcC5cclxuICovXHJcbmZ1bmN0aW9uIGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSkge1xyXG4gICAgLy8gbm8gZGVmYXVsdCwgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgaWYgKCFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICB2YXIgZGVmID0gcHJvcC5kZWZhdWx0O1xyXG4gICAgLy8gd2FybiBhZ2FpbnN0IG5vbi1mYWN0b3J5IGRlZmF1bHRzIGZvciBPYmplY3QgJiBBcnJheVxyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNPYmplY3QoZGVmKSkge1xyXG4gICAgICAgIHdhcm4oJ0ludmFsaWQgZGVmYXVsdCB2YWx1ZSBmb3IgcHJvcCBcIicgK1xyXG4gICAgICAgICAgICBrZXkgK1xyXG4gICAgICAgICAgICAnXCI6ICcgK1xyXG4gICAgICAgICAgICAnUHJvcHMgd2l0aCB0eXBlIE9iamVjdC9BcnJheSBtdXN0IHVzZSBhIGZhY3RvcnkgZnVuY3Rpb24gJyArXHJcbiAgICAgICAgICAgICd0byByZXR1cm4gdGhlIGRlZmF1bHQgdmFsdWUuJywgdm0pO1xyXG4gICAgfVxyXG4gICAgLy8gdGhlIHJhdyBwcm9wIHZhbHVlIHdhcyBhbHNvIHVuZGVmaW5lZCBmcm9tIHByZXZpb3VzIHJlbmRlcixcclxuICAgIC8vIHJldHVybiBwcmV2aW91cyBkZWZhdWx0IHZhbHVlIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHdhdGNoZXIgdHJpZ2dlclxyXG4gICAgaWYgKHZtICYmXHJcbiAgICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhICYmXHJcbiAgICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhW2tleV0gPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIHZtLl9wcm9wc1trZXldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gdm0uX3Byb3BzW2tleV07XHJcbiAgICB9XHJcbiAgICAvLyBjYWxsIGZhY3RvcnkgZnVuY3Rpb24gZm9yIG5vbi1GdW5jdGlvbiB0eXBlc1xyXG4gICAgLy8gYSB2YWx1ZSBpcyBGdW5jdGlvbiBpZiBpdHMgcHJvdG90eXBlIGlzIGZ1bmN0aW9uIGV2ZW4gYWNyb3NzIGRpZmZlcmVudCBleGVjdXRpb24gY29udGV4dFxyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oZGVmKSAmJiBnZXRUeXBlKHByb3AudHlwZSkgIT09ICdGdW5jdGlvbidcclxuICAgICAgICA/IGRlZi5jYWxsKHZtKVxyXG4gICAgICAgIDogZGVmO1xyXG59XHJcbi8qKlxyXG4gKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBhc3NlcnRQcm9wKHByb3AsIG5hbWUsIHZhbHVlLCB2bSwgYWJzZW50KSB7XHJcbiAgICBpZiAocHJvcC5yZXF1aXJlZCAmJiBhYnNlbnQpIHtcclxuICAgICAgICB3YXJuKCdNaXNzaW5nIHJlcXVpcmVkIHByb3A6IFwiJyArIG5hbWUgKyAnXCInLCB2bSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09IG51bGwgJiYgIXByb3AucmVxdWlyZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgdHlwZSA9IHByb3AudHlwZTtcclxuICAgIHZhciB2YWxpZCA9ICF0eXBlIHx8IHR5cGUgPT09IHRydWU7XHJcbiAgICB2YXIgZXhwZWN0ZWRUeXBlcyA9IFtdO1xyXG4gICAgaWYgKHR5cGUpIHtcclxuICAgICAgICBpZiAoIWlzQXJyYXkodHlwZSkpIHtcclxuICAgICAgICAgICAgdHlwZSA9IFt0eXBlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYXNzZXJ0ZWRUeXBlID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZVtpXSwgdm0pO1xyXG4gICAgICAgICAgICBleHBlY3RlZFR5cGVzLnB1c2goYXNzZXJ0ZWRUeXBlLmV4cGVjdGVkVHlwZSB8fCAnJyk7XHJcbiAgICAgICAgICAgIHZhbGlkID0gYXNzZXJ0ZWRUeXBlLnZhbGlkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBoYXZlRXhwZWN0ZWRUeXBlcyA9IGV4cGVjdGVkVHlwZXMuc29tZShmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfSk7XHJcbiAgICBpZiAoIXZhbGlkICYmIGhhdmVFeHBlY3RlZFR5cGVzKSB7XHJcbiAgICAgICAgd2FybihnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpLCB2bSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHZhbGlkYXRvciA9IHByb3AudmFsaWRhdG9yO1xyXG4gICAgaWYgKHZhbGlkYXRvcikge1xyXG4gICAgICAgIGlmICghdmFsaWRhdG9yKHZhbHVlKSkge1xyXG4gICAgICAgICAgICB3YXJuKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJywgdm0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG52YXIgc2ltcGxlQ2hlY2tSRSA9IC9eKFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbnxGdW5jdGlvbnxTeW1ib2x8QmlnSW50KSQvO1xyXG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlLCB2bSkge1xyXG4gICAgdmFyIHZhbGlkO1xyXG4gICAgdmFyIGV4cGVjdGVkVHlwZSA9IGdldFR5cGUodHlwZSk7XHJcbiAgICBpZiAoc2ltcGxlQ2hlY2tSRS50ZXN0KGV4cGVjdGVkVHlwZSkpIHtcclxuICAgICAgICB2YXIgdCA9IHR5cGVvZiB2YWx1ZTtcclxuICAgICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXHJcbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdPYmplY3QnKSB7XHJcbiAgICAgICAgdmFsaWQgPSBpc1BsYWluT2JqZWN0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xyXG4gICAgICAgIHZhbGlkID0gaXNBcnJheSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgd2FybignSW52YWxpZCBwcm9wIHR5cGU6IFwiJyArIFN0cmluZyh0eXBlKSArICdcIiBpcyBub3QgYSBjb25zdHJ1Y3RvcicsIHZtKTtcclxuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbGlkOiB2YWxpZCxcclxuICAgICAgICBleHBlY3RlZFR5cGU6IGV4cGVjdGVkVHlwZVxyXG4gICAgfTtcclxufVxyXG52YXIgZnVuY3Rpb25UeXBlQ2hlY2tSRSA9IC9eXFxzKmZ1bmN0aW9uIChcXHcrKS87XHJcbi8qKlxyXG4gKiBVc2UgZnVuY3Rpb24gc3RyaW5nIG5hbWUgdG8gY2hlY2sgYnVpbHQtaW4gdHlwZXMsXHJcbiAqIGJlY2F1c2UgYSBzaW1wbGUgZXF1YWxpdHkgY2hlY2sgd2lsbCBmYWlsIHdoZW4gcnVubmluZ1xyXG4gKiBhY3Jvc3MgZGlmZmVyZW50IHZtcyAvIGlmcmFtZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUeXBlKGZuKSB7XHJcbiAgICB2YXIgbWF0Y2ggPSBmbiAmJiBmbi50b1N0cmluZygpLm1hdGNoKGZ1bmN0aW9uVHlwZUNoZWNrUkUpO1xyXG4gICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiAnJztcclxufVxyXG5mdW5jdGlvbiBpc1NhbWVUeXBlKGEsIGIpIHtcclxuICAgIHJldHVybiBnZXRUeXBlKGEpID09PSBnZXRUeXBlKGIpO1xyXG59XHJcbmZ1bmN0aW9uIGdldFR5cGVJbmRleCh0eXBlLCBleHBlY3RlZFR5cGVzKSB7XHJcbiAgICBpZiAoIWlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHtcclxuICAgICAgICByZXR1cm4gaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzLCB0eXBlKSA/IDAgOiAtMTtcclxuICAgIH1cclxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBleHBlY3RlZFR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlc1tpXSwgdHlwZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIC0xO1xyXG59XHJcbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZShuYW1lLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlcykge1xyXG4gICAgdmFyIG1lc3NhZ2UgPSBcIkludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXFxcIlwiLmNvbmNhdChuYW1lLCBcIlxcXCIuXCIpICtcclxuICAgICAgICBcIiBFeHBlY3RlZCBcIi5jb25jYXQoZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignLCAnKSk7XHJcbiAgICB2YXIgZXhwZWN0ZWRUeXBlID0gZXhwZWN0ZWRUeXBlc1swXTtcclxuICAgIHZhciByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xyXG4gICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IGV4cGVjdGVkIHZhbHVlXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiZcclxuICAgICAgICBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJlxyXG4gICAgICAgIGlzRXhwbGljYWJsZSh0eXBlb2YgdmFsdWUpICYmXHJcbiAgICAgICAgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHtcclxuICAgICAgICBtZXNzYWdlICs9IFwiIHdpdGggdmFsdWUgXCIuY29uY2F0KHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSkpO1xyXG4gICAgfVxyXG4gICAgbWVzc2FnZSArPSBcIiwgZ290IFwiLmNvbmNhdChyZWNlaXZlZFR5cGUsIFwiIFwiKTtcclxuICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSByZWNlaXZlZCB2YWx1ZVxyXG4gICAgaWYgKGlzRXhwbGljYWJsZShyZWNlaXZlZFR5cGUpKSB7XHJcbiAgICAgICAgbWVzc2FnZSArPSBcIndpdGggdmFsdWUgXCIuY29uY2F0KHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSksIFwiLlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBtZXNzYWdlO1xyXG59XHJcbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcclxuICAgIGlmICh0eXBlID09PSAnU3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KE51bWJlcih2YWx1ZSkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHZhbHVlKTtcclxuICAgIH1cclxufVxyXG52YXIgRVhQTElDQUJMRV9UWVBFUyA9IFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ107XHJcbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIEVYUExJQ0FCTEVfVFlQRVMuc29tZShmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbTsgfSk7XHJcbn1cclxuZnVuY3Rpb24gaXNCb29sZWFuKCkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyZ3Muc29tZShmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSAnYm9vbGVhbic7IH0pO1xyXG59XG5cbi8qIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aCBQcm94eSAqL1xyXG52YXIgaW5pdFByb3h5O1xyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgdmFyIGFsbG93ZWRHbG9iYWxzXzEgPSBtYWtlTWFwKCdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLCcgK1xyXG4gICAgICAgICdwYXJzZUZsb2F0LHBhcnNlSW50LGRlY29kZVVSSSxkZWNvZGVVUklDb21wb25lbnQsZW5jb2RlVVJJLGVuY29kZVVSSUNvbXBvbmVudCwnICtcclxuICAgICAgICAnTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCwnICtcclxuICAgICAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxyXG4gICAgKTtcclxuICAgIHZhciB3YXJuTm9uUHJlc2VudF8xID0gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgd2FybihcIlByb3BlcnR5IG9yIG1ldGhvZCBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBpbnN0YW5jZSBidXQgXCIpICtcclxuICAgICAgICAgICAgJ3JlZmVyZW5jZWQgZHVyaW5nIHJlbmRlci4gTWFrZSBzdXJlIHRoYXQgdGhpcyBwcm9wZXJ0eSBpcyByZWFjdGl2ZSwgJyArXHJcbiAgICAgICAgICAgICdlaXRoZXIgaW4gdGhlIGRhdGEgb3B0aW9uLCBvciBmb3IgY2xhc3MtYmFzZWQgY29tcG9uZW50cywgYnkgJyArXHJcbiAgICAgICAgICAgICdpbml0aWFsaXppbmcgdGhlIHByb3BlcnR5LiAnICtcclxuICAgICAgICAgICAgJ1NlZTogaHR0cHM6Ly92dWVqcy5vcmcvdjIvZ3VpZGUvcmVhY3Rpdml0eS5odG1sI0RlY2xhcmluZy1SZWFjdGl2ZS1Qcm9wZXJ0aWVzLicsIHRhcmdldCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIHdhcm5SZXNlcnZlZFByZWZpeF8xID0gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgd2FybihcIlByb3BlcnR5IFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgbXVzdCBiZSBhY2Nlc3NlZCB3aXRoIFxcXCIkZGF0YS5cIikuY29uY2F0KGtleSwgXCJcXFwiIGJlY2F1c2UgXCIpICtcclxuICAgICAgICAgICAgJ3Byb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCBcIiRcIiBvciBcIl9cIiBhcmUgbm90IHByb3hpZWQgaW4gdGhlIFZ1ZSBpbnN0YW5jZSB0byAnICtcclxuICAgICAgICAgICAgJ3ByZXZlbnQgY29uZmxpY3RzIHdpdGggVnVlIGludGVybmFscy4gJyArXHJcbiAgICAgICAgICAgICdTZWU6IGh0dHBzOi8vdnVlanMub3JnL3YyL2FwaS8jZGF0YScsIHRhcmdldCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGhhc1Byb3h5XzEgPSB0eXBlb2YgUHJveHkgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFByb3h5KTtcclxuICAgIGlmIChoYXNQcm94eV8xKSB7XHJcbiAgICAgICAgdmFyIGlzQnVpbHRJbk1vZGlmaWVyXzEgPSBtYWtlTWFwKCdzdG9wLHByZXZlbnQsc2VsZixjdHJsLHNoaWZ0LGFsdCxtZXRhLGV4YWN0Jyk7XHJcbiAgICAgICAgY29uZmlnLmtleUNvZGVzID0gbmV3IFByb3h5KGNvbmZpZy5rZXlDb2Rlcywge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0J1aWx0SW5Nb2RpZmllcl8xKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiQXZvaWQgb3ZlcndyaXRpbmcgYnVpbHQtaW4gbW9kaWZpZXIgaW4gY29uZmlnLmtleUNvZGVzOiAuXCIuY29uY2F0KGtleSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHZhciBoYXNIYW5kbGVyXzEgPSB7XHJcbiAgICAgICAgaGFzOiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHtcclxuICAgICAgICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7XHJcbiAgICAgICAgICAgIHZhciBpc0FsbG93ZWQgPSBhbGxvd2VkR2xvYmFsc18xKGtleSkgfHxcclxuICAgICAgICAgICAgICAgICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGtleS5jaGFyQXQoMCkgPT09ICdfJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICEoa2V5IGluIHRhcmdldC4kZGF0YSkpO1xyXG4gICAgICAgICAgICBpZiAoIWhhcyAmJiAhaXNBbGxvd2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRhcmdldC4kZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICB3YXJuUmVzZXJ2ZWRQcmVmaXhfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgd2Fybk5vblByZXNlbnRfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGhhcyB8fCAhaXNBbGxvd2VkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgZ2V0SGFuZGxlcl8xID0ge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHRhcmdldC4kZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICB3YXJuUmVzZXJ2ZWRQcmVmaXhfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgd2Fybk5vblByZXNlbnRfMSh0YXJnZXQsIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpbml0UHJveHkgPSBmdW5jdGlvbiBpbml0UHJveHkodm0pIHtcclxuICAgICAgICBpZiAoaGFzUHJveHlfMSkge1xyXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2VcclxuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcclxuICAgICAgICAgICAgdmFyIGhhbmRsZXJzID0gb3B0aW9ucy5yZW5kZXIgJiYgb3B0aW9ucy5yZW5kZXIuX3dpdGhTdHJpcHBlZCA/IGdldEhhbmRsZXJfMSA6IGhhc0hhbmRsZXJfMTtcclxuICAgICAgICAgICAgdm0uX3JlbmRlclByb3h5ID0gbmV3IFByb3h5KHZtLCBoYW5kbGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XG5cbnZhciBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24gPSB7XHJcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgZ2V0OiBub29wLFxyXG4gICAgc2V0OiBub29wXHJcbn07XHJcbmZ1bmN0aW9uIHByb3h5KHRhcmdldCwgc291cmNlS2V5LCBrZXkpIHtcclxuICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBmdW5jdGlvbiBwcm94eUdldHRlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpc1tzb3VyY2VLZXldW2tleV07XHJcbiAgICB9O1xyXG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uIHByb3h5U2V0dGVyKHZhbCkge1xyXG4gICAgICAgIHRoaXNbc291cmNlS2V5XVtrZXldID0gdmFsO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uKTtcclxufVxyXG5mdW5jdGlvbiBpbml0U3RhdGUodm0pIHtcclxuICAgIHZhciBvcHRzID0gdm0uJG9wdGlvbnM7XHJcbiAgICBpZiAob3B0cy5wcm9wcylcclxuICAgICAgICBpbml0UHJvcHMkMSh2bSwgb3B0cy5wcm9wcyk7XHJcbiAgICAvLyBDb21wb3NpdGlvbiBBUElcclxuICAgIGluaXRTZXR1cCh2bSk7XHJcbiAgICBpZiAob3B0cy5tZXRob2RzKVxyXG4gICAgICAgIGluaXRNZXRob2RzKHZtLCBvcHRzLm1ldGhvZHMpO1xyXG4gICAgaWYgKG9wdHMuZGF0YSkge1xyXG4gICAgICAgIGluaXREYXRhKHZtKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBvYiA9IG9ic2VydmUoKHZtLl9kYXRhID0ge30pKTtcclxuICAgICAgICBvYiAmJiBvYi52bUNvdW50Kys7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0cy5jb21wdXRlZClcclxuICAgICAgICBpbml0Q29tcHV0ZWQkMSh2bSwgb3B0cy5jb21wdXRlZCk7XHJcbiAgICBpZiAob3B0cy53YXRjaCAmJiBvcHRzLndhdGNoICE9PSBuYXRpdmVXYXRjaCkge1xyXG4gICAgICAgIGluaXRXYXRjaCh2bSwgb3B0cy53YXRjaCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaW5pdFByb3BzJDEodm0sIHByb3BzT3B0aW9ucykge1xyXG4gICAgdmFyIHByb3BzRGF0YSA9IHZtLiRvcHRpb25zLnByb3BzRGF0YSB8fCB7fTtcclxuICAgIHZhciBwcm9wcyA9ICh2bS5fcHJvcHMgPSBzaGFsbG93UmVhY3RpdmUoe30pKTtcclxuICAgIC8vIGNhY2hlIHByb3Aga2V5cyBzbyB0aGF0IGZ1dHVyZSBwcm9wcyB1cGRhdGVzIGNhbiBpdGVyYXRlIHVzaW5nIEFycmF5XHJcbiAgICAvLyBpbnN0ZWFkIG9mIGR5bmFtaWMgb2JqZWN0IGtleSBlbnVtZXJhdGlvbi5cclxuICAgIHZhciBrZXlzID0gKHZtLiRvcHRpb25zLl9wcm9wS2V5cyA9IFtdKTtcclxuICAgIHZhciBpc1Jvb3QgPSAhdm0uJHBhcmVudDtcclxuICAgIC8vIHJvb3QgaW5zdGFuY2UgcHJvcHMgc2hvdWxkIGJlIGNvbnZlcnRlZFxyXG4gICAgaWYgKCFpc1Jvb3QpIHtcclxuICAgICAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gdmFsaWRhdGVQcm9wKGtleSwgcHJvcHNPcHRpb25zLCBwcm9wc0RhdGEsIHZtKTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHZhciBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChpc1Jlc2VydmVkQXR0cmlidXRlKGh5cGhlbmF0ZWRLZXkpIHx8XHJcbiAgICAgICAgICAgICAgICBjb25maWcuaXNSZXNlcnZlZEF0dHIoaHlwaGVuYXRlZEtleSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oXCJcXFwiXCIuY29uY2F0KGh5cGhlbmF0ZWRLZXksIFwiXFxcIiBpcyBhIHJlc2VydmVkIGF0dHJpYnV0ZSBhbmQgY2Fubm90IGJlIHVzZWQgYXMgY29tcG9uZW50IHByb3AuXCIpLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmaW5lUmVhY3RpdmUocHJvcHMsIGtleSwgdmFsdWUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNSb290ICYmICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiQXZvaWQgbXV0YXRpbmcgYSBwcm9wIGRpcmVjdGx5IHNpbmNlIHRoZSB2YWx1ZSB3aWxsIGJlIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcGFyZW50IGNvbXBvbmVudCByZS1yZW5kZXJzLiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiSW5zdGVhZCwgdXNlIGEgZGF0YSBvciBjb21wdXRlZCBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcHJvcCdzIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZS4gUHJvcCBiZWluZyBtdXRhdGVkOiBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiXCIpLCB2bSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZGVmaW5lUmVhY3RpdmUocHJvcHMsIGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzdGF0aWMgcHJvcHMgYXJlIGFscmVhZHkgcHJveGllZCBvbiB0aGUgY29tcG9uZW50J3MgcHJvdG90eXBlXHJcbiAgICAgICAgLy8gZHVyaW5nIFZ1ZS5leHRlbmQoKS4gV2Ugb25seSBuZWVkIHRvIHByb3h5IHByb3BzIGRlZmluZWQgYXRcclxuICAgICAgICAvLyBpbnN0YW50aWF0aW9uIGhlcmUuXHJcbiAgICAgICAgaWYgKCEoa2V5IGluIHZtKSkge1xyXG4gICAgICAgICAgICBwcm94eSh2bSwgXCJfcHJvcHNcIiwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZm9yICh2YXIga2V5IGluIHByb3BzT3B0aW9ucykge1xyXG4gICAgICAgIF9sb29wXzEoa2V5KTtcclxuICAgIH1cclxuICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcclxufVxyXG5mdW5jdGlvbiBpbml0RGF0YSh2bSkge1xyXG4gICAgdmFyIGRhdGEgPSB2bS4kb3B0aW9ucy5kYXRhO1xyXG4gICAgZGF0YSA9IHZtLl9kYXRhID0gaXNGdW5jdGlvbihkYXRhKSA/IGdldERhdGEoZGF0YSwgdm0pIDogZGF0YSB8fCB7fTtcclxuICAgIGlmICghaXNQbGFpbk9iamVjdChkYXRhKSkge1xyXG4gICAgICAgIGRhdGEgPSB7fTtcclxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgIHdhcm4oJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0OlxcbicgK1xyXG4gICAgICAgICAgICAgICAgJ2h0dHBzOi8vdnVlanMub3JnL3YyL2d1aWRlL2NvbXBvbmVudHMuaHRtbCNkYXRhLU11c3QtQmUtYS1GdW5jdGlvbicsIHZtKTtcclxuICAgIH1cclxuICAgIC8vIHByb3h5IGRhdGEgb24gaW5zdGFuY2VcclxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7XHJcbiAgICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcclxuICAgIHZhciBtZXRob2RzID0gdm0uJG9wdGlvbnMubWV0aG9kcztcclxuICAgIHZhciBpID0ga2V5cy5sZW5ndGg7XHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKG1ldGhvZHMgJiYgaGFzT3duKG1ldGhvZHMsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHdhcm4oXCJNZXRob2QgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgYXMgYSBkYXRhIHByb3BlcnR5LlwiKSwgdm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9wcyAmJiBoYXNPd24ocHJvcHMsIGtleSkpIHtcclxuICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgd2FybihcIlRoZSBkYXRhIHByb3BlcnR5IFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgaXMgYWxyZWFkeSBkZWNsYXJlZCBhcyBhIHByb3AuIFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJVc2UgcHJvcCBkZWZhdWx0IHZhbHVlIGluc3RlYWQuXCIsIHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoIWlzUmVzZXJ2ZWQoa2V5KSkge1xyXG4gICAgICAgICAgICBwcm94eSh2bSwgXCJfZGF0YVwiLCBrZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIG9ic2VydmUgZGF0YVxyXG4gICAgdmFyIG9iID0gb2JzZXJ2ZShkYXRhKTtcclxuICAgIG9iICYmIG9iLnZtQ291bnQrKztcclxufVxyXG5mdW5jdGlvbiBnZXREYXRhKGRhdGEsIHZtKSB7XHJcbiAgICAvLyAjNzU3MyBkaXNhYmxlIGRlcCBjb2xsZWN0aW9uIHdoZW4gaW52b2tpbmcgZGF0YSBnZXR0ZXJzXHJcbiAgICBwdXNoVGFyZ2V0KCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBkYXRhLmNhbGwodm0sIHZtKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwiZGF0YSgpXCIpO1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHBvcFRhcmdldCgpO1xyXG4gICAgfVxyXG59XHJcbnZhciBjb21wdXRlZFdhdGNoZXJPcHRpb25zID0geyBsYXp5OiB0cnVlIH07XHJcbmZ1bmN0aW9uIGluaXRDb21wdXRlZCQxKHZtLCBjb21wdXRlZCkge1xyXG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICB2YXIgd2F0Y2hlcnMgPSAodm0uX2NvbXB1dGVkV2F0Y2hlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpKTtcclxuICAgIC8vIGNvbXB1dGVkIHByb3BlcnRpZXMgYXJlIGp1c3QgZ2V0dGVycyBkdXJpbmcgU1NSXHJcbiAgICB2YXIgaXNTU1IgPSBpc1NlcnZlclJlbmRlcmluZygpO1xyXG4gICAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7XHJcbiAgICAgICAgdmFyIHVzZXJEZWYgPSBjb21wdXRlZFtrZXldO1xyXG4gICAgICAgIHZhciBnZXR0ZXIgPSBpc0Z1bmN0aW9uKHVzZXJEZWYpID8gdXNlckRlZiA6IHVzZXJEZWYuZ2V0O1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGdldHRlciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHdhcm4oXCJHZXR0ZXIgaXMgbWlzc2luZyBmb3IgY29tcHV0ZWQgcHJvcGVydHkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIi5cIiksIHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc1NTUikge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgaW50ZXJuYWwgd2F0Y2hlciBmb3IgdGhlIGNvbXB1dGVkIHByb3BlcnR5LlxyXG4gICAgICAgICAgICB3YXRjaGVyc1trZXldID0gbmV3IFdhdGNoZXIodm0sIGdldHRlciB8fCBub29wLCBub29wLCBjb21wdXRlZFdhdGNoZXJPcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29tcG9uZW50LWRlZmluZWQgY29tcHV0ZWQgcHJvcGVydGllcyBhcmUgYWxyZWFkeSBkZWZpbmVkIG9uIHRoZVxyXG4gICAgICAgIC8vIGNvbXBvbmVudCBwcm90b3R5cGUuIFdlIG9ubHkgbmVlZCB0byBkZWZpbmUgY29tcHV0ZWQgcHJvcGVydGllcyBkZWZpbmVkXHJcbiAgICAgICAgLy8gYXQgaW5zdGFudGlhdGlvbiBoZXJlLlxyXG4gICAgICAgIGlmICghKGtleSBpbiB2bSkpIHtcclxuICAgICAgICAgICAgZGVmaW5lQ29tcHV0ZWQodm0sIGtleSwgdXNlckRlZik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgaWYgKGtleSBpbiB2bS4kZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihcIlRoZSBjb21wdXRlZCBwcm9wZXJ0eSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiBkYXRhLlwiKSwgdm0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZtLiRvcHRpb25zLnByb3BzICYmIGtleSBpbiB2bS4kb3B0aW9ucy5wcm9wcykge1xyXG4gICAgICAgICAgICAgICAgd2FybihcIlRoZSBjb21wdXRlZCBwcm9wZXJ0eSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGlzIGFscmVhZHkgZGVmaW5lZCBhcyBhIHByb3AuXCIpLCB2bSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodm0uJG9wdGlvbnMubWV0aG9kcyAmJiBrZXkgaW4gdm0uJG9wdGlvbnMubWV0aG9kcykge1xyXG4gICAgICAgICAgICAgICAgd2FybihcIlRoZSBjb21wdXRlZCBwcm9wZXJ0eSBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGlzIGFscmVhZHkgZGVmaW5lZCBhcyBhIG1ldGhvZC5cIiksIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBkZWZpbmVDb21wdXRlZCh0YXJnZXQsIGtleSwgdXNlckRlZikge1xyXG4gICAgdmFyIHNob3VsZENhY2hlID0gIWlzU2VydmVyUmVuZGVyaW5nKCk7XHJcbiAgICBpZiAoaXNGdW5jdGlvbih1c2VyRGVmKSkge1xyXG4gICAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBzaG91bGRDYWNoZVxyXG4gICAgICAgICAgICA/IGNyZWF0ZUNvbXB1dGVkR2V0dGVyKGtleSlcclxuICAgICAgICAgICAgOiBjcmVhdGVHZXR0ZXJJbnZva2VyKHVzZXJEZWYpO1xyXG4gICAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPSBub29wO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLmdldCA9IHVzZXJEZWYuZ2V0XHJcbiAgICAgICAgICAgID8gc2hvdWxkQ2FjaGUgJiYgdXNlckRlZi5jYWNoZSAhPT0gZmFsc2VcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ29tcHV0ZWRHZXR0ZXIoa2V5KVxyXG4gICAgICAgICAgICAgICAgOiBjcmVhdGVHZXR0ZXJJbnZva2VyKHVzZXJEZWYuZ2V0KVxyXG4gICAgICAgICAgICA6IG5vb3A7XHJcbiAgICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IHVzZXJEZWYuc2V0IHx8IG5vb3A7XHJcbiAgICB9XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uc2V0ID09PSBub29wKSB7XHJcbiAgICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2FybihcIkNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgd2FzIGFzc2lnbmVkIHRvIGJ1dCBpdCBoYXMgbm8gc2V0dGVyLlwiKSwgdGhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uKTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDb21wdXRlZEdldHRlcihrZXkpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiBjb21wdXRlZEdldHRlcigpIHtcclxuICAgICAgICB2YXIgd2F0Y2hlciA9IHRoaXMuX2NvbXB1dGVkV2F0Y2hlcnMgJiYgdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1trZXldO1xyXG4gICAgICAgIGlmICh3YXRjaGVyKSB7XHJcbiAgICAgICAgICAgIGlmICh3YXRjaGVyLmRpcnR5KSB7XHJcbiAgICAgICAgICAgICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKERlcC50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIERlcC50YXJnZXQub25UcmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIERlcC50YXJnZXQub25UcmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdDogRGVwLnRhcmdldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiIC8qIFRyYWNrT3BUeXBlcy5HRVQgKi8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3YXRjaGVyLmRlcGVuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB3YXRjaGVyLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlR2V0dGVySW52b2tlcihmbikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyKCkge1xyXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHRoaXMpO1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBpbml0TWV0aG9kcyh2bSwgbWV0aG9kcykge1xyXG4gICAgdmFyIHByb3BzID0gdm0uJG9wdGlvbnMucHJvcHM7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gbWV0aG9kcykge1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kc1trZXldICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiTWV0aG9kIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgaGFzIHR5cGUgXFxcIlwiKS5jb25jYXQodHlwZW9mIG1ldGhvZHNba2V5XSwgXCJcXFwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gXCIpICtcclxuICAgICAgICAgICAgICAgICAgICBcIkRpZCB5b3UgcmVmZXJlbmNlIHRoZSBmdW5jdGlvbiBjb3JyZWN0bHk/XCIsIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuKFwiTWV0aG9kIFxcXCJcIi5jb25jYXQoa2V5LCBcIlxcXCIgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGFzIGEgcHJvcC5cIiksIHZtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoa2V5IGluIHZtICYmIGlzUmVzZXJ2ZWQoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgd2FybihcIk1ldGhvZCBcXFwiXCIuY29uY2F0KGtleSwgXCJcXFwiIGNvbmZsaWN0cyB3aXRoIGFuIGV4aXN0aW5nIFZ1ZSBpbnN0YW5jZSBtZXRob2QuIFwiKSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJBdm9pZCBkZWZpbmluZyBjb21wb25lbnQgbWV0aG9kcyB0aGF0IHN0YXJ0IHdpdGggXyBvciAkLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2bVtrZXldID0gdHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJyA/IG5vb3AgOiBiaW5kKG1ldGhvZHNba2V5XSwgdm0pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluaXRXYXRjaCh2bSwgd2F0Y2gpIHtcclxuICAgIGZvciAodmFyIGtleSBpbiB3YXRjaCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyID0gd2F0Y2hba2V5XTtcclxuICAgICAgICBpZiAoaXNBcnJheShoYW5kbGVyKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcltpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNyZWF0ZVdhdGNoZXIodm0sIGtleSwgaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVdhdGNoZXIodm0sIGV4cE9yRm4sIGhhbmRsZXIsIG9wdGlvbnMpIHtcclxuICAgIGlmIChpc1BsYWluT2JqZWN0KGhhbmRsZXIpKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGhhbmRsZXI7XHJcbiAgICAgICAgaGFuZGxlciA9IGhhbmRsZXIuaGFuZGxlcjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBoYW5kbGVyID0gdm1baGFuZGxlcl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdm0uJHdhdGNoKGV4cE9yRm4sIGhhbmRsZXIsIG9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIHN0YXRlTWl4aW4oVnVlKSB7XHJcbiAgICAvLyBmbG93IHNvbWVob3cgaGFzIHByb2JsZW1zIHdpdGggZGlyZWN0bHkgZGVjbGFyZWQgZGVmaW5pdGlvbiBvYmplY3RcclxuICAgIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cFxyXG4gICAgLy8gdGhlIG9iamVjdCBoZXJlLlxyXG4gICAgdmFyIGRhdGFEZWYgPSB7fTtcclxuICAgIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xyXG4gICAgfTtcclxuICAgIHZhciBwcm9wc0RlZiA9IHt9O1xyXG4gICAgcHJvcHNEZWYuZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wcztcclxuICAgIH07XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgIGRhdGFEZWYuc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3YXJuKCdBdm9pZCByZXBsYWNpbmcgaW5zdGFuY2Ugcm9vdCAkZGF0YS4gJyArXHJcbiAgICAgICAgICAgICAgICAnVXNlIG5lc3RlZCBkYXRhIHByb3BlcnRpZXMgaW5zdGVhZC4nLCB0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHByb3BzRGVmLnNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2FybihcIiRwcm9wcyBpcyByZWFkb25seS5cIiwgdGhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJHByb3BzJywgcHJvcHNEZWYpO1xyXG4gICAgVnVlLnByb3RvdHlwZS4kc2V0ID0gc2V0O1xyXG4gICAgVnVlLnByb3RvdHlwZS4kZGVsZXRlID0gZGVsO1xyXG4gICAgVnVlLnByb3RvdHlwZS4kd2F0Y2ggPSBmdW5jdGlvbiAoZXhwT3JGbiwgY2IsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIGlmIChpc1BsYWluT2JqZWN0KGNiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICBvcHRpb25zLnVzZXIgPSB0cnVlO1xyXG4gICAgICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgdmFyIGluZm8gPSBcImNhbGxiYWNrIGZvciBpbW1lZGlhdGUgd2F0Y2hlciBcXFwiXCIuY29uY2F0KHdhdGNoZXIuZXhwcmVzc2lvbiwgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICBwdXNoVGFyZ2V0KCk7XHJcbiAgICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNiLCB2bSwgW3dhdGNoZXIudmFsdWVdLCB2bSwgaW5mbyk7XHJcbiAgICAgICAgICAgIHBvcFRhcmdldCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaEZuKCkge1xyXG4gICAgICAgICAgICB3YXRjaGVyLnRlYXJkb3duKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbn1cblxudmFyIHVpZCA9IDA7XHJcbmZ1bmN0aW9uIGluaXRNaXhpbiQxKFZ1ZSkge1xyXG4gICAgVnVlLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAvLyBhIHVpZFxyXG4gICAgICAgIHZtLl91aWQgPSB1aWQrKztcclxuICAgICAgICB2YXIgc3RhcnRUYWcsIGVuZFRhZztcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xyXG4gICAgICAgICAgICBzdGFydFRhZyA9IFwidnVlLXBlcmYtc3RhcnQ6XCIuY29uY2F0KHZtLl91aWQpO1xyXG4gICAgICAgICAgICBlbmRUYWcgPSBcInZ1ZS1wZXJmLWVuZDpcIi5jb25jYXQodm0uX3VpZCk7XHJcbiAgICAgICAgICAgIG1hcmsoc3RhcnRUYWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhIGZsYWcgdG8gbWFyayB0aGlzIGFzIGEgVnVlIGluc3RhbmNlIHdpdGhvdXQgaGF2aW5nIHRvIGRvIGluc3RhbmNlb2ZcclxuICAgICAgICAvLyBjaGVja1xyXG4gICAgICAgIHZtLl9pc1Z1ZSA9IHRydWU7XHJcbiAgICAgICAgLy8gYXZvaWQgaW5zdGFuY2VzIGZyb20gYmVpbmcgb2JzZXJ2ZWRcclxuICAgICAgICB2bS5fX3Zfc2tpcCA9IHRydWU7XHJcbiAgICAgICAgLy8gZWZmZWN0IHNjb3BlXHJcbiAgICAgICAgdm0uX3Njb3BlID0gbmV3IEVmZmVjdFNjb3BlKHRydWUgLyogZGV0YWNoZWQgKi8pO1xyXG4gICAgICAgIC8vIG1lcmdlIG9wdGlvbnNcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLl9pc0NvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAvLyBvcHRpbWl6ZSBpbnRlcm5hbCBjb21wb25lbnQgaW5zdGFudGlhdGlvblxyXG4gICAgICAgICAgICAvLyBzaW5jZSBkeW5hbWljIG9wdGlvbnMgbWVyZ2luZyBpcyBwcmV0dHkgc2xvdywgYW5kIG5vbmUgb2YgdGhlXHJcbiAgICAgICAgICAgIC8vIGludGVybmFsIGNvbXBvbmVudCBvcHRpb25zIG5lZWRzIHNwZWNpYWwgdHJlYXRtZW50LlxyXG4gICAgICAgICAgICBpbml0SW50ZXJuYWxDb21wb25lbnQodm0sIG9wdGlvbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdm0uJG9wdGlvbnMgPSBtZXJnZU9wdGlvbnMocmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyh2bS5jb25zdHJ1Y3RvciksIG9wdGlvbnMgfHwge30sIHZtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICBpbml0UHJveHkodm0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdm0uX3JlbmRlclByb3h5ID0gdm07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV4cG9zZSByZWFsIHNlbGZcclxuICAgICAgICB2bS5fc2VsZiA9IHZtO1xyXG4gICAgICAgIGluaXRMaWZlY3ljbGUodm0pO1xyXG4gICAgICAgIGluaXRFdmVudHModm0pO1xyXG4gICAgICAgIGluaXRSZW5kZXIodm0pO1xyXG4gICAgICAgIGNhbGxIb29rJDEodm0sICdiZWZvcmVDcmVhdGUnKTtcclxuICAgICAgICBpbml0SW5qZWN0aW9ucyh2bSk7IC8vIHJlc29sdmUgaW5qZWN0aW9ucyBiZWZvcmUgZGF0YS9wcm9wc1xyXG4gICAgICAgIGluaXRTdGF0ZSh2bSk7XHJcbiAgICAgICAgaW5pdFByb3ZpZGUodm0pOyAvLyByZXNvbHZlIHByb3ZpZGUgYWZ0ZXIgZGF0YS9wcm9wc1xyXG4gICAgICAgIGNhbGxIb29rJDEodm0sICdjcmVhdGVkJyk7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcclxuICAgICAgICAgICAgdm0uX25hbWUgPSBmb3JtYXRDb21wb25lbnROYW1lKHZtLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIG1hcmsoZW5kVGFnKTtcclxuICAgICAgICAgICAgbWVhc3VyZShcInZ1ZSBcIi5jb25jYXQodm0uX25hbWUsIFwiIGluaXRcIiksIHN0YXJ0VGFnLCBlbmRUYWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodm0uJG9wdGlvbnMuZWwpIHtcclxuICAgICAgICAgICAgdm0uJG1vdW50KHZtLiRvcHRpb25zLmVsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGluaXRJbnRlcm5hbENvbXBvbmVudCh2bSwgb3B0aW9ucykge1xyXG4gICAgdmFyIG9wdHMgPSAodm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpKTtcclxuICAgIC8vIGRvaW5nIHRoaXMgYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIGR5bmFtaWMgZW51bWVyYXRpb24uXHJcbiAgICB2YXIgcGFyZW50Vm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTtcclxuICAgIG9wdHMucGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7XHJcbiAgICBvcHRzLl9wYXJlbnRWbm9kZSA9IHBhcmVudFZub2RlO1xyXG4gICAgdmFyIHZub2RlQ29tcG9uZW50T3B0aW9ucyA9IHBhcmVudFZub2RlLmNvbXBvbmVudE9wdGlvbnM7XHJcbiAgICBvcHRzLnByb3BzRGF0YSA9IHZub2RlQ29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGE7XHJcbiAgICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzO1xyXG4gICAgb3B0cy5fcmVuZGVyQ2hpbGRyZW4gPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMuY2hpbGRyZW47XHJcbiAgICBvcHRzLl9jb21wb25lbnRUYWcgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMudGFnO1xyXG4gICAgaWYgKG9wdGlvbnMucmVuZGVyKSB7XHJcbiAgICAgICAgb3B0cy5yZW5kZXIgPSBvcHRpb25zLnJlbmRlcjtcclxuICAgICAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcikge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XHJcbiAgICBpZiAoQ3Rvci5zdXBlcikge1xyXG4gICAgICAgIHZhciBzdXBlck9wdGlvbnMgPSByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKEN0b3Iuc3VwZXIpO1xyXG4gICAgICAgIHZhciBjYWNoZWRTdXBlck9wdGlvbnMgPSBDdG9yLnN1cGVyT3B0aW9ucztcclxuICAgICAgICBpZiAoc3VwZXJPcHRpb25zICE9PSBjYWNoZWRTdXBlck9wdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gc3VwZXIgb3B0aW9uIGNoYW5nZWQsXHJcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gcmVzb2x2ZSBuZXcgb3B0aW9ucy5cclxuICAgICAgICAgICAgQ3Rvci5zdXBlck9wdGlvbnMgPSBzdXBlck9wdGlvbnM7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgbGF0ZS1tb2RpZmllZC9hdHRhY2hlZCBvcHRpb25zICgjNDk3NilcclxuICAgICAgICAgICAgdmFyIG1vZGlmaWVkT3B0aW9ucyA9IHJlc29sdmVNb2RpZmllZE9wdGlvbnMoQ3Rvcik7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBiYXNlIGV4dGVuZCBvcHRpb25zXHJcbiAgICAgICAgICAgIGlmIChtb2RpZmllZE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGV4dGVuZChDdG9yLmV4dGVuZE9wdGlvbnMsIG1vZGlmaWVkT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIEN0b3IuZXh0ZW5kT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY29tcG9uZW50c1tvcHRpb25zLm5hbWVdID0gQ3RvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvcHRpb25zO1xyXG59XHJcbmZ1bmN0aW9uIHJlc29sdmVNb2RpZmllZE9wdGlvbnMoQ3Rvcikge1xyXG4gICAgdmFyIG1vZGlmaWVkO1xyXG4gICAgdmFyIGxhdGVzdCA9IEN0b3Iub3B0aW9ucztcclxuICAgIHZhciBzZWFsZWQgPSBDdG9yLnNlYWxlZE9wdGlvbnM7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gbGF0ZXN0KSB7XHJcbiAgICAgICAgaWYgKGxhdGVzdFtrZXldICE9PSBzZWFsZWRba2V5XSkge1xyXG4gICAgICAgICAgICBpZiAoIW1vZGlmaWVkKVxyXG4gICAgICAgICAgICAgICAgbW9kaWZpZWQgPSB7fTtcclxuICAgICAgICAgICAgbW9kaWZpZWRba2V5XSA9IGxhdGVzdFtrZXldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtb2RpZmllZDtcclxufVxuXG5mdW5jdGlvbiBWdWUob3B0aW9ucykge1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgISh0aGlzIGluc3RhbmNlb2YgVnVlKSkge1xyXG4gICAgICAgIHdhcm4oJ1Z1ZSBpcyBhIGNvbnN0cnVjdG9yIGFuZCBzaG91bGQgYmUgY2FsbGVkIHdpdGggdGhlIGBuZXdgIGtleXdvcmQnKTtcclxuICAgIH1cclxuICAgIHRoaXMuX2luaXQob3B0aW9ucyk7XHJcbn1cclxuLy9AdHMtZXhwZWN0LWVycm9yIFZ1ZSBoYXMgZnVuY3Rpb24gdHlwZVxyXG5pbml0TWl4aW4kMShWdWUpO1xyXG4vL0B0cy1leHBlY3QtZXJyb3IgVnVlIGhhcyBmdW5jdGlvbiB0eXBlXHJcbnN0YXRlTWl4aW4oVnVlKTtcclxuLy9AdHMtZXhwZWN0LWVycm9yIFZ1ZSBoYXMgZnVuY3Rpb24gdHlwZVxyXG5ldmVudHNNaXhpbihWdWUpO1xyXG4vL0B0cy1leHBlY3QtZXJyb3IgVnVlIGhhcyBmdW5jdGlvbiB0eXBlXHJcbmxpZmVjeWNsZU1peGluKFZ1ZSk7XHJcbi8vQHRzLWV4cGVjdC1lcnJvciBWdWUgaGFzIGZ1bmN0aW9uIHR5cGVcclxucmVuZGVyTWl4aW4oVnVlKTtcblxuZnVuY3Rpb24gaW5pdFVzZShWdWUpIHtcclxuICAgIFZ1ZS51c2UgPSBmdW5jdGlvbiAocGx1Z2luKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbGxlZFBsdWdpbnMgPSB0aGlzLl9pbnN0YWxsZWRQbHVnaW5zIHx8ICh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zID0gW10pO1xyXG4gICAgICAgIGlmIChpbnN0YWxsZWRQbHVnaW5zLmluZGV4T2YocGx1Z2luKSA+IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGRpdGlvbmFsIHBhcmFtZXRlcnNcclxuICAgICAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzLCAxKTtcclxuICAgICAgICBhcmdzLnVuc2hpZnQodGhpcyk7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocGx1Z2luLmluc3RhbGwpKSB7XHJcbiAgICAgICAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzRnVuY3Rpb24ocGx1Z2luKSkge1xyXG4gICAgICAgICAgICBwbHVnaW4uYXBwbHkobnVsbCwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGluc3RhbGxlZFBsdWdpbnMucHVzaChwbHVnaW4pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiBpbml0TWl4aW4oVnVlKSB7XHJcbiAgICBWdWUubWl4aW4gPSBmdW5jdGlvbiAobWl4aW4pIHtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnModGhpcy5vcHRpb25zLCBtaXhpbik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG59XG5cbmZ1bmN0aW9uIGluaXRFeHRlbmQoVnVlKSB7XHJcbiAgICAvKipcclxuICAgICAqIEVhY2ggaW5zdGFuY2UgY29uc3RydWN0b3IsIGluY2x1ZGluZyBWdWUsIGhhcyBhIHVuaXF1ZVxyXG4gICAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgXCJjaGlsZFxyXG4gICAgICogY29uc3RydWN0b3JzXCIgZm9yIHByb3RvdHlwYWwgaW5oZXJpdGFuY2UgYW5kIGNhY2hlIHRoZW0uXHJcbiAgICAgKi9cclxuICAgIFZ1ZS5jaWQgPSAwO1xyXG4gICAgdmFyIGNpZCA9IDE7XHJcbiAgICAvKipcclxuICAgICAqIENsYXNzIGluaGVyaXRhbmNlXHJcbiAgICAgKi9cclxuICAgIFZ1ZS5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5kT3B0aW9ucykge1xyXG4gICAgICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9O1xyXG4gICAgICAgIHZhciBTdXBlciA9IHRoaXM7XHJcbiAgICAgICAgdmFyIFN1cGVySWQgPSBTdXBlci5jaWQ7XHJcbiAgICAgICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTtcclxuICAgICAgICBpZiAoY2FjaGVkQ3RvcnNbU3VwZXJJZF0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZEN0b3JzW1N1cGVySWRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmFtZSA9IGV4dGVuZE9wdGlvbnMubmFtZSB8fCBTdXBlci5vcHRpb25zLm5hbWU7XHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgbmFtZSkge1xyXG4gICAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBTdWIgPSBmdW5jdGlvbiBWdWVDb21wb25lbnQob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLl9pbml0KG9wdGlvbnMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU3ViLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3VwZXIucHJvdG90eXBlKTtcclxuICAgICAgICBTdWIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViO1xyXG4gICAgICAgIFN1Yi5jaWQgPSBjaWQrKztcclxuICAgICAgICBTdWIub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhTdXBlci5vcHRpb25zLCBleHRlbmRPcHRpb25zKTtcclxuICAgICAgICBTdWJbJ3N1cGVyJ10gPSBTdXBlcjtcclxuICAgICAgICAvLyBGb3IgcHJvcHMgYW5kIGNvbXB1dGVkIHByb3BlcnRpZXMsIHdlIGRlZmluZSB0aGUgcHJveHkgZ2V0dGVycyBvblxyXG4gICAgICAgIC8vIHRoZSBWdWUgaW5zdGFuY2VzIGF0IGV4dGVuc2lvbiB0aW1lLCBvbiB0aGUgZXh0ZW5kZWQgcHJvdG90eXBlLiBUaGlzXHJcbiAgICAgICAgLy8gYXZvaWRzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxscyBmb3IgZWFjaCBpbnN0YW5jZSBjcmVhdGVkLlxyXG4gICAgICAgIGlmIChTdWIub3B0aW9ucy5wcm9wcykge1xyXG4gICAgICAgICAgICBpbml0UHJvcHMoU3ViKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFN1Yi5vcHRpb25zLmNvbXB1dGVkKSB7XHJcbiAgICAgICAgICAgIGluaXRDb21wdXRlZChTdWIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhbGxvdyBmdXJ0aGVyIGV4dGVuc2lvbi9taXhpbi9wbHVnaW4gdXNhZ2VcclxuICAgICAgICBTdWIuZXh0ZW5kID0gU3VwZXIuZXh0ZW5kO1xyXG4gICAgICAgIFN1Yi5taXhpbiA9IFN1cGVyLm1peGluO1xyXG4gICAgICAgIFN1Yi51c2UgPSBTdXBlci51c2U7XHJcbiAgICAgICAgLy8gY3JlYXRlIGFzc2V0IHJlZ2lzdGVycywgc28gZXh0ZW5kZWQgY2xhc3Nlc1xyXG4gICAgICAgIC8vIGNhbiBoYXZlIHRoZWlyIHByaXZhdGUgYXNzZXRzIHRvby5cclxuICAgICAgICBBU1NFVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIFN1Ylt0eXBlXSA9IFN1cGVyW3R5cGVdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGVuYWJsZSByZWN1cnNpdmUgc2VsZi1sb29rdXBcclxuICAgICAgICBpZiAobmFtZSkge1xyXG4gICAgICAgICAgICBTdWIub3B0aW9ucy5jb21wb25lbnRzW25hbWVdID0gU3ViO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBzdXBlciBvcHRpb25zIGF0IGV4dGVuc2lvbiB0aW1lLlxyXG4gICAgICAgIC8vIGxhdGVyIGF0IGluc3RhbnRpYXRpb24gd2UgY2FuIGNoZWNrIGlmIFN1cGVyJ3Mgb3B0aW9ucyBoYXZlXHJcbiAgICAgICAgLy8gYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgIFN1Yi5zdXBlck9wdGlvbnMgPSBTdXBlci5vcHRpb25zO1xyXG4gICAgICAgIFN1Yi5leHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9ucztcclxuICAgICAgICBTdWIuc2VhbGVkT3B0aW9ucyA9IGV4dGVuZCh7fSwgU3ViLm9wdGlvbnMpO1xyXG4gICAgICAgIC8vIGNhY2hlIGNvbnN0cnVjdG9yXHJcbiAgICAgICAgY2FjaGVkQ3RvcnNbU3VwZXJJZF0gPSBTdWI7XHJcbiAgICAgICAgcmV0dXJuIFN1YjtcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gaW5pdFByb3BzKENvbXApIHtcclxuICAgIHZhciBwcm9wcyA9IENvbXAub3B0aW9ucy5wcm9wcztcclxuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgIHByb3h5KENvbXAucHJvdG90eXBlLCBcIl9wcm9wc1wiLCBrZXkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGluaXRDb21wdXRlZChDb21wKSB7XHJcbiAgICB2YXIgY29tcHV0ZWQgPSBDb21wLm9wdGlvbnMuY29tcHV0ZWQ7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gY29tcHV0ZWQpIHtcclxuICAgICAgICBkZWZpbmVDb21wdXRlZChDb21wLnByb3RvdHlwZSwga2V5LCBjb21wdXRlZFtrZXldKTtcclxuICAgIH1cclxufVxuXG5mdW5jdGlvbiBpbml0QXNzZXRSZWdpc3RlcnMoVnVlKSB7XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhc3NldCByZWdpc3RyYXRpb24gbWV0aG9kcy5cclxuICAgICAqL1xyXG4gICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZnVuY3Rpb24gaXMgbm90IGV4YWN0IHNhbWUgdHlwZVxyXG4gICAgICAgIFZ1ZVt0eXBlXSA9IGZ1bmN0aW9uIChpZCwgZGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICBpZiAoIWRlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlID09PSAnY29tcG9uZW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShpZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgaXNQbGFpbk9iamVjdChkZWZpbml0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgPSBkZWZpbml0aW9uLm5hbWUgfHwgaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbiA9IHRoaXMub3B0aW9ucy5fYmFzZS5leHRlbmQoZGVmaW5pdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2RpcmVjdGl2ZScgJiYgaXNGdW5jdGlvbihkZWZpbml0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zW3R5cGUgKyAncyddW2lkXSA9IGRlZmluaXRpb247XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKG9wdHMpIHtcclxuICAgIHJldHVybiBvcHRzICYmIChvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnKTtcclxufVxyXG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcclxuICAgIGlmIChpc0FycmF5KHBhdHRlcm4pKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uaW5kZXhPZihuYW1lKSA+IC0xO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmRleE9mKG5hbWUpID4gLTE7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xyXG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbmZ1bmN0aW9uIHBydW5lQ2FjaGUoa2VlcEFsaXZlSW5zdGFuY2UsIGZpbHRlcikge1xyXG4gICAgdmFyIGNhY2hlID0ga2VlcEFsaXZlSW5zdGFuY2UuY2FjaGUsIGtleXMgPSBrZWVwQWxpdmVJbnN0YW5jZS5rZXlzLCBfdm5vZGUgPSBrZWVwQWxpdmVJbnN0YW5jZS5fdm5vZGU7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gY2FjaGUpIHtcclxuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtrZXldO1xyXG4gICAgICAgIGlmIChlbnRyeSkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZV8xID0gZW50cnkubmFtZTtcclxuICAgICAgICAgICAgaWYgKG5hbWVfMSAmJiAhZmlsdGVyKG5hbWVfMSkpIHtcclxuICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5LCBrZXlzLCBfdm5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5LCBrZXlzLCBjdXJyZW50KSB7XHJcbiAgICB2YXIgZW50cnkgPSBjYWNoZVtrZXldO1xyXG4gICAgaWYgKGVudHJ5ICYmICghY3VycmVudCB8fCBlbnRyeS50YWcgIT09IGN1cnJlbnQudGFnKSkge1xyXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2FuIGJlIHVuZGVmaW5lZFxyXG4gICAgICAgIGVudHJ5LmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCk7XHJcbiAgICB9XHJcbiAgICBjYWNoZVtrZXldID0gbnVsbDtcclxuICAgIHJlbW92ZSQyKGtleXMsIGtleSk7XHJcbn1cclxudmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldO1xyXG4vLyBUT0RPIGRlZmluZUNvbXBvbmVudFxyXG52YXIgS2VlcEFsaXZlID0ge1xyXG4gICAgbmFtZTogJ2tlZXAtYWxpdmUnLFxyXG4gICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICBwcm9wczoge1xyXG4gICAgICAgIGluY2x1ZGU6IHBhdHRlcm5UeXBlcyxcclxuICAgICAgICBleGNsdWRlOiBwYXR0ZXJuVHlwZXMsXHJcbiAgICAgICAgbWF4OiBbU3RyaW5nLCBOdW1iZXJdXHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGNhY2hlVk5vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgY2FjaGUgPSBfYS5jYWNoZSwga2V5cyA9IF9hLmtleXMsIHZub2RlVG9DYWNoZSA9IF9hLnZub2RlVG9DYWNoZSwga2V5VG9DYWNoZSA9IF9hLmtleVRvQ2FjaGU7XHJcbiAgICAgICAgICAgIGlmICh2bm9kZVRvQ2FjaGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YWcgPSB2bm9kZVRvQ2FjaGUudGFnLCBjb21wb25lbnRJbnN0YW5jZSA9IHZub2RlVG9DYWNoZS5jb21wb25lbnRJbnN0YW5jZSwgY29tcG9uZW50T3B0aW9ucyA9IHZub2RlVG9DYWNoZS5jb21wb25lbnRPcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgY2FjaGVba2V5VG9DYWNoZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnRPcHRpb25zKSxcclxuICAgICAgICAgICAgICAgICAgICB0YWc6IHRhZyxcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZTogY29tcG9uZW50SW5zdGFuY2VcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5VG9DYWNoZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnlcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heCAmJiBrZXlzLmxlbmd0aCA+IHBhcnNlSW50KHRoaXMubWF4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5c1swXSwga2V5cywgdGhpcy5fdm5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52bm9kZVRvQ2FjaGUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICB0aGlzLmtleXMgPSBbXTtcclxuICAgIH0sXHJcbiAgICBkZXN0cm95ZWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jYWNoZSkge1xyXG4gICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkodGhpcy5jYWNoZSwga2V5LCB0aGlzLmtleXMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmNhY2hlVk5vZGUoKTtcclxuICAgICAgICB0aGlzLiR3YXRjaCgnaW5jbHVkZScsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgcHJ1bmVDYWNoZShfdGhpcywgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIG1hdGNoZXModmFsLCBuYW1lKTsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy4kd2F0Y2goJ2V4Y2x1ZGUnLCBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHBydW5lQ2FjaGUoX3RoaXMsIGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiAhbWF0Y2hlcyh2YWwsIG5hbWUpOyB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZVZOb2RlKCk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHNsb3QgPSB0aGlzLiRzbG90cy5kZWZhdWx0O1xyXG4gICAgICAgIHZhciB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoc2xvdCk7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudE9wdGlvbnMgPSB2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xyXG4gICAgICAgIGlmIChjb21wb25lbnRPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIHBhdHRlcm5cclxuICAgICAgICAgICAgdmFyIG5hbWVfMiA9IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50T3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMsIGluY2x1ZGUgPSBfYS5pbmNsdWRlLCBleGNsdWRlID0gX2EuZXhjbHVkZTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAvLyBub3QgaW5jbHVkZWRcclxuICAgICAgICAgICAgKGluY2x1ZGUgJiYgKCFuYW1lXzIgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZV8yKSkpIHx8XHJcbiAgICAgICAgICAgICAgICAvLyBleGNsdWRlZFxyXG4gICAgICAgICAgICAgICAgKGV4Y2x1ZGUgJiYgbmFtZV8yICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZV8yKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgX2IgPSB0aGlzLCBjYWNoZSA9IF9iLmNhY2hlLCBrZXlzID0gX2Iua2V5cztcclxuICAgICAgICAgICAgdmFyIGtleSA9IHZub2RlLmtleSA9PSBudWxsXHJcbiAgICAgICAgICAgICAgICA/IC8vIHNhbWUgY29uc3RydWN0b3IgbWF5IGdldCByZWdpc3RlcmVkIGFzIGRpZmZlcmVudCBsb2NhbCBjb21wb25lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gY2lkIGFsb25lIGlzIG5vdCBlbm91Z2ggKCMzMjY5KVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudE9wdGlvbnMuQ3Rvci5jaWQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY29tcG9uZW50T3B0aW9ucy50YWcgPyBcIjo6XCIuY29uY2F0KGNvbXBvbmVudE9wdGlvbnMudGFnKSA6ICcnKVxyXG4gICAgICAgICAgICAgICAgOiB2bm9kZS5rZXk7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZVtrZXldKSB7XHJcbiAgICAgICAgICAgICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IGNhY2hlW2tleV0uY29tcG9uZW50SW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAvLyBtYWtlIGN1cnJlbnQga2V5IGZyZXNoZXN0XHJcbiAgICAgICAgICAgICAgICByZW1vdmUkMihrZXlzLCBrZXkpO1xyXG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWxheSBzZXR0aW5nIHRoZSBjYWNoZSB1bnRpbCB1cGRhdGVcclxuICAgICAgICAgICAgICAgIHRoaXMudm5vZGVUb0NhY2hlID0gdm5vZGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleVRvQ2FjaGUgPSBrZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYW4gdm5vZGUuZGF0YSBjYW4gYmUgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgIHZub2RlLmRhdGEua2VlcEFsaXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZub2RlIHx8IChzbG90ICYmIHNsb3RbMF0pO1xyXG4gICAgfVxyXG59O1xuXG52YXIgYnVpbHRJbkNvbXBvbmVudHMgPSB7XHJcbiAgICBLZWVwQWxpdmU6IEtlZXBBbGl2ZVxyXG59O1xuXG5mdW5jdGlvbiBpbml0R2xvYmFsQVBJKFZ1ZSkge1xyXG4gICAgLy8gY29uZmlnXHJcbiAgICB2YXIgY29uZmlnRGVmID0ge307XHJcbiAgICBjb25maWdEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnOyB9O1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICBjb25maWdEZWYuc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB3YXJuKCdEbyBub3QgcmVwbGFjZSB0aGUgVnVlLmNvbmZpZyBvYmplY3QsIHNldCBpbmRpdmlkdWFsIGZpZWxkcyBpbnN0ZWFkLicpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnY29uZmlnJywgY29uZmlnRGVmKTtcclxuICAgIC8vIGV4cG9zZWQgdXRpbCBtZXRob2RzLlxyXG4gICAgLy8gTk9URTogdGhlc2UgYXJlIG5vdCBjb25zaWRlcmVkIHBhcnQgb2YgdGhlIHB1YmxpYyBBUEkgLSBhdm9pZCByZWx5aW5nIG9uXHJcbiAgICAvLyB0aGVtIHVubGVzcyB5b3UgYXJlIGF3YXJlIG9mIHRoZSByaXNrLlxyXG4gICAgVnVlLnV0aWwgPSB7XHJcbiAgICAgICAgd2Fybjogd2FybixcclxuICAgICAgICBleHRlbmQ6IGV4dGVuZCxcclxuICAgICAgICBtZXJnZU9wdGlvbnM6IG1lcmdlT3B0aW9ucyxcclxuICAgICAgICBkZWZpbmVSZWFjdGl2ZTogZGVmaW5lUmVhY3RpdmVcclxuICAgIH07XHJcbiAgICBWdWUuc2V0ID0gc2V0O1xyXG4gICAgVnVlLmRlbGV0ZSA9IGRlbDtcclxuICAgIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrO1xyXG4gICAgLy8gMi42IGV4cGxpY2l0IG9ic2VydmFibGUgQVBJXHJcbiAgICBWdWUub2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICBvYnNlcnZlKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH07XHJcbiAgICBWdWUub3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICBBU1NFVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgVnVlLm9wdGlvbnNbdHlwZSArICdzJ10gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgfSk7XHJcbiAgICAvLyB0aGlzIGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIFwiYmFzZVwiIGNvbnN0cnVjdG9yIHRvIGV4dGVuZCBhbGwgcGxhaW4tb2JqZWN0XHJcbiAgICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy5cclxuICAgIFZ1ZS5vcHRpb25zLl9iYXNlID0gVnVlO1xyXG4gICAgZXh0ZW5kKFZ1ZS5vcHRpb25zLmNvbXBvbmVudHMsIGJ1aWx0SW5Db21wb25lbnRzKTtcclxuICAgIGluaXRVc2UoVnVlKTtcclxuICAgIGluaXRNaXhpbihWdWUpO1xyXG4gICAgaW5pdEV4dGVuZChWdWUpO1xyXG4gICAgaW5pdEFzc2V0UmVnaXN0ZXJzKFZ1ZSk7XHJcbn1cblxuaW5pdEdsb2JhbEFQSShWdWUpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRpc1NlcnZlcicsIHtcclxuICAgIGdldDogaXNTZXJ2ZXJSZW5kZXJpbmdcclxufSk7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJHNzckNvbnRleHQnLCB7XHJcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIHJldHVybiB0aGlzLiR2bm9kZSAmJiB0aGlzLiR2bm9kZS5zc3JDb250ZXh0O1xyXG4gICAgfVxyXG59KTtcclxuLy8gZXhwb3NlIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IGZvciBzc3IgcnVudGltZSBoZWxwZXIgaW5zdGFsbGF0aW9uXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUsICdGdW5jdGlvbmFsUmVuZGVyQ29udGV4dCcsIHtcclxuICAgIHZhbHVlOiBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dFxyXG59KTtcclxuVnVlLnZlcnNpb24gPSB2ZXJzaW9uO1xuXG4vLyB0aGVzZSBhcmUgcmVzZXJ2ZWQgZm9yIHdlYiBiZWNhdXNlIHRoZXkgYXJlIGRpcmVjdGx5IGNvbXBpbGVkIGF3YXlcclxuLy8gZHVyaW5nIHRlbXBsYXRlIGNvbXBpbGF0aW9uXHJcbnZhciBpc1Jlc2VydmVkQXR0ciA9IG1ha2VNYXAoJ3N0eWxlLGNsYXNzJyk7XHJcbi8vIGF0dHJpYnV0ZXMgdGhhdCBzaG91bGQgYmUgdXNpbmcgcHJvcHMgZm9yIGJpbmRpbmdcclxudmFyIGFjY2VwdFZhbHVlID0gbWFrZU1hcCgnaW5wdXQsdGV4dGFyZWEsb3B0aW9uLHNlbGVjdCxwcm9ncmVzcycpO1xyXG52YXIgbXVzdFVzZVByb3AgPSBmdW5jdGlvbiAodGFnLCB0eXBlLCBhdHRyKSB7XHJcbiAgICByZXR1cm4gKChhdHRyID09PSAndmFsdWUnICYmIGFjY2VwdFZhbHVlKHRhZykgJiYgdHlwZSAhPT0gJ2J1dHRvbicpIHx8XHJcbiAgICAgICAgKGF0dHIgPT09ICdzZWxlY3RlZCcgJiYgdGFnID09PSAnb3B0aW9uJykgfHxcclxuICAgICAgICAoYXR0ciA9PT0gJ2NoZWNrZWQnICYmIHRhZyA9PT0gJ2lucHV0JykgfHxcclxuICAgICAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpKTtcclxufTtcclxudmFyIGlzRW51bWVyYXRlZEF0dHIgPSBtYWtlTWFwKCdjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2snKTtcclxudmFyIGlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSA9IG1ha2VNYXAoJ2V2ZW50cyxjYXJldCx0eXBpbmcscGxhaW50ZXh0LW9ubHknKTtcclxudmFyIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnXHJcbiAgICAgICAgPyAnZmFsc2UnXHJcbiAgICAgICAgOiAvLyBhbGxvdyBhcmJpdHJhcnkgc3RyaW5nIHZhbHVlIGZvciBjb250ZW50ZWRpdGFibGVcclxuICAgICAgICAgICAga2V5ID09PSAnY29udGVudGVkaXRhYmxlJyAmJiBpc1ZhbGlkQ29udGVudEVkaXRhYmxlVmFsdWUodmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICAgICAgICA6ICd0cnVlJztcclxufTtcclxudmFyIGlzQm9vbGVhbkF0dHIgPSBtYWtlTWFwKCdhbGxvd2Z1bGxzY3JlZW4sYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNoZWNrZWQsY29tcGFjdCxjb250cm9scyxkZWNsYXJlLCcgK1xyXG4gICAgJ2RlZmF1bHQsZGVmYXVsdGNoZWNrZWQsZGVmYXVsdG11dGVkLGRlZmF1bHRzZWxlY3RlZCxkZWZlcixkaXNhYmxlZCwnICtcclxuICAgICdlbmFibGVkLGZvcm1ub3ZhbGlkYXRlLGhpZGRlbixpbmRldGVybWluYXRlLGluZXJ0LGlzbWFwLGl0ZW1zY29wZSxsb29wLG11bHRpcGxlLCcgK1xyXG4gICAgJ211dGVkLG5vaHJlZixub3Jlc2l6ZSxub3NoYWRlLG5vdmFsaWRhdGUsbm93cmFwLG9wZW4scGF1c2VvbmV4aXQscmVhZG9ubHksJyArXHJcbiAgICAncmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNvcnRhYmxlLCcgK1xyXG4gICAgJ3RydWVzcGVlZCx0eXBlbXVzdG1hdGNoLHZpc2libGUnKTtcclxudmFyIHhsaW5rTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayc7XHJcbnZhciBpc1hsaW5rID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIHJldHVybiBuYW1lLmNoYXJBdCg1KSA9PT0gJzonICYmIG5hbWUuc2xpY2UoMCwgNSkgPT09ICd4bGluayc7XHJcbn07XHJcbnZhciBnZXRYbGlua1Byb3AgPSBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgcmV0dXJuIGlzWGxpbmsobmFtZSkgPyBuYW1lLnNsaWNlKDYsIG5hbWUubGVuZ3RoKSA6ICcnO1xyXG59O1xyXG52YXIgaXNGYWxzeUF0dHJWYWx1ZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgIHJldHVybiB2YWwgPT0gbnVsbCB8fCB2YWwgPT09IGZhbHNlO1xyXG59O1xuXG5mdW5jdGlvbiBnZW5DbGFzc0ZvclZub2RlKHZub2RlKSB7XHJcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XHJcbiAgICB2YXIgcGFyZW50Tm9kZSA9IHZub2RlO1xyXG4gICAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xyXG4gICAgd2hpbGUgKGlzRGVmKGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZSkpIHtcclxuICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xyXG4gICAgICAgIGlmIChjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRhdGEpIHtcclxuICAgICAgICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGNoaWxkTm9kZS5kYXRhLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHBhcmVudE5vZGUucGFyZW50IG5vdCBWTm9kZVdpdGhEYXRhXHJcbiAgICB3aGlsZSAoaXNEZWYoKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpKSB7XHJcbiAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5kYXRhKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShkYXRhLCBwYXJlbnROb2RlLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZW5kZXJDbGFzcyhkYXRhLnN0YXRpY0NsYXNzLCBkYXRhLmNsYXNzKTtcclxufVxyXG5mdW5jdGlvbiBtZXJnZUNsYXNzRGF0YShjaGlsZCwgcGFyZW50KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN0YXRpY0NsYXNzOiBjb25jYXQoY2hpbGQuc3RhdGljQ2xhc3MsIHBhcmVudC5zdGF0aWNDbGFzcyksXHJcbiAgICAgICAgY2xhc3M6IGlzRGVmKGNoaWxkLmNsYXNzKSA/IFtjaGlsZC5jbGFzcywgcGFyZW50LmNsYXNzXSA6IHBhcmVudC5jbGFzc1xyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiByZW5kZXJDbGFzcyhzdGF0aWNDbGFzcywgZHluYW1pY0NsYXNzKSB7XHJcbiAgICBpZiAoaXNEZWYoc3RhdGljQ2xhc3MpIHx8IGlzRGVmKGR5bmFtaWNDbGFzcykpIHtcclxuICAgICAgICByZXR1cm4gY29uY2F0KHN0YXRpY0NsYXNzLCBzdHJpbmdpZnlDbGFzcyhkeW5hbWljQ2xhc3MpKTtcclxuICAgIH1cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuZnVuY3Rpb24gY29uY2F0KGEsIGIpIHtcclxuICAgIHJldHVybiBhID8gKGIgPyBhICsgJyAnICsgYiA6IGEpIDogYiB8fCAnJztcclxufVxyXG5mdW5jdGlvbiBzdHJpbmdpZnlDbGFzcyh2YWx1ZSkge1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZ2lmeUFycmF5KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gc3RyaW5naWZ5T2JqZWN0KHZhbHVlKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgIHJldHVybiAnJztcclxufVxyXG5mdW5jdGlvbiBzdHJpbmdpZnlBcnJheSh2YWx1ZSkge1xyXG4gICAgdmFyIHJlcyA9ICcnO1xyXG4gICAgdmFyIHN0cmluZ2lmaWVkO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNEZWYoKHN0cmluZ2lmaWVkID0gc3RyaW5naWZ5Q2xhc3ModmFsdWVbaV0pKSkgJiYgc3RyaW5naWZpZWQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXMpXHJcbiAgICAgICAgICAgICAgICByZXMgKz0gJyAnO1xyXG4gICAgICAgICAgICByZXMgKz0gc3RyaW5naWZpZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5mdW5jdGlvbiBzdHJpbmdpZnlPYmplY3QodmFsdWUpIHtcclxuICAgIHZhciByZXMgPSAnJztcclxuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZVtrZXldKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXMpXHJcbiAgICAgICAgICAgICAgICByZXMgKz0gJyAnO1xyXG4gICAgICAgICAgICByZXMgKz0ga2V5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cblxudmFyIG5hbWVzcGFjZU1hcCA9IHtcclxuICAgIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcclxuICAgIG1hdGg6ICdodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MJ1xyXG59O1xyXG52YXIgaXNIVE1MVGFnID0gbWFrZU1hcCgnaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsJyArXHJcbiAgICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLCcgK1xyXG4gICAgJ2RpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLCcgK1xyXG4gICAgJ2EsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLGRhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydGMscnVieSwnICtcclxuICAgICdzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbywnICtcclxuICAgICdlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucywnICtcclxuICAgICdjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0ciwnICtcclxuICAgICdidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLCcgK1xyXG4gICAgJ291dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsJyArXHJcbiAgICAnZGV0YWlscyxkaWFsb2csbWVudSxtZW51aXRlbSxzdW1tYXJ5LCcgK1xyXG4gICAgJ2NvbnRlbnQsZWxlbWVudCxzaGFkb3csdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnKTtcclxuLy8gdGhpcyBtYXAgaXMgaW50ZW50aW9uYWxseSBzZWxlY3RpdmUsIG9ubHkgY292ZXJpbmcgU1ZHIGVsZW1lbnRzIHRoYXQgbWF5XHJcbi8vIGNvbnRhaW4gY2hpbGQgZWxlbWVudHMuXHJcbnZhciBpc1NWRyA9IG1ha2VNYXAoJ3N2ZyxhbmltYXRlLGNpcmNsZSxjbGlwcGF0aCxjdXJzb3IsZGVmcyxkZXNjLGVsbGlwc2UsZmlsdGVyLGZvbnQtZmFjZSwnICtcclxuICAgICdmb3JlaWdub2JqZWN0LGcsZ2x5cGgsaW1hZ2UsbGluZSxtYXJrZXIsbWFzayxtaXNzaW5nLWdseXBoLHBhdGgscGF0dGVybiwnICtcclxuICAgICdwb2x5Z29uLHBvbHlsaW5lLHJlY3Qsc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRwYXRoLHRzcGFuLHVzZSx2aWV3JywgdHJ1ZSk7XHJcbnZhciBpc1Jlc2VydmVkVGFnID0gZnVuY3Rpb24gKHRhZykge1xyXG4gICAgcmV0dXJuIGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHKHRhZyk7XHJcbn07XHJcbmZ1bmN0aW9uIGdldFRhZ05hbWVzcGFjZSh0YWcpIHtcclxuICAgIGlmIChpc1NWRyh0YWcpKSB7XHJcbiAgICAgICAgcmV0dXJuICdzdmcnO1xyXG4gICAgfVxyXG4gICAgLy8gYmFzaWMgc3VwcG9ydCBmb3IgTWF0aE1MXHJcbiAgICAvLyBub3RlIGl0IGRvZXNuJ3Qgc3VwcG9ydCBvdGhlciBNYXRoTUwgZWxlbWVudHMgYmVpbmcgY29tcG9uZW50IHJvb3RzXHJcbiAgICBpZiAodGFnID09PSAnbWF0aCcpIHtcclxuICAgICAgICByZXR1cm4gJ21hdGgnO1xyXG4gICAgfVxyXG59XHJcbnZhciB1bmtub3duRWxlbWVudENhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuZnVuY3Rpb24gaXNVbmtub3duRWxlbWVudCh0YWcpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKCFpbkJyb3dzZXIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmIChpc1Jlc2VydmVkVGFnKHRhZykpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0YWcgPSB0YWcudG9Mb3dlckNhc2UoKTtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSAhPSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIHVua25vd25FbGVtZW50Q2FjaGVbdGFnXTtcclxuICAgIH1cclxuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuICAgIGlmICh0YWcuaW5kZXhPZignLScpID4gLTEpIHtcclxuICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yODIxMDM2NC8xMDcwMjQ0XHJcbiAgICAgICAgcmV0dXJuICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gPVxyXG4gICAgICAgICAgICBlbC5jb25zdHJ1Y3RvciA9PT0gd2luZG93LkhUTUxVbmtub3duRWxlbWVudCB8fFxyXG4gICAgICAgICAgICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IC9IVE1MVW5rbm93bkVsZW1lbnQvLnRlc3QoZWwudG9TdHJpbmcoKSkpO1xyXG4gICAgfVxyXG59XHJcbnZhciBpc1RleHRJbnB1dFR5cGUgPSBtYWtlTWFwKCd0ZXh0LG51bWJlcixwYXNzd29yZCxzZWFyY2gsZW1haWwsdGVsLHVybCcpO1xuXG4vKipcclxuICogUXVlcnkgYW4gZWxlbWVudCBzZWxlY3RvciBpZiBpdCdzIG5vdCBhbiBlbGVtZW50IGFscmVhZHkuXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeShlbCkge1xyXG4gICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcclxuICAgICAgICBpZiAoIXNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybignQ2Fubm90IGZpbmQgZWxlbWVudDogJyArIGVsKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VsZWN0ZWQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9XHJcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCB2bm9kZSkge1xyXG4gICAgdmFyIGVsbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XHJcbiAgICBpZiAodGFnTmFtZSAhPT0gJ3NlbGVjdCcpIHtcclxuICAgICAgICByZXR1cm4gZWxtO1xyXG4gICAgfVxyXG4gICAgLy8gZmFsc2Ugb3IgbnVsbCB3aWxsIHJlbW92ZSB0aGUgYXR0cmlidXRlIGJ1dCB1bmRlZmluZWQgd2lsbCBub3RcclxuICAgIGlmICh2bm9kZS5kYXRhICYmXHJcbiAgICAgICAgdm5vZGUuZGF0YS5hdHRycyAmJlxyXG4gICAgICAgIHZub2RlLmRhdGEuYXR0cnMubXVsdGlwbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGVsbS5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgJ211bHRpcGxlJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZWxtO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsIHRhZ05hbWUpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlTWFwW25hbWVzcGFjZV0sIHRhZ05hbWUpO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKHRleHQpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50KHRleHQpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpO1xyXG59XHJcbmZ1bmN0aW9uIGluc2VydEJlZm9yZShwYXJlbnROb2RlLCBuZXdOb2RlLCByZWZlcmVuY2VOb2RlKSB7XHJcbiAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVDaGlsZChub2RlLCBjaGlsZCkge1xyXG4gICAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XHJcbn1cclxuZnVuY3Rpb24gYXBwZW5kQ2hpbGQobm9kZSwgY2hpbGQpIHtcclxuICAgIG5vZGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG59XHJcbmZ1bmN0aW9uIHBhcmVudE5vZGUobm9kZSkge1xyXG4gICAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcclxufVxyXG5mdW5jdGlvbiBuZXh0U2libGluZyhub2RlKSB7XHJcbiAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZztcclxufVxyXG5mdW5jdGlvbiB0YWdOYW1lKG5vZGUpIHtcclxuICAgIHJldHVybiBub2RlLnRhZ05hbWU7XHJcbn1cclxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQobm9kZSwgdGV4dCkge1xyXG4gICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbn1cclxuZnVuY3Rpb24gc2V0U3R5bGVTY29wZShub2RlLCBzY29wZUlkKSB7XHJcbiAgICBub2RlLnNldEF0dHJpYnV0ZShzY29wZUlkLCAnJyk7XHJcbn1cblxudmFyIG5vZGVPcHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCxcbiAgY3JlYXRlRWxlbWVudE5TOiBjcmVhdGVFbGVtZW50TlMsXG4gIGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSxcbiAgY3JlYXRlQ29tbWVudDogY3JlYXRlQ29tbWVudCxcbiAgaW5zZXJ0QmVmb3JlOiBpbnNlcnRCZWZvcmUsXG4gIHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCxcbiAgYXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkLFxuICBwYXJlbnROb2RlOiBwYXJlbnROb2RlLFxuICBuZXh0U2libGluZzogbmV4dFNpYmxpbmcsXG4gIHRhZ05hbWU6IHRhZ05hbWUsXG4gIHNldFRleHRDb250ZW50OiBzZXRUZXh0Q29udGVudCxcbiAgc2V0U3R5bGVTY29wZTogc2V0U3R5bGVTY29wZVxufSk7XG5cbnZhciByZWYgPSB7XHJcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIChfLCB2bm9kZSkge1xyXG4gICAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIChvbGRWbm9kZSwgdm5vZGUpIHtcclxuICAgICAgICBpZiAob2xkVm5vZGUuZGF0YS5yZWYgIT09IHZub2RlLmRhdGEucmVmKSB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyUmVmKG9sZFZub2RlLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAodm5vZGUpIHtcclxuICAgICAgICByZWdpc3RlclJlZih2bm9kZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIHJlZ2lzdGVyUmVmKHZub2RlLCBpc1JlbW92YWwpIHtcclxuICAgIHZhciByZWYgPSB2bm9kZS5kYXRhLnJlZjtcclxuICAgIGlmICghaXNEZWYocmVmKSlcclxuICAgICAgICByZXR1cm47XHJcbiAgICB2YXIgdm0gPSB2bm9kZS5jb250ZXh0O1xyXG4gICAgdmFyIHJlZlZhbHVlID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgfHwgdm5vZGUuZWxtO1xyXG4gICAgdmFyIHZhbHVlID0gaXNSZW1vdmFsID8gbnVsbCA6IHJlZlZhbHVlO1xyXG4gICAgdmFyICRyZWZzVmFsdWUgPSBpc1JlbW92YWwgPyB1bmRlZmluZWQgOiByZWZWYWx1ZTtcclxuICAgIGlmIChpc0Z1bmN0aW9uKHJlZikpIHtcclxuICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhyZWYsIHZtLCBbdmFsdWVdLCB2bSwgXCJ0ZW1wbGF0ZSByZWYgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGlzRm9yID0gdm5vZGUuZGF0YS5yZWZJbkZvcjtcclxuICAgIHZhciBfaXNTdHJpbmcgPSB0eXBlb2YgcmVmID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVmID09PSAnbnVtYmVyJztcclxuICAgIHZhciBfaXNSZWYgPSBpc1JlZihyZWYpO1xyXG4gICAgdmFyIHJlZnMgPSB2bS4kcmVmcztcclxuICAgIGlmIChfaXNTdHJpbmcgfHwgX2lzUmVmKSB7XHJcbiAgICAgICAgaWYgKGlzRm9yKSB7XHJcbiAgICAgICAgICAgIHZhciBleGlzdGluZyA9IF9pc1N0cmluZyA/IHJlZnNbcmVmXSA6IHJlZi52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZhbCkge1xyXG4gICAgICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlJDIoZXhpc3RpbmcsIHJlZlZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX2lzU3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNldHVwUmVmKHZtLCByZWYsIHJlZnNbcmVmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWYudmFsdWUgPSBbcmVmVmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFleGlzdGluZy5pbmNsdWRlcyhyZWZWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5wdXNoKHJlZlZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfaXNTdHJpbmcpIHtcclxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZhbCAmJiByZWZzW3JlZl0gIT09IHJlZlZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVmc1tyZWZdID0gJHJlZnNWYWx1ZTtcclxuICAgICAgICAgICAgc2V0U2V0dXBSZWYodm0sIHJlZiwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfaXNSZWYpIHtcclxuICAgICAgICAgICAgaWYgKGlzUmVtb3ZhbCAmJiByZWYudmFsdWUgIT09IHJlZlZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgd2FybihcIkludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6IFwiLmNvbmNhdCh0eXBlb2YgcmVmKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHNldFNldHVwUmVmKF9hLCBrZXksIHZhbCkge1xyXG4gICAgdmFyIF9zZXR1cFN0YXRlID0gX2EuX3NldHVwU3RhdGU7XHJcbiAgICBpZiAoX3NldHVwU3RhdGUgJiYgaGFzT3duKF9zZXR1cFN0YXRlLCBrZXkpKSB7XHJcbiAgICAgICAgaWYgKGlzUmVmKF9zZXR1cFN0YXRlW2tleV0pKSB7XHJcbiAgICAgICAgICAgIF9zZXR1cFN0YXRlW2tleV0udmFsdWUgPSB2YWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBfc2V0dXBTdGF0ZVtrZXldID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG4vKipcclxuICogVmlydHVhbCBET00gcGF0Y2hpbmcgYWxnb3JpdGhtIGJhc2VkIG9uIFNuYWJiZG9tIGJ5XHJcbiAqIFNpbW9uIEZyaWlzIFZpbmR1bSAoQHBhbGRlcGluZClcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wYWxkZXBpbmQvc25hYmJkb20vYmxvYi9tYXN0ZXIvTElDRU5TRVxyXG4gKlxyXG4gKiBtb2RpZmllZCBieSBFdmFuIFlvdSAoQHl5eDk5MDgwMylcclxuICpcclxuICogTm90IHR5cGUtY2hlY2tpbmcgdGhpcyBiZWNhdXNlIHRoaXMgZmlsZSBpcyBwZXJmLWNyaXRpY2FsIGFuZCB0aGUgY29zdFxyXG4gKiBvZiBtYWtpbmcgZmxvdyB1bmRlcnN0YW5kIGl0IGlzIG5vdCB3b3J0aCBpdC5cclxuICovXHJcbnZhciBlbXB0eU5vZGUgPSBuZXcgVk5vZGUoJycsIHt9LCBbXSk7XHJcbnZhciBob29rcyA9IFsnY3JlYXRlJywgJ2FjdGl2YXRlJywgJ3VwZGF0ZScsICdyZW1vdmUnLCAnZGVzdHJveSddO1xyXG5mdW5jdGlvbiBzYW1lVm5vZGUoYSwgYikge1xyXG4gICAgcmV0dXJuIChhLmtleSA9PT0gYi5rZXkgJiZcclxuICAgICAgICBhLmFzeW5jRmFjdG9yeSA9PT0gYi5hc3luY0ZhY3RvcnkgJiZcclxuICAgICAgICAoKGEudGFnID09PSBiLnRhZyAmJlxyXG4gICAgICAgICAgICBhLmlzQ29tbWVudCA9PT0gYi5pc0NvbW1lbnQgJiZcclxuICAgICAgICAgICAgaXNEZWYoYS5kYXRhKSA9PT0gaXNEZWYoYi5kYXRhKSAmJlxyXG4gICAgICAgICAgICBzYW1lSW5wdXRUeXBlKGEsIGIpKSB8fFxyXG4gICAgICAgICAgICAoaXNUcnVlKGEuaXNBc3luY1BsYWNlaG9sZGVyKSAmJiBpc1VuZGVmKGIuYXN5bmNGYWN0b3J5LmVycm9yKSkpKTtcclxufVxyXG5mdW5jdGlvbiBzYW1lSW5wdXRUeXBlKGEsIGIpIHtcclxuICAgIGlmIChhLnRhZyAhPT0gJ2lucHV0JylcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIHZhciBpO1xyXG4gICAgdmFyIHR5cGVBID0gaXNEZWYoKGkgPSBhLmRhdGEpKSAmJiBpc0RlZigoaSA9IGkuYXR0cnMpKSAmJiBpLnR5cGU7XHJcbiAgICB2YXIgdHlwZUIgPSBpc0RlZigoaSA9IGIuZGF0YSkpICYmIGlzRGVmKChpID0gaS5hdHRycykpICYmIGkudHlwZTtcclxuICAgIHJldHVybiB0eXBlQSA9PT0gdHlwZUIgfHwgKGlzVGV4dElucHV0VHlwZSh0eXBlQSkgJiYgaXNUZXh0SW5wdXRUeXBlKHR5cGVCKSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlS2V5VG9PbGRJZHgoY2hpbGRyZW4sIGJlZ2luSWR4LCBlbmRJZHgpIHtcclxuICAgIHZhciBpLCBrZXk7XHJcbiAgICB2YXIgbWFwID0ge307XHJcbiAgICBmb3IgKGkgPSBiZWdpbklkeDsgaSA8PSBlbmRJZHg7ICsraSkge1xyXG4gICAgICAgIGtleSA9IGNoaWxkcmVuW2ldLmtleTtcclxuICAgICAgICBpZiAoaXNEZWYoa2V5KSlcclxuICAgICAgICAgICAgbWFwW2tleV0gPSBpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcDtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVQYXRjaEZ1bmN0aW9uKGJhY2tlbmQpIHtcclxuICAgIHZhciBpLCBqO1xyXG4gICAgdmFyIGNicyA9IHt9O1xyXG4gICAgdmFyIG1vZHVsZXMgPSBiYWNrZW5kLm1vZHVsZXMsIG5vZGVPcHMgPSBiYWNrZW5kLm5vZGVPcHM7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICBjYnNbaG9va3NbaV1dID0gW107XHJcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IG1vZHVsZXMubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKG1vZHVsZXNbal1baG9va3NbaV1dKSkge1xyXG4gICAgICAgICAgICAgICAgY2JzW2hvb2tzW2ldXS5wdXNoKG1vZHVsZXNbal1baG9va3NbaV1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGVtcHR5Tm9kZUF0KGVsbSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVk5vZGUobm9kZU9wcy50YWdOYW1lKGVsbSkudG9Mb3dlckNhc2UoKSwge30sIFtdLCB1bmRlZmluZWQsIGVsbSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVSbUNiKGNoaWxkRWxtLCBsaXN0ZW5lcnMpIHtcclxuICAgICAgICBmdW5jdGlvbiByZW1vdmUoKSB7XHJcbiAgICAgICAgICAgIGlmICgtLXJlbW92ZS5saXN0ZW5lcnMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY2hpbGRFbG0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlbW92ZS5saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XHJcbiAgICAgICAgcmV0dXJuIHJlbW92ZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUoZWwpIHtcclxuICAgICAgICB2YXIgcGFyZW50ID0gbm9kZU9wcy5wYXJlbnROb2RlKGVsKTtcclxuICAgICAgICAvLyBlbGVtZW50IG1heSBoYXZlIGFscmVhZHkgYmVlbiByZW1vdmVkIGR1ZSB0byB2LWh0bWwgLyB2LXRleHRcclxuICAgICAgICBpZiAoaXNEZWYocGFyZW50KSkge1xyXG4gICAgICAgICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudCwgZWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzVW5rbm93bkVsZW1lbnQodm5vZGUsIGluVlByZSkge1xyXG4gICAgICAgIHJldHVybiAoIWluVlByZSAmJlxyXG4gICAgICAgICAgICAhdm5vZGUubnMgJiZcclxuICAgICAgICAgICAgIShjb25maWcuaWdub3JlZEVsZW1lbnRzLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgY29uZmlnLmlnbm9yZWRFbGVtZW50cy5zb21lKGZ1bmN0aW9uIChpZ25vcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNSZWdFeHAoaWdub3JlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGlnbm9yZS50ZXN0KHZub2RlLnRhZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpZ25vcmUgPT09IHZub2RlLnRhZztcclxuICAgICAgICAgICAgICAgIH0pKSAmJlxyXG4gICAgICAgICAgICBjb25maWcuaXNVbmtub3duRWxlbWVudCh2bm9kZS50YWcpKTtcclxuICAgIH1cclxuICAgIHZhciBjcmVhdGluZ0VsbUluVlByZSA9IDA7XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFbG0odm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0sIG5lc3RlZCwgb3duZXJBcnJheSwgaW5kZXgpIHtcclxuICAgICAgICBpZiAoaXNEZWYodm5vZGUuZWxtKSAmJiBpc0RlZihvd25lckFycmF5KSkge1xyXG4gICAgICAgICAgICAvLyBUaGlzIHZub2RlIHdhcyB1c2VkIGluIGEgcHJldmlvdXMgcmVuZGVyIVxyXG4gICAgICAgICAgICAvLyBub3cgaXQncyB1c2VkIGFzIGEgbmV3IG5vZGUsIG92ZXJ3cml0aW5nIGl0cyBlbG0gd291bGQgY2F1c2VcclxuICAgICAgICAgICAgLy8gcG90ZW50aWFsIHBhdGNoIGVycm9ycyBkb3duIHRoZSByb2FkIHdoZW4gaXQncyB1c2VkIGFzIGFuIGluc2VydGlvblxyXG4gICAgICAgICAgICAvLyByZWZlcmVuY2Ugbm9kZS4gSW5zdGVhZCwgd2UgY2xvbmUgdGhlIG5vZGUgb24tZGVtYW5kIGJlZm9yZSBjcmVhdGluZ1xyXG4gICAgICAgICAgICAvLyBhc3NvY2lhdGVkIERPTSBlbGVtZW50IGZvciBpdC5cclxuICAgICAgICAgICAgdm5vZGUgPSBvd25lckFycmF5W2luZGV4XSA9IGNsb25lVk5vZGUodm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2bm9kZS5pc1Jvb3RJbnNlcnQgPSAhbmVzdGVkOyAvLyBmb3IgdHJhbnNpdGlvbiBlbnRlciBjaGVja1xyXG4gICAgICAgIGlmIChjcmVhdGVDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciB0YWcgPSB2bm9kZS50YWc7XHJcbiAgICAgICAgaWYgKGlzRGVmKHRhZykpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEucHJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRpbmdFbG1JblZQcmUrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1Vua25vd25FbGVtZW50KHZub2RlLCBjcmVhdGluZ0VsbUluVlByZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKCdVbmtub3duIGN1c3RvbSBlbGVtZW50OiA8JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc+IC0gZGlkIHlvdSAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3JlZ2lzdGVyIHRoZSBjb21wb25lbnQgY29ycmVjdGx5PyBGb3IgcmVjdXJzaXZlIGNvbXBvbmVudHMsICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFrZSBzdXJlIHRvIHByb3ZpZGUgdGhlIFwibmFtZVwiIG9wdGlvbi4nLCB2bm9kZS5jb250ZXh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2bm9kZS5lbG0gPSB2bm9kZS5uc1xyXG4gICAgICAgICAgICAgICAgPyBub2RlT3BzLmNyZWF0ZUVsZW1lbnROUyh2bm9kZS5ucywgdGFnKVxyXG4gICAgICAgICAgICAgICAgOiBub2RlT3BzLmNyZWF0ZUVsZW1lbnQodGFnLCB2bm9kZSk7XHJcbiAgICAgICAgICAgIHNldFNjb3BlKHZub2RlKTtcclxuICAgICAgICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGF0YSAmJiBkYXRhLnByZSkge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRpbmdFbG1JblZQcmUtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1RydWUodm5vZGUuaXNDb21tZW50KSkge1xyXG4gICAgICAgICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZUNvbW1lbnQodm5vZGUudGV4dCk7XHJcbiAgICAgICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUodm5vZGUudGV4dCk7XHJcbiAgICAgICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pIHtcclxuICAgICAgICB2YXIgaSA9IHZub2RlLmRhdGE7XHJcbiAgICAgICAgaWYgKGlzRGVmKGkpKSB7XHJcbiAgICAgICAgICAgIHZhciBpc1JlYWN0aXZhdGVkID0gaXNEZWYodm5vZGUuY29tcG9uZW50SW5zdGFuY2UpICYmIGkua2VlcEFsaXZlO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoKGkgPSBpLmhvb2spKSAmJiBpc0RlZigoaSA9IGkuaW5pdCkpKSB7XHJcbiAgICAgICAgICAgICAgICBpKHZub2RlLCBmYWxzZSAvKiBoeWRyYXRpbmcgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGFmdGVyIGNhbGxpbmcgdGhlIGluaXQgaG9vaywgaWYgdGhlIHZub2RlIGlzIGEgY2hpbGQgY29tcG9uZW50XHJcbiAgICAgICAgICAgIC8vIGl0IHNob3VsZCd2ZSBjcmVhdGVkIGEgY2hpbGQgaW5zdGFuY2UgYW5kIG1vdW50ZWQgaXQuIHRoZSBjaGlsZFxyXG4gICAgICAgICAgICAvLyBjb21wb25lbnQgYWxzbyBoYXMgc2V0IHRoZSBwbGFjZWhvbGRlciB2bm9kZSdzIGVsbS5cclxuICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgZWxlbWVudCBhbmQgYmUgZG9uZS5cclxuICAgICAgICAgICAgaWYgKGlzRGVmKHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSkge1xyXG4gICAgICAgICAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICAgICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1RydWUoaXNSZWFjdGl2YXRlZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZWFjdGl2YXRlQ29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XHJcbiAgICAgICAgaWYgKGlzRGVmKHZub2RlLmRhdGEucGVuZGluZ0luc2VydCkpIHtcclxuICAgICAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2guYXBwbHkoaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQpO1xyXG4gICAgICAgICAgICB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2bm9kZS5lbG0gPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZS4kZWw7XHJcbiAgICAgICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkge1xyXG4gICAgICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICAgICAgc2V0U2NvcGUodm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZW1wdHkgY29tcG9uZW50IHJvb3QuXHJcbiAgICAgICAgICAgIC8vIHNraXAgYWxsIGVsZW1lbnQtcmVsYXRlZCBtb2R1bGVzIGV4Y2VwdCBmb3IgcmVmICgjMzQ1NSlcclxuICAgICAgICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpO1xyXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgdG8gaW52b2tlIHRoZSBpbnNlcnQgaG9va1xyXG4gICAgICAgICAgICBpbnNlcnRlZFZub2RlUXVldWUucHVzaCh2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhY3RpdmF0ZUNvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSkge1xyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIC8vIGhhY2sgZm9yICM0MzM5OiBhIHJlYWN0aXZhdGVkIGNvbXBvbmVudCB3aXRoIGlubmVyIHRyYW5zaXRpb25cclxuICAgICAgICAvLyBkb2VzIG5vdCB0cmlnZ2VyIGJlY2F1c2UgdGhlIGlubmVyIG5vZGUncyBjcmVhdGVkIGhvb2tzIGFyZSBub3QgY2FsbGVkXHJcbiAgICAgICAgLy8gYWdhaW4uIEl0J3Mgbm90IGlkZWFsIHRvIGludm9sdmUgbW9kdWxlLXNwZWNpZmljIGxvZ2ljIGluIGhlcmUgYnV0XHJcbiAgICAgICAgLy8gdGhlcmUgZG9lc24ndCBzZWVtIHRvIGJlIGEgYmV0dGVyIHdheSB0byBkbyBpdC5cclxuICAgICAgICB2YXIgaW5uZXJOb2RlID0gdm5vZGU7XHJcbiAgICAgICAgd2hpbGUgKGlubmVyTm9kZS5jb21wb25lbnRJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBpbm5lck5vZGUgPSBpbm5lck5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoKGkgPSBpbm5lck5vZGUuZGF0YSkpICYmIGlzRGVmKChpID0gaS50cmFuc2l0aW9uKSkpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMuYWN0aXZhdGUubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYnMuYWN0aXZhdGVbaV0oZW1wdHlOb2RlLCBpbm5lck5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2goaW5uZXJOb2RlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHVubGlrZSBhIG5ld2x5IGNyZWF0ZWQgY29tcG9uZW50LFxyXG4gICAgICAgIC8vIGEgcmVhY3RpdmF0ZWQga2VlcC1hbGl2ZSBjb21wb25lbnQgZG9lc24ndCBpbnNlcnQgaXRzZWxmXHJcbiAgICAgICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW5zZXJ0KHBhcmVudCwgZWxtLCByZWYpIHtcclxuICAgICAgICBpZiAoaXNEZWYocGFyZW50KSkge1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGVPcHMucGFyZW50Tm9kZShyZWYpID09PSBwYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnQsIGVsbSwgcmVmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5vZGVPcHMuYXBwZW5kQ2hpbGQocGFyZW50LCBlbG0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpIHtcclxuICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhjaGlsZHJlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gMDsgaV8xIDwgY2hpbGRyZW4ubGVuZ3RoOyArK2lfMSkge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlRWxtKGNoaWxkcmVuW2lfMV0sIGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZWxtLCBudWxsLCB0cnVlLCBjaGlsZHJlbiwgaV8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc1ByaW1pdGl2ZSh2bm9kZS50ZXh0KSkge1xyXG4gICAgICAgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHZub2RlLmVsbSwgbm9kZU9wcy5jcmVhdGVUZXh0Tm9kZShTdHJpbmcodm5vZGUudGV4dCkpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc1BhdGNoYWJsZSh2bm9kZSkge1xyXG4gICAgICAgIHdoaWxlICh2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzRGVmKHZub2RlLnRhZyk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaV8yID0gMDsgaV8yIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraV8yKSB7XHJcbiAgICAgICAgICAgIGNicy5jcmVhdGVbaV8yXShlbXB0eU5vZGUsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaSA9IHZub2RlLmRhdGEuaG9vazsgLy8gUmV1c2UgdmFyaWFibGVcclxuICAgICAgICBpZiAoaXNEZWYoaSkpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGkuY3JlYXRlKSlcclxuICAgICAgICAgICAgICAgIGkuY3JlYXRlKGVtcHR5Tm9kZSwgdm5vZGUpO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoaS5pbnNlcnQpKVxyXG4gICAgICAgICAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHNldCBzY29wZSBpZCBhdHRyaWJ1dGUgZm9yIHNjb3BlZCBDU1MuXHJcbiAgICAvLyB0aGlzIGlzIGltcGxlbWVudGVkIGFzIGEgc3BlY2lhbCBjYXNlIHRvIGF2b2lkIHRoZSBvdmVyaGVhZFxyXG4gICAgLy8gb2YgZ29pbmcgdGhyb3VnaCB0aGUgbm9ybWFsIGF0dHJpYnV0ZSBwYXRjaGluZyBwcm9jZXNzLlxyXG4gICAgZnVuY3Rpb24gc2V0U2NvcGUodm5vZGUpIHtcclxuICAgICAgICB2YXIgaTtcclxuICAgICAgICBpZiAoaXNEZWYoKGkgPSB2bm9kZS5mblNjb3BlSWQpKSkge1xyXG4gICAgICAgICAgICBub2RlT3BzLnNldFN0eWxlU2NvcGUodm5vZGUuZWxtLCBpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhbmNlc3RvciA9IHZub2RlO1xyXG4gICAgICAgICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0RlZigoaSA9IGFuY2VzdG9yLmNvbnRleHQpKSAmJiBpc0RlZigoaSA9IGkuJG9wdGlvbnMuX3Njb3BlSWQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVPcHMuc2V0U3R5bGVTY29wZSh2bm9kZS5lbG0sIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZm9yIHNsb3QgY29udGVudCB0aGV5IHNob3VsZCBhbHNvIGdldCB0aGUgc2NvcGVJZCBmcm9tIHRoZSBob3N0IGluc3RhbmNlLlxyXG4gICAgICAgIGlmIChpc0RlZigoaSA9IGFjdGl2ZUluc3RhbmNlKSkgJiZcclxuICAgICAgICAgICAgaSAhPT0gdm5vZGUuY29udGV4dCAmJlxyXG4gICAgICAgICAgICBpICE9PSB2bm9kZS5mbkNvbnRleHQgJiZcclxuICAgICAgICAgICAgaXNEZWYoKGkgPSBpLiRvcHRpb25zLl9zY29wZUlkKSkpIHtcclxuICAgICAgICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gYWRkVm5vZGVzKHBhcmVudEVsbSwgcmVmRWxtLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSkge1xyXG4gICAgICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcclxuICAgICAgICAgICAgY3JlYXRlRWxtKHZub2Rlc1tzdGFydElkeF0sIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0sIGZhbHNlLCB2bm9kZXMsIHN0YXJ0SWR4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbnZva2VEZXN0cm95SG9vayh2bm9kZSkge1xyXG4gICAgICAgIHZhciBpLCBqO1xyXG4gICAgICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcclxuICAgICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpID0gZGF0YS5ob29rKSkgJiYgaXNEZWYoKGkgPSBpLmRlc3Ryb3kpKSlcclxuICAgICAgICAgICAgICAgIGkodm5vZGUpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgICAgICBjYnMuZGVzdHJveVtpXSh2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0RlZigoaSA9IHZub2RlLmNoaWxkcmVuKSkpIHtcclxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayh2bm9kZS5jaGlsZHJlbltqXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmVWbm9kZXModm5vZGVzLCBzdGFydElkeCwgZW5kSWR4KSB7XHJcbiAgICAgICAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xyXG4gICAgICAgICAgICB2YXIgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoY2gpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYoY2gudGFnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soY2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKGNoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRleHQgbm9kZVxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5vZGUoY2guZWxtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2sodm5vZGUsIHJtKSB7XHJcbiAgICAgICAgaWYgKGlzRGVmKHJtKSB8fCBpc0RlZih2bm9kZS5kYXRhKSkge1xyXG4gICAgICAgICAgICB2YXIgaV8zO1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gY2JzLnJlbW92ZS5sZW5ndGggKyAxO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYocm0pKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIGEgcmVjdXJzaXZlbHkgcGFzc2VkIGRvd24gcm0gY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIC8vIGluY3JlYXNlIHRoZSBsaXN0ZW5lcnMgY291bnRcclxuICAgICAgICAgICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RseSByZW1vdmluZ1xyXG4gICAgICAgICAgICAgICAgcm0gPSBjcmVhdGVSbUNiKHZub2RlLmVsbSwgbGlzdGVuZXJzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyByZWN1cnNpdmVseSBpbnZva2UgaG9va3Mgb24gY2hpbGQgY29tcG9uZW50IHJvb3Qgbm9kZVxyXG4gICAgICAgICAgICBpZiAoaXNEZWYoKGlfMyA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSkgJiZcclxuICAgICAgICAgICAgICAgIGlzRGVmKChpXzMgPSBpXzMuX3Zub2RlKSkgJiZcclxuICAgICAgICAgICAgICAgIGlzRGVmKGlfMy5kYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhpXzMsIHJtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGlfMyA9IDA7IGlfMyA8IGNicy5yZW1vdmUubGVuZ3RoOyArK2lfMykge1xyXG4gICAgICAgICAgICAgICAgY2JzLnJlbW92ZVtpXzNdKHZub2RlLCBybSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpXzMgPSB2bm9kZS5kYXRhLmhvb2spKSAmJiBpc0RlZigoaV8zID0gaV8zLnJlbW92ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICBpXzModm5vZGUsIHJtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodm5vZGUuZWxtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbihwYXJlbnRFbG0sIG9sZENoLCBuZXdDaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KSB7XHJcbiAgICAgICAgdmFyIG9sZFN0YXJ0SWR4ID0gMDtcclxuICAgICAgICB2YXIgbmV3U3RhcnRJZHggPSAwO1xyXG4gICAgICAgIHZhciBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xyXG4gICAgICAgIHZhciBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XHJcbiAgICAgICAgdmFyIG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcclxuICAgICAgICB2YXIgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcclxuICAgICAgICB2YXIgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xyXG4gICAgICAgIHZhciBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XHJcbiAgICAgICAgdmFyIG9sZEtleVRvSWR4LCBpZHhJbk9sZCwgdm5vZGVUb01vdmUsIHJlZkVsbTtcclxuICAgICAgICAvLyByZW1vdmVPbmx5IGlzIGEgc3BlY2lhbCBmbGFnIHVzZWQgb25seSBieSA8dHJhbnNpdGlvbi1ncm91cD5cclxuICAgICAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zXHJcbiAgICAgICAgLy8gZHVyaW5nIGxlYXZpbmcgdHJhbnNpdGlvbnNcclxuICAgICAgICB2YXIgY2FuTW92ZSA9ICFyZW1vdmVPbmx5O1xyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhuZXdDaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlIChvbGRTdGFydElkeCA8PSBvbGRFbmRJZHggJiYgbmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XHJcbiAgICAgICAgICAgIGlmIChpc1VuZGVmKG9sZFN0YXJ0Vm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07IC8vIFZub2RlIGhhcyBiZWVuIG1vdmVkIGxlZnRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4KTtcclxuICAgICAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcclxuICAgICAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmV3Q2gsIG5ld0VuZElkeCk7XHJcbiAgICAgICAgICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcclxuICAgICAgICAgICAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIFZub2RlIG1vdmVkIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdFbmRJZHgpO1xyXG4gICAgICAgICAgICAgICAgY2FuTW92ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRW5kVm5vZGUuZWxtKSk7XHJcbiAgICAgICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XHJcbiAgICAgICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBWbm9kZSBtb3ZlZCBsZWZ0XHJcbiAgICAgICAgICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdTdGFydElkeCk7XHJcbiAgICAgICAgICAgICAgICBjYW5Nb3ZlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRFbmRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcclxuICAgICAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xyXG4gICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVW5kZWYob2xkS2V5VG9JZHgpKVxyXG4gICAgICAgICAgICAgICAgICAgIG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xyXG4gICAgICAgICAgICAgICAgaWR4SW5PbGQgPSBpc0RlZihuZXdTdGFydFZub2RlLmtleSlcclxuICAgICAgICAgICAgICAgICAgICA/IG9sZEtleVRvSWR4W25ld1N0YXJ0Vm5vZGUua2V5XVxyXG4gICAgICAgICAgICAgICAgICAgIDogZmluZElkeEluT2xkKG5ld1N0YXJ0Vm5vZGUsIG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1VuZGVmKGlkeEluT2xkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5ldyBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCBvbGRTdGFydFZub2RlLmVsbSwgZmFsc2UsIG5ld0NoLCBuZXdTdGFydElkeCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2FtZVZub2RlKHZub2RlVG9Nb3ZlLCBuZXdTdGFydFZub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRjaFZub2RlKHZub2RlVG9Nb3ZlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdTdGFydElkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuTW92ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCB2bm9kZVRvTW92ZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNhbWUga2V5IGJ1dCBkaWZmZXJlbnQgZWxlbWVudC4gdHJlYXQgYXMgbmV3IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxtKG5ld1N0YXJ0Vm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCBvbGRTdGFydFZub2RlLmVsbSwgZmFsc2UsIG5ld0NoLCBuZXdTdGFydElkeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbGRTdGFydElkeCA+IG9sZEVuZElkeCkge1xyXG4gICAgICAgICAgICByZWZFbG0gPSBpc1VuZGVmKG5ld0NoW25ld0VuZElkeCArIDFdKSA/IG51bGwgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS5lbG07XHJcbiAgICAgICAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIHJlZkVsbSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVZub2RlcyhvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2hlY2tEdXBsaWNhdGVLZXlzKGNoaWxkcmVuKSB7XHJcbiAgICAgICAgdmFyIHNlZW5LZXlzID0ge307XHJcbiAgICAgICAgZm9yICh2YXIgaV80ID0gMDsgaV80IDwgY2hpbGRyZW4ubGVuZ3RoOyBpXzQrKykge1xyXG4gICAgICAgICAgICB2YXIgdm5vZGUgPSBjaGlsZHJlbltpXzRdO1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gdm5vZGUua2V5O1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlZW5LZXlzW2tleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiRHVwbGljYXRlIGtleXMgZGV0ZWN0ZWQ6ICdcIi5jb25jYXQoa2V5LCBcIicuIFRoaXMgbWF5IGNhdXNlIGFuIHVwZGF0ZSBlcnJvci5cIiksIHZub2RlLmNvbnRleHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VlbktleXNba2V5XSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBmaW5kSWR4SW5PbGQobm9kZSwgb2xkQ2gsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBmb3IgKHZhciBpXzUgPSBzdGFydDsgaV81IDwgZW5kOyBpXzUrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IG9sZENoW2lfNV07XHJcbiAgICAgICAgICAgIGlmIChpc0RlZihjKSAmJiBzYW1lVm5vZGUobm9kZSwgYykpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaV81O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhdGNoVm5vZGUob2xkVm5vZGUsIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG93bmVyQXJyYXksIGluZGV4LCByZW1vdmVPbmx5KSB7XHJcbiAgICAgICAgaWYgKG9sZFZub2RlID09PSB2bm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0RlZih2bm9kZS5lbG0pICYmIGlzRGVmKG93bmVyQXJyYXkpKSB7XHJcbiAgICAgICAgICAgIC8vIGNsb25lIHJldXNlZCB2bm9kZVxyXG4gICAgICAgICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlbG0gPSAodm5vZGUuZWxtID0gb2xkVm5vZGUuZWxtKTtcclxuICAgICAgICBpZiAoaXNUcnVlKG9sZFZub2RlLmlzQXN5bmNQbGFjZWhvbGRlcikpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKHZub2RlLmFzeW5jRmFjdG9yeS5yZXNvbHZlZCkpIHtcclxuICAgICAgICAgICAgICAgIGh5ZHJhdGUob2xkVm5vZGUuZWxtLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZub2RlLmlzQXN5bmNQbGFjZWhvbGRlciA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZXVzZSBlbGVtZW50IGZvciBzdGF0aWMgdHJlZXMuXHJcbiAgICAgICAgLy8gbm90ZSB3ZSBvbmx5IGRvIHRoaXMgaWYgdGhlIHZub2RlIGlzIGNsb25lZCAtXHJcbiAgICAgICAgLy8gaWYgdGhlIG5ldyBub2RlIGlzIG5vdCBjbG9uZWQgaXQgbWVhbnMgdGhlIHJlbmRlciBmdW5jdGlvbnMgaGF2ZSBiZWVuXHJcbiAgICAgICAgLy8gcmVzZXQgYnkgdGhlIGhvdC1yZWxvYWQtYXBpIGFuZCB3ZSBuZWVkIHRvIGRvIGEgcHJvcGVyIHJlLXJlbmRlci5cclxuICAgICAgICBpZiAoaXNUcnVlKHZub2RlLmlzU3RhdGljKSAmJlxyXG4gICAgICAgICAgICBpc1RydWUob2xkVm5vZGUuaXNTdGF0aWMpICYmXHJcbiAgICAgICAgICAgIHZub2RlLmtleSA9PT0gb2xkVm5vZGUua2V5ICYmXHJcbiAgICAgICAgICAgIChpc1RydWUodm5vZGUuaXNDbG9uZWQpIHx8IGlzVHJ1ZSh2bm9kZS5pc09uY2UpKSkge1xyXG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IG9sZFZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcclxuICAgICAgICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNEZWYoKGkgPSBkYXRhLmhvb2spKSAmJiBpc0RlZigoaSA9IGkucHJlcGF0Y2gpKSkge1xyXG4gICAgICAgICAgICBpKG9sZFZub2RlLCB2bm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvbGRDaCA9IG9sZFZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIHZhciBjaCA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc1BhdGNoYWJsZSh2bm9kZSkpIHtcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNicy51cGRhdGUubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgICAgICBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZigoaSA9IGRhdGEuaG9vaykpICYmIGlzRGVmKChpID0gaS51cGRhdGUpKSlcclxuICAgICAgICAgICAgICAgIGkob2xkVm5vZGUsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzVW5kZWYodm5vZGUudGV4dCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvbGRDaCAhPT0gY2gpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNEZWYoY2gpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhjaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpXHJcbiAgICAgICAgICAgICAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTtcclxuICAgICAgICAgICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGVmKG9sZENoKSkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvbGRWbm9kZS50ZXh0ICE9PSB2bm9kZS50ZXh0KSB7XHJcbiAgICAgICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCB2bm9kZS50ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RlZigoaSA9IGRhdGEuaG9vaykpICYmIGlzRGVmKChpID0gaS5wb3N0cGF0Y2gpKSlcclxuICAgICAgICAgICAgICAgIGkob2xkVm5vZGUsIHZub2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbnZva2VJbnNlcnRIb29rKHZub2RlLCBxdWV1ZSwgaW5pdGlhbCkge1xyXG4gICAgICAgIC8vIGRlbGF5IGluc2VydCBob29rcyBmb3IgY29tcG9uZW50IHJvb3Qgbm9kZXMsIGludm9rZSB0aGVtIGFmdGVyIHRoZVxyXG4gICAgICAgIC8vIGVsZW1lbnQgaXMgcmVhbGx5IGluc2VydGVkXHJcbiAgICAgICAgaWYgKGlzVHJ1ZShpbml0aWFsKSAmJiBpc0RlZih2bm9kZS5wYXJlbnQpKSB7XHJcbiAgICAgICAgICAgIHZub2RlLnBhcmVudC5kYXRhLnBlbmRpbmdJbnNlcnQgPSBxdWV1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGlfNiA9IDA7IGlfNiA8IHF1ZXVlLmxlbmd0aDsgKytpXzYpIHtcclxuICAgICAgICAgICAgICAgIHF1ZXVlW2lfNl0uZGF0YS5ob29rLmluc2VydChxdWV1ZVtpXzZdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciBoeWRyYXRpb25CYWlsZWQgPSBmYWxzZTtcclxuICAgIC8vIGxpc3Qgb2YgbW9kdWxlcyB0aGF0IGNhbiBza2lwIGNyZWF0ZSBob29rIGR1cmluZyBoeWRyYXRpb24gYmVjYXVzZSB0aGV5XHJcbiAgICAvLyBhcmUgYWxyZWFkeSByZW5kZXJlZCBvbiB0aGUgY2xpZW50IG9yIGhhcyBubyBuZWVkIGZvciBpbml0aWFsaXphdGlvblxyXG4gICAgLy8gTm90ZTogc3R5bGUgaXMgZXhjbHVkZWQgYmVjYXVzZSBpdCByZWxpZXMgb24gaW5pdGlhbCBjbG9uZSBmb3IgZnV0dXJlXHJcbiAgICAvLyBkZWVwIHVwZGF0ZXMgKCM3MDYzKS5cclxuICAgIHZhciBpc1JlbmRlcmVkTW9kdWxlID0gbWFrZU1hcCgnYXR0cnMsY2xhc3Msc3RhdGljQ2xhc3Msc3RhdGljU3R5bGUsa2V5Jyk7XHJcbiAgICAvLyBOb3RlOiB0aGlzIGlzIGEgYnJvd3Nlci1vbmx5IGZ1bmN0aW9uIHNvIHdlIGNhbiBhc3N1bWUgZWxtcyBhcmUgRE9NIG5vZGVzLlxyXG4gICAgZnVuY3Rpb24gaHlkcmF0ZShlbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIGluVlByZSkge1xyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIHZhciB0YWcgPSB2bm9kZS50YWcsIGRhdGEgPSB2bm9kZS5kYXRhLCBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xyXG4gICAgICAgIGluVlByZSA9IGluVlByZSB8fCAoZGF0YSAmJiBkYXRhLnByZSk7XHJcbiAgICAgICAgdm5vZGUuZWxtID0gZWxtO1xyXG4gICAgICAgIGlmIChpc1RydWUodm5vZGUuaXNDb21tZW50KSAmJiBpc0RlZih2bm9kZS5hc3luY0ZhY3RvcnkpKSB7XHJcbiAgICAgICAgICAgIHZub2RlLmlzQXN5bmNQbGFjZWhvbGRlciA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhc3NlcnQgbm9kZSBtYXRjaFxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmICghYXNzZXJ0Tm9kZU1hdGNoKGVsbSwgdm5vZGUsIGluVlByZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNEZWYoZGF0YSkpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpID0gZGF0YS5ob29rKSkgJiYgaXNEZWYoKGkgPSBpLmluaXQpKSlcclxuICAgICAgICAgICAgICAgIGkodm5vZGUsIHRydWUgLyogaHlkcmF0aW5nICovKTtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKChpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuXHJcbiAgICAgICAgICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGVmKHRhZykpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmKGNoaWxkcmVuKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgZWxlbWVudCwgYWxsb3cgY2xpZW50IHRvIHBpY2sgdXAgYW5kIHBvcHVsYXRlIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWVsbS5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2LWh0bWwgYW5kIGRvbVByb3BzOiBpbm5lckhUTUxcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWYoKGkgPSBkYXRhKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoKGkgPSBpLmRvbVByb3BzKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWYoKGkgPSBpLmlubmVySFRNTCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBlbG0uaW5uZXJIVE1MKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIWh5ZHJhdGlvbkJhaWxlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkJhaWxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQYXJlbnQ6ICcsIGVsbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdzZXJ2ZXIgaW5uZXJIVE1MOiAnLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2NsaWVudCBpbm5lckhUTUw6ICcsIGVsbS5pbm5lckhUTUwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIGFuZCBjb21wYXJlIGNoaWxkcmVuIGxpc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbk1hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGVsbS5maXJzdENoaWxkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzcgPSAwOyBpXzcgPCBjaGlsZHJlbi5sZW5ndGg7IGlfNysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkTm9kZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoeWRyYXRlKGNoaWxkTm9kZSwgY2hpbGRyZW5baV83XSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpblZQcmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5NYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGROb2RlID0gY2hpbGROb2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGNoaWxkTm9kZSBpcyBub3QgbnVsbCwgaXQgbWVhbnMgdGhlIGFjdHVhbCBjaGlsZE5vZGVzIGxpc3QgaXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9uZ2VyIHRoYW4gdGhlIHZpcnR1YWwgY2hpbGRyZW4gbGlzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbk1hdGNoIHx8IGNoaWxkTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoeWRyYXRpb25CYWlsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25CYWlsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTWlzbWF0Y2hpbmcgY2hpbGROb2RlcyB2cy4gVk5vZGVzOiAnLCBlbG0uY2hpbGROb2RlcywgY2hpbGRyZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0RlZihkYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZ1bGxJbnZva2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1JlbmRlcmVkTW9kdWxlKGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbEludm9rZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZ1bGxJbnZva2UgJiYgZGF0YVsnY2xhc3MnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSBjb2xsZWN0aW5nIGRlcHMgZm9yIGRlZXAgY2xhc3MgYmluZGluZ3MgZm9yIGZ1dHVyZSB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2UoZGF0YVsnY2xhc3MnXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZWxtLmRhdGEgIT09IHZub2RlLnRleHQpIHtcclxuICAgICAgICAgICAgZWxtLmRhdGEgPSB2bm9kZS50ZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFzc2VydE5vZGVNYXRjaChub2RlLCB2bm9kZSwgaW5WUHJlKSB7XHJcbiAgICAgICAgaWYgKGlzRGVmKHZub2RlLnRhZykpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh2bm9kZS50YWcuaW5kZXhPZigndnVlLWNvbXBvbmVudCcpID09PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAoIWlzVW5rbm93bkVsZW1lbnQodm5vZGUsIGluVlByZSkgJiZcclxuICAgICAgICAgICAgICAgICAgICB2bm9kZS50YWcudG9Mb3dlckNhc2UoKSA9PT1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKG5vZGUudGFnTmFtZSAmJiBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAodm5vZGUuaXNDb21tZW50ID8gOCA6IDMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmdW5jdGlvbiBwYXRjaChvbGRWbm9kZSwgdm5vZGUsIGh5ZHJhdGluZywgcmVtb3ZlT25seSkge1xyXG4gICAgICAgIGlmIChpc1VuZGVmKHZub2RlKSkge1xyXG4gICAgICAgICAgICBpZiAoaXNEZWYob2xkVm5vZGUpKVxyXG4gICAgICAgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc0luaXRpYWxQYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpbnNlcnRlZFZub2RlUXVldWUgPSBbXTtcclxuICAgICAgICBpZiAoaXNVbmRlZihvbGRWbm9kZSkpIHtcclxuICAgICAgICAgICAgLy8gZW1wdHkgbW91bnQgKGxpa2VseSBhcyBjb21wb25lbnQpLCBjcmVhdGUgbmV3IHJvb3QgZWxlbWVudFxyXG4gICAgICAgICAgICBpc0luaXRpYWxQYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBpc1JlYWxFbGVtZW50ID0gaXNEZWYob2xkVm5vZGUubm9kZVR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHBhdGNoIGV4aXN0aW5nIHJvb3Qgbm9kZVxyXG4gICAgICAgICAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbnVsbCwgbnVsbCwgcmVtb3ZlT25seSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWFsRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBzZXJ2ZXItcmVuZGVyZWQgY29udGVudCBhbmQgaWYgd2UgY2FuIHBlcmZvcm1cclxuICAgICAgICAgICAgICAgICAgICAvLyBhIHN1Y2Nlc3NmdWwgaHlkcmF0aW9uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoU1NSX0FUVFIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZub2RlLnJlbW92ZUF0dHJpYnV0ZShTU1JfQVRUUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5ZHJhdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RydWUoaHlkcmF0aW5nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHlkcmF0ZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludm9rZUluc2VydEhvb2sodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2xkVm5vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybignVGhlIGNsaWVudC1zaWRlIHJlbmRlcmVkIHZpcnR1YWwgRE9NIHRyZWUgaXMgbm90IG1hdGNoaW5nICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGluY29ycmVjdCAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSFRNTCBtYXJrdXAsIGZvciBleGFtcGxlIG5lc3RpbmcgYmxvY2stbGV2ZWwgZWxlbWVudHMgaW5zaWRlICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cD4sIG9yIG1pc3NpbmcgPHRib2R5Pi4gQmFpbGluZyBoeWRyYXRpb24gYW5kIHBlcmZvcm1pbmcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Z1bGwgY2xpZW50LXNpZGUgcmVuZGVyLicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVpdGhlciBub3Qgc2VydmVyLXJlbmRlcmVkLCBvciBoeWRyYXRpb24gZmFpbGVkLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBlbXB0eSBub2RlIGFuZCByZXBsYWNlIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyByZXBsYWNpbmcgZXhpc3RpbmcgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgdmFyIG9sZEVsbSA9IG9sZFZub2RlLmVsbTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRFbG0gPSBub2RlT3BzLnBhcmVudE5vZGUob2xkRWxtKTtcclxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgbm9kZVxyXG4gICAgICAgICAgICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIFxyXG4gICAgICAgICAgICAgICAgLy8gZXh0cmVtZWx5IHJhcmUgZWRnZSBjYXNlOiBkbyBub3QgaW5zZXJ0IGlmIG9sZCBlbGVtZW50IGlzIGluIGFcclxuICAgICAgICAgICAgICAgIC8vIGxlYXZpbmcgdHJhbnNpdGlvbi4gT25seSBoYXBwZW5zIHdoZW4gY29tYmluaW5nIHRyYW5zaXRpb24gK1xyXG4gICAgICAgICAgICAgICAgLy8ga2VlcC1hbGl2ZSArIEhPQ3MuICgjNDU5MClcclxuICAgICAgICAgICAgICAgIG9sZEVsbS5fbGVhdmVDYiA/IG51bGwgOiBwYXJlbnRFbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRWxtKSk7XHJcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcGFyZW50IHBsYWNlaG9sZGVyIG5vZGUgZWxlbWVudCwgcmVjdXJzaXZlbHlcclxuICAgICAgICAgICAgICAgIGlmIChpc0RlZih2bm9kZS5wYXJlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2VzdG9yID0gdm5vZGUucGFyZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXRjaGFibGUgPSBpc1BhdGNoYWJsZSh2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFuY2VzdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfOCA9IDA7IGlfOCA8IGNicy5kZXN0cm95Lmxlbmd0aDsgKytpXzgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNicy5kZXN0cm95W2lfOF0oYW5jZXN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2VzdG9yLmVsbSA9IHZub2RlLmVsbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGNoYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaV85ID0gMDsgaV85IDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraV85KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2JzLmNyZWF0ZVtpXzldKGVtcHR5Tm9kZSwgYW5jZXN0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gIzY1MTNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludm9rZSBpbnNlcnQgaG9va3MgdGhhdCBtYXkgaGF2ZSBiZWVuIG1lcmdlZCBieSBjcmVhdGUgaG9va3MuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlLmcuIGZvciBkaXJlY3RpdmVzIHRoYXQgdXNlcyB0aGUgXCJpbnNlcnRlZFwiIGhvb2suXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0XzEgPSBhbmNlc3Rvci5kYXRhLmhvb2suaW5zZXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydF8xLm1lcmdlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGF0IGluZGV4IDEgdG8gYXZvaWQgcmUtaW52b2tpbmcgY29tcG9uZW50IG1vdW50ZWQgaG9va1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMTAgPSAxOyBpXzEwIDwgaW5zZXJ0XzEuZm5zLmxlbmd0aDsgaV8xMCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydF8xLmZuc1tpXzEwXSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyUmVmKGFuY2VzdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBkZXN0cm95IG9sZCBub2RlXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNEZWYocGFyZW50RWxtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVZub2Rlcyhbb2xkVm5vZGVdLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRhZykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhvbGRWbm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7XHJcbiAgICAgICAgcmV0dXJuIHZub2RlLmVsbTtcclxuICAgIH07XHJcbn1cblxudmFyIGRpcmVjdGl2ZXMgPSB7XHJcbiAgICBjcmVhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXHJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiB1bmJpbmREaXJlY3RpdmVzKHZub2RlKSB7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBlbXB0eU5vZGUgaXMgbm90IFZOb2RlV2l0aERhdGFcclxuICAgICAgICB1cGRhdGVEaXJlY3RpdmVzKHZub2RlLCBlbXB0eU5vZGUpO1xyXG4gICAgfVxyXG59O1xyXG5mdW5jdGlvbiB1cGRhdGVEaXJlY3RpdmVzKG9sZFZub2RlLCB2bm9kZSkge1xyXG4gICAgaWYgKG9sZFZub2RlLmRhdGEuZGlyZWN0aXZlcyB8fCB2bm9kZS5kYXRhLmRpcmVjdGl2ZXMpIHtcclxuICAgICAgICBfdXBkYXRlKG9sZFZub2RlLCB2bm9kZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gX3VwZGF0ZShvbGRWbm9kZSwgdm5vZGUpIHtcclxuICAgIHZhciBpc0NyZWF0ZSA9IG9sZFZub2RlID09PSBlbXB0eU5vZGU7XHJcbiAgICB2YXIgaXNEZXN0cm95ID0gdm5vZGUgPT09IGVtcHR5Tm9kZTtcclxuICAgIHZhciBvbGREaXJzID0gbm9ybWFsaXplRGlyZWN0aXZlcyhvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMsIG9sZFZub2RlLmNvbnRleHQpO1xyXG4gICAgdmFyIG5ld0RpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzKHZub2RlLmRhdGEuZGlyZWN0aXZlcywgdm5vZGUuY29udGV4dCk7XHJcbiAgICB2YXIgZGlyc1dpdGhJbnNlcnQgPSBbXTtcclxuICAgIHZhciBkaXJzV2l0aFBvc3RwYXRjaCA9IFtdO1xyXG4gICAgdmFyIGtleSwgb2xkRGlyLCBkaXI7XHJcbiAgICBmb3IgKGtleSBpbiBuZXdEaXJzKSB7XHJcbiAgICAgICAgb2xkRGlyID0gb2xkRGlyc1trZXldO1xyXG4gICAgICAgIGRpciA9IG5ld0RpcnNba2V5XTtcclxuICAgICAgICBpZiAoIW9sZERpcikge1xyXG4gICAgICAgICAgICAvLyBuZXcgZGlyZWN0aXZlLCBiaW5kXHJcbiAgICAgICAgICAgIGNhbGxIb29rKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpO1xyXG4gICAgICAgICAgICBpZiAoZGlyLmRlZiAmJiBkaXIuZGVmLmluc2VydGVkKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJzV2l0aEluc2VydC5wdXNoKGRpcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGV4aXN0aW5nIGRpcmVjdGl2ZSwgdXBkYXRlXHJcbiAgICAgICAgICAgIGRpci5vbGRWYWx1ZSA9IG9sZERpci52YWx1ZTtcclxuICAgICAgICAgICAgZGlyLm9sZEFyZyA9IG9sZERpci5hcmc7XHJcbiAgICAgICAgICAgIGNhbGxIb29rKGRpciwgJ3VwZGF0ZScsIHZub2RlLCBvbGRWbm9kZSk7XHJcbiAgICAgICAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgZGlyc1dpdGhQb3N0cGF0Y2gucHVzaChkaXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBjYWxsSW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsSG9vayhkaXJzV2l0aEluc2VydFtpXSwgJ2luc2VydGVkJywgdm5vZGUsIG9sZFZub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKGlzQ3JlYXRlKSB7XHJcbiAgICAgICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAnaW5zZXJ0JywgY2FsbEluc2VydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjYWxsSW5zZXJ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aCkge1xyXG4gICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsSG9vayhkaXJzV2l0aFBvc3RwYXRjaFtpXSwgJ2NvbXBvbmVudFVwZGF0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzQ3JlYXRlKSB7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gb2xkRGlycykge1xyXG4gICAgICAgICAgICBpZiAoIW5ld0RpcnNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZFxyXG4gICAgICAgICAgICAgICAgY2FsbEhvb2sob2xkRGlyc1trZXldLCAndW5iaW5kJywgb2xkVm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciBlbXB0eU1vZGlmaWVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZURpcmVjdGl2ZXMoZGlycywgdm0pIHtcclxuICAgIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgaWYgKCFkaXJzKSB7XHJcbiAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuICAgIHZhciBpLCBkaXI7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgZGlycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRpciA9IGRpcnNbaV07XHJcbiAgICAgICAgaWYgKCFkaXIubW9kaWZpZXJzKSB7XHJcbiAgICAgICAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxyXG4gICAgICAgICAgICBkaXIubW9kaWZpZXJzID0gZW1wdHlNb2RpZmllcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc1tnZXRSYXdEaXJOYW1lKGRpcildID0gZGlyO1xyXG4gICAgICAgIGlmICh2bS5fc2V0dXBTdGF0ZSAmJiB2bS5fc2V0dXBTdGF0ZS5fX3NmYykge1xyXG4gICAgICAgICAgICBkaXIuZGVmID0gZGlyLmRlZiB8fCByZXNvbHZlQXNzZXQodm0sICdfc2V0dXBTdGF0ZScsICd2LScgKyBkaXIubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpci5kZWYgPSBkaXIuZGVmIHx8IHJlc29sdmVBc3NldCh2bS4kb3B0aW9ucywgJ2RpcmVjdGl2ZXMnLCBkaXIubmFtZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuZnVuY3Rpb24gZ2V0UmF3RGlyTmFtZShkaXIpIHtcclxuICAgIHJldHVybiAoZGlyLnJhd05hbWUgfHwgXCJcIi5jb25jYXQoZGlyLm5hbWUsIFwiLlwiKS5jb25jYXQoT2JqZWN0LmtleXMoZGlyLm1vZGlmaWVycyB8fCB7fSkuam9pbignLicpKSk7XHJcbn1cclxuZnVuY3Rpb24gY2FsbEhvb2soZGlyLCBob29rLCB2bm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSkge1xyXG4gICAgdmFyIGZuID0gZGlyLmRlZiAmJiBkaXIuZGVmW2hvb2tdO1xyXG4gICAgaWYgKGZuKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm4odm5vZGUuZWxtLCBkaXIsIHZub2RlLCBvbGRWbm9kZSwgaXNEZXN0cm95KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm5vZGUuY29udGV4dCwgXCJkaXJlY3RpdmUgXCIuY29uY2F0KGRpci5uYW1lLCBcIiBcIikuY29uY2F0KGhvb2ssIFwiIGhvb2tcIikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG52YXIgYmFzZU1vZHVsZXMgPSBbcmVmLCBkaXJlY3RpdmVzXTtcblxuZnVuY3Rpb24gdXBkYXRlQXR0cnMob2xkVm5vZGUsIHZub2RlKSB7XHJcbiAgICB2YXIgb3B0cyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XHJcbiAgICBpZiAoaXNEZWYob3B0cykgJiYgb3B0cy5DdG9yLm9wdGlvbnMuaW5oZXJpdEF0dHJzID09PSBmYWxzZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChpc1VuZGVmKG9sZFZub2RlLmRhdGEuYXR0cnMpICYmIGlzVW5kZWYodm5vZGUuZGF0YS5hdHRycykpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIga2V5LCBjdXIsIG9sZDtcclxuICAgIHZhciBlbG0gPSB2bm9kZS5lbG07XHJcbiAgICB2YXIgb2xkQXR0cnMgPSBvbGRWbm9kZS5kYXRhLmF0dHJzIHx8IHt9O1xyXG4gICAgdmFyIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyB8fCB7fTtcclxuICAgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxyXG4gICAgaWYgKGlzRGVmKGF0dHJzLl9fb2JfXykgfHwgaXNUcnVlKGF0dHJzLl92X2F0dHJfcHJveHkpKSB7XHJcbiAgICAgICAgYXR0cnMgPSB2bm9kZS5kYXRhLmF0dHJzID0gZXh0ZW5kKHt9LCBhdHRycyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGtleSBpbiBhdHRycykge1xyXG4gICAgICAgIGN1ciA9IGF0dHJzW2tleV07XHJcbiAgICAgICAgb2xkID0gb2xkQXR0cnNba2V5XTtcclxuICAgICAgICBpZiAob2xkICE9PSBjdXIpIHtcclxuICAgICAgICAgICAgc2V0QXR0cihlbG0sIGtleSwgY3VyLCB2bm9kZS5kYXRhLnByZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gIzQzOTE6IGluIElFOSwgc2V0dGluZyB0eXBlIGNhbiByZXNldCB2YWx1ZSBmb3IgaW5wdXRbdHlwZT1yYWRpb11cclxuICAgIC8vICM2NjY2OiBJRS9FZGdlIGZvcmNlcyBwcm9ncmVzcyB2YWx1ZSBkb3duIHRvIDEgYmVmb3JlIHNldHRpbmcgYSBtYXhcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKChpc0lFIHx8IGlzRWRnZSkgJiYgYXR0cnMudmFsdWUgIT09IG9sZEF0dHJzLnZhbHVlKSB7XHJcbiAgICAgICAgc2V0QXR0cihlbG0sICd2YWx1ZScsIGF0dHJzLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XHJcbiAgICAgICAgaWYgKGlzVW5kZWYoYXR0cnNba2V5XSkpIHtcclxuICAgICAgICAgICAgaWYgKGlzWGxpbmsoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gc2V0QXR0cihlbCwga2V5LCB2YWx1ZSwgaXNJblByZSkge1xyXG4gICAgaWYgKGlzSW5QcmUgfHwgZWwudGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xyXG4gICAgICAgIGJhc2VTZXRBdHRyKGVsLCBrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xyXG4gICAgICAgIC8vIHNldCBhdHRyaWJ1dGUgZm9yIGJsYW5rIHZhbHVlXHJcbiAgICAgICAgLy8gZS5nLiA8b3B0aW9uIGRpc2FibGVkPlNlbGVjdCBvbmU8L29wdGlvbj5cclxuICAgICAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyB0ZWNobmljYWxseSBhbGxvd2Z1bGxzY3JlZW4gaXMgYSBib29sZWFuIGF0dHJpYnV0ZSBmb3IgPGlmcmFtZT4sXHJcbiAgICAgICAgICAgIC8vIGJ1dCBGbGFzaCBleHBlY3RzIGEgdmFsdWUgb2YgXCJ0cnVlXCIgd2hlbiB1c2VkIG9uIDxlbWJlZD4gdGFnXHJcbiAgICAgICAgICAgIHZhbHVlID0ga2V5ID09PSAnYWxsb3dmdWxsc2NyZWVuJyAmJiBlbC50YWdOYW1lID09PSAnRU1CRUQnID8gJ3RydWUnIDoga2V5O1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgY29udmVydEVudW1lcmF0ZWRWYWx1ZShrZXksIHZhbHVlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1hsaW5rKGtleSkpIHtcclxuICAgICAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGJhc2VTZXRBdHRyKGVsLCBrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcclxuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vICM3MTM4OiBJRTEwICYgMTEgZmlyZXMgaW5wdXQgZXZlbnQgd2hlbiBzZXR0aW5nIHBsYWNlaG9sZGVyIG9uXHJcbiAgICAgICAgLy8gPHRleHRhcmVhPi4uLiBibG9jayB0aGUgZmlyc3QgaW5wdXQgZXZlbnQgYW5kIHJlbW92ZSB0aGUgYmxvY2tlclxyXG4gICAgICAgIC8vIGltbWVkaWF0ZWx5LlxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgIGlmIChpc0lFICYmXHJcbiAgICAgICAgICAgICFpc0lFOSAmJlxyXG4gICAgICAgICAgICBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnICYmXHJcbiAgICAgICAgICAgIGtleSA9PT0gJ3BsYWNlaG9sZGVyJyAmJlxyXG4gICAgICAgICAgICB2YWx1ZSAhPT0gJycgJiZcclxuICAgICAgICAgICAgIWVsLl9faWVwaCkge1xyXG4gICAgICAgICAgICB2YXIgYmxvY2tlcl8xID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJsb2NrZXJfMSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmxvY2tlcl8xKTtcclxuICAgICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICAgICAgICAgIGVsLl9faWVwaCA9IHRydWU7IC8qIElFIHBsYWNlaG9sZGVyIHBhdGNoZWQgKi9cclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG59XHJcbnZhciBhdHRycyA9IHtcclxuICAgIGNyZWF0ZTogdXBkYXRlQXR0cnMsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZUF0dHJzXHJcbn07XG5cbmZ1bmN0aW9uIHVwZGF0ZUNsYXNzKG9sZFZub2RlLCB2bm9kZSkge1xyXG4gICAgdmFyIGVsID0gdm5vZGUuZWxtO1xyXG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xyXG4gICAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xyXG4gICAgaWYgKGlzVW5kZWYoZGF0YS5zdGF0aWNDbGFzcykgJiZcclxuICAgICAgICBpc1VuZGVmKGRhdGEuY2xhc3MpICYmXHJcbiAgICAgICAgKGlzVW5kZWYob2xkRGF0YSkgfHxcclxuICAgICAgICAgICAgKGlzVW5kZWYob2xkRGF0YS5zdGF0aWNDbGFzcykgJiYgaXNVbmRlZihvbGREYXRhLmNsYXNzKSkpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGNscyA9IGdlbkNsYXNzRm9yVm5vZGUodm5vZGUpO1xyXG4gICAgLy8gaGFuZGxlIHRyYW5zaXRpb24gY2xhc3Nlc1xyXG4gICAgdmFyIHRyYW5zaXRpb25DbGFzcyA9IGVsLl90cmFuc2l0aW9uQ2xhc3NlcztcclxuICAgIGlmIChpc0RlZih0cmFuc2l0aW9uQ2xhc3MpKSB7XHJcbiAgICAgICAgY2xzID0gY29uY2F0KGNscywgc3RyaW5naWZ5Q2xhc3ModHJhbnNpdGlvbkNsYXNzKSk7XHJcbiAgICB9XHJcbiAgICAvLyBzZXQgdGhlIGNsYXNzXHJcbiAgICBpZiAoY2xzICE9PSBlbC5fcHJldkNsYXNzKSB7XHJcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNscyk7XHJcbiAgICAgICAgZWwuX3ByZXZDbGFzcyA9IGNscztcclxuICAgIH1cclxufVxyXG52YXIga2xhc3MgPSB7XHJcbiAgICBjcmVhdGU6IHVwZGF0ZUNsYXNzLFxyXG4gICAgdXBkYXRlOiB1cGRhdGVDbGFzc1xyXG59O1xuXG4vLyBpbiBzb21lIGNhc2VzLCB0aGUgZXZlbnQgdXNlZCBoYXMgdG8gYmUgZGV0ZXJtaW5lZCBhdCBydW50aW1lXHJcbi8vIHNvIHdlIHVzZWQgc29tZSByZXNlcnZlZCB0b2tlbnMgZHVyaW5nIGNvbXBpbGUuXHJcbnZhciBSQU5HRV9UT0tFTiA9ICdfX3InO1xyXG52YXIgQ0hFQ0tCT1hfUkFESU9fVE9LRU4gPSAnX19jJztcblxuLy8gbm9ybWFsaXplIHYtbW9kZWwgZXZlbnQgdG9rZW5zIHRoYXQgY2FuIG9ubHkgYmUgZGV0ZXJtaW5lZCBhdCBydW50aW1lLlxyXG4vLyBpdCdzIGltcG9ydGFudCB0byBwbGFjZSB0aGUgZXZlbnQgYXMgdGhlIGZpcnN0IGluIHRoZSBhcnJheSBiZWNhdXNlXHJcbi8vIHRoZSB3aG9sZSBwb2ludCBpcyBlbnN1cmluZyB0aGUgdi1tb2RlbCBjYWxsYmFjayBnZXRzIGNhbGxlZCBiZWZvcmVcclxuLy8gdXNlci1hdHRhY2hlZCBoYW5kbGVycy5cclxuZnVuY3Rpb24gbm9ybWFsaXplRXZlbnRzKG9uKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChpc0RlZihvbltSQU5HRV9UT0tFTl0pKSB7XHJcbiAgICAgICAgLy8gSUUgaW5wdXRbdHlwZT1yYW5nZV0gb25seSBzdXBwb3J0cyBgY2hhbmdlYCBldmVudFxyXG4gICAgICAgIHZhciBldmVudF8xID0gaXNJRSA/ICdjaGFuZ2UnIDogJ2lucHV0JztcclxuICAgICAgICBvbltldmVudF8xXSA9IFtdLmNvbmNhdChvbltSQU5HRV9UT0tFTl0sIG9uW2V2ZW50XzFdIHx8IFtdKTtcclxuICAgICAgICBkZWxldGUgb25bUkFOR0VfVE9LRU5dO1xyXG4gICAgfVxyXG4gICAgLy8gVGhpcyB3YXMgb3JpZ2luYWxseSBpbnRlbmRlZCB0byBmaXggIzQ1MjEgYnV0IG5vIGxvbmdlciBuZWNlc3NhcnlcclxuICAgIC8vIGFmdGVyIDIuNS4gS2VlcGluZyBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIGdlbmVyYXRlZCBjb2RlIGZyb20gPCAyLjRcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzRGVmKG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSkpIHtcclxuICAgICAgICBvbi5jaGFuZ2UgPSBbXS5jb25jYXQob25bQ0hFQ0tCT1hfUkFESU9fVE9LRU5dLCBvbi5jaGFuZ2UgfHwgW10pO1xyXG4gICAgICAgIGRlbGV0ZSBvbltDSEVDS0JPWF9SQURJT19UT0tFTl07XHJcbiAgICB9XHJcbn1cclxudmFyIHRhcmdldDtcclxuZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHtcclxuICAgIHZhciBfdGFyZ2V0ID0gdGFyZ2V0OyAvLyBzYXZlIGN1cnJlbnQgdGFyZ2V0IGVsZW1lbnQgaW4gY2xvc3VyZVxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VIYW5kbGVyKCkge1xyXG4gICAgICAgIHZhciByZXMgPSBoYW5kbGVyLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgaWYgKHJlcyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZW1vdmUoZXZlbnQsIG9uY2VIYW5kbGVyLCBjYXB0dXJlLCBfdGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbi8vICM5NDQ2OiBGaXJlZm94IDw9IDUzIChpbiBwYXJ0aWN1bGFyLCBFU1IgNTIpIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wXHJcbi8vIGltcGxlbWVudGF0aW9uIGFuZCBkb2VzIG5vdCBmaXJlIG1pY3JvdGFza3MgaW4gYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbiwgc29cclxuLy8gc2FmZSB0byBleGNsdWRlLlxyXG52YXIgdXNlTWljcm90YXNrRml4ID0gaXNVc2luZ01pY3JvVGFzayAmJiAhKGlzRkYgJiYgTnVtYmVyKGlzRkZbMV0pIDw9IDUzKTtcclxuZnVuY3Rpb24gYWRkKG5hbWUsIGhhbmRsZXIsIGNhcHR1cmUsIHBhc3NpdmUpIHtcclxuICAgIC8vIGFzeW5jIGVkZ2UgY2FzZSAjNjU2NjogaW5uZXIgY2xpY2sgZXZlbnQgdHJpZ2dlcnMgcGF0Y2gsIGV2ZW50IGhhbmRsZXJcclxuICAgIC8vIGF0dGFjaGVkIHRvIG91dGVyIGVsZW1lbnQgZHVyaW5nIHBhdGNoLCBhbmQgdHJpZ2dlcmVkIGFnYWluLiBUaGlzXHJcbiAgICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cclxuICAgIC8vIHRoZSBzb2x1dGlvbiBpcyBzaW1wbGU6IHdlIHNhdmUgdGhlIHRpbWVzdGFtcCB3aGVuIGEgaGFuZGxlciBpcyBhdHRhY2hlZCxcclxuICAgIC8vIGFuZCB0aGUgaGFuZGxlciB3b3VsZCBvbmx5IGZpcmUgaWYgdGhlIGV2ZW50IHBhc3NlZCB0byBpdCB3YXMgZmlyZWRcclxuICAgIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cclxuICAgIGlmICh1c2VNaWNyb3Rhc2tGaXgpIHtcclxuICAgICAgICB2YXIgYXR0YWNoZWRUaW1lc3RhbXBfMSA9IGN1cnJlbnRGbHVzaFRpbWVzdGFtcDtcclxuICAgICAgICB2YXIgb3JpZ2luYWxfMSA9IGhhbmRsZXI7XHJcbiAgICAgICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgaGFuZGxlciA9IG9yaWdpbmFsXzEuX3dyYXBwZXIgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIC8vIG5vIGJ1YmJsaW5nLCBzaG91bGQgYWx3YXlzIGZpcmUuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMganVzdCBhIHNhZmV0eSBuZXQgaW4gY2FzZSBldmVudC50aW1lU3RhbXAgaXMgdW5yZWxpYWJsZSBpblxyXG4gICAgICAgICAgICAvLyBjZXJ0YWluIHdlaXJkIGVudmlyb25tZW50cy4uLlxyXG4gICAgICAgICAgICBlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0IHx8XHJcbiAgICAgICAgICAgICAgICAvLyBldmVudCBpcyBmaXJlZCBhZnRlciBoYW5kbGVyIGF0dGFjaG1lbnRcclxuICAgICAgICAgICAgICAgIGUudGltZVN0YW1wID49IGF0dGFjaGVkVGltZXN0YW1wXzEgfHxcclxuICAgICAgICAgICAgICAgIC8vIGJhaWwgZm9yIGVudmlyb25tZW50cyB0aGF0IGhhdmUgYnVnZ3kgZXZlbnQudGltZVN0YW1wIGltcGxlbWVudGF0aW9uc1xyXG4gICAgICAgICAgICAgICAgLy8gIzk0NjIgaU9TIDkgYnVnOiBldmVudC50aW1lU3RhbXAgaXMgMCBhZnRlciBoaXN0b3J5LnB1c2hTdGF0ZVxyXG4gICAgICAgICAgICAgICAgLy8gIzk2ODEgUXRXZWJFbmdpbmUgZXZlbnQudGltZVN0YW1wIGlzIG5lZ2F0aXZlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICBlLnRpbWVTdGFtcCA8PSAwIHx8XHJcbiAgICAgICAgICAgICAgICAvLyAjOTQ0OCBiYWlsIGlmIGV2ZW50IGlzIGZpcmVkIGluIGFub3RoZXIgZG9jdW1lbnQgaW4gYSBtdWx0aS1wYWdlXHJcbiAgICAgICAgICAgICAgICAvLyBlbGVjdHJvbi9udy5qcyBhcHAsIHNpbmNlIGV2ZW50LnRpbWVTdGFtcCB3aWxsIGJlIHVzaW5nIGEgZGlmZmVyZW50XHJcbiAgICAgICAgICAgICAgICAvLyBzdGFydGluZyByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGhhbmRsZXIsIHN1cHBvcnRzUGFzc2l2ZSA/IHsgY2FwdHVyZTogY2FwdHVyZSwgcGFzc2l2ZTogcGFzc2l2ZSB9IDogY2FwdHVyZSk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlKG5hbWUsIGhhbmRsZXIsIGNhcHR1cmUsIF90YXJnZXQpIHtcclxuICAgIChfdGFyZ2V0IHx8IHRhcmdldCkucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBcclxuICAgIC8vQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgaGFuZGxlci5fd3JhcHBlciB8fCBoYW5kbGVyLCBjYXB0dXJlKTtcclxufVxyXG5mdW5jdGlvbiB1cGRhdGVET01MaXN0ZW5lcnMob2xkVm5vZGUsIHZub2RlKSB7XHJcbiAgICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLm9uKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEub24pKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG9uID0gdm5vZGUuZGF0YS5vbiB8fCB7fTtcclxuICAgIHZhciBvbGRPbiA9IG9sZFZub2RlLmRhdGEub24gfHwge307XHJcbiAgICAvLyB2bm9kZSBpcyBlbXB0eSB3aGVuIHJlbW92aW5nIGFsbCBsaXN0ZW5lcnMsXHJcbiAgICAvLyBhbmQgdXNlIG9sZCB2bm9kZSBkb20gZWxlbWVudFxyXG4gICAgdGFyZ2V0ID0gdm5vZGUuZWxtIHx8IG9sZFZub2RlLmVsbTtcclxuICAgIG5vcm1hbGl6ZUV2ZW50cyhvbik7XHJcbiAgICB1cGRhdGVMaXN0ZW5lcnMob24sIG9sZE9uLCBhZGQsIHJlbW92ZSwgY3JlYXRlT25jZUhhbmRsZXIsIHZub2RlLmNvbnRleHQpO1xyXG4gICAgdGFyZ2V0ID0gdW5kZWZpbmVkO1xyXG59XHJcbnZhciBldmVudHMgPSB7XHJcbiAgICBjcmVhdGU6IHVwZGF0ZURPTUxpc3RlbmVycyxcclxuICAgIHVwZGF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzLFxyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBlbXB0eU5vZGUgaGFzIGFjdHVhbGx5IGRhdGFcclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICh2bm9kZSkgeyByZXR1cm4gdXBkYXRlRE9NTGlzdGVuZXJzKHZub2RlLCBlbXB0eU5vZGUpOyB9XHJcbn07XG5cbnZhciBzdmdDb250YWluZXI7XHJcbmZ1bmN0aW9uIHVwZGF0ZURPTVByb3BzKG9sZFZub2RlLCB2bm9kZSkge1xyXG4gICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5kb21Qcm9wcykgJiYgaXNVbmRlZih2bm9kZS5kYXRhLmRvbVByb3BzKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBrZXksIGN1cjtcclxuICAgIHZhciBlbG0gPSB2bm9kZS5lbG07XHJcbiAgICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xyXG4gICAgdmFyIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTtcclxuICAgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxyXG4gICAgaWYgKGlzRGVmKHByb3BzLl9fb2JfXykgfHwgaXNUcnVlKHByb3BzLl92X2F0dHJfcHJveHkpKSB7XHJcbiAgICAgICAgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzID0gZXh0ZW5kKHt9LCBwcm9wcyk7XHJcbiAgICB9XHJcbiAgICBmb3IgKGtleSBpbiBvbGRQcm9wcykge1xyXG4gICAgICAgIGlmICghKGtleSBpbiBwcm9wcykpIHtcclxuICAgICAgICAgICAgZWxtW2tleV0gPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGtleSBpbiBwcm9wcykge1xyXG4gICAgICAgIGN1ciA9IHByb3BzW2tleV07XHJcbiAgICAgICAgLy8gaWdub3JlIGNoaWxkcmVuIGlmIHRoZSBub2RlIGhhcyB0ZXh0Q29udGVudCBvciBpbm5lckhUTUwsXHJcbiAgICAgICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnNcclxuICAgICAgICAvLyBvbiBzdWJzZXF1ZW50IHBhdGNoZXMgKCMzMzYwKVxyXG4gICAgICAgIGlmIChrZXkgPT09ICd0ZXh0Q29udGVudCcgfHwga2V5ID09PSAnaW5uZXJIVE1MJykge1xyXG4gICAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICB2bm9kZS5jaGlsZHJlbi5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICBpZiAoY3VyID09PSBvbGRQcm9wc1trZXldKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIC8vICM2NjAxIHdvcmsgYXJvdW5kIENocm9tZSB2ZXJzaW9uIDw9IDU1IGJ1ZyB3aGVyZSBzaW5nbGUgdGV4dE5vZGVcclxuICAgICAgICAgICAgLy8gcmVwbGFjZWQgYnkgaW5uZXJIVE1ML3RleHRDb250ZW50IHJldGFpbnMgaXRzIHBhcmVudE5vZGUgcHJvcGVydHlcclxuICAgICAgICAgICAgaWYgKGVsbS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5jaGlsZE5vZGVzWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa2V5ID09PSAndmFsdWUnICYmIGVsbS50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XHJcbiAgICAgICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlXHJcbiAgICAgICAgICAgIC8vIG5vbi1zdHJpbmcgdmFsdWVzIHdpbGwgYmUgc3RyaW5naWZpZWRcclxuICAgICAgICAgICAgZWxtLl92YWx1ZSA9IGN1cjtcclxuICAgICAgICAgICAgLy8gYXZvaWQgcmVzZXR0aW5nIGN1cnNvciBwb3NpdGlvbiB3aGVuIHZhbHVlIGlzIHRoZSBzYW1lXHJcbiAgICAgICAgICAgIHZhciBzdHJDdXIgPSBpc1VuZGVmKGN1cikgPyAnJyA6IFN0cmluZyhjdXIpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlVmFsdWUoZWxtLCBzdHJDdXIpKSB7XHJcbiAgICAgICAgICAgICAgICBlbG0udmFsdWUgPSBzdHJDdXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnaW5uZXJIVE1MJyAmJlxyXG4gICAgICAgICAgICBpc1NWRyhlbG0udGFnTmFtZSkgJiZcclxuICAgICAgICAgICAgaXNVbmRlZihlbG0uaW5uZXJIVE1MKSkge1xyXG4gICAgICAgICAgICAvLyBJRSBkb2Vzbid0IHN1cHBvcnQgaW5uZXJIVE1MIGZvciBTVkcgZWxlbWVudHNcclxuICAgICAgICAgICAgc3ZnQ29udGFpbmVyID0gc3ZnQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBzdmdDb250YWluZXIuaW5uZXJIVE1MID0gXCI8c3ZnPlwiLmNvbmNhdChjdXIsIFwiPC9zdmc+XCIpO1xyXG4gICAgICAgICAgICB2YXIgc3ZnID0gc3ZnQ29udGFpbmVyLmZpcnN0Q2hpbGQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChlbG0uZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoc3ZnLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgIGVsbS5hcHBlbmRDaGlsZChzdmcuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgLy8gc2tpcCB0aGUgdXBkYXRlIGlmIG9sZCBhbmQgbmV3IFZET00gc3RhdGUgaXMgdGhlIHNhbWUuXHJcbiAgICAgICAgLy8gYHZhbHVlYCBpcyBoYW5kbGVkIHNlcGFyYXRlbHkgYmVjYXVzZSB0aGUgRE9NIHZhbHVlIG1heSBiZSB0ZW1wb3JhcmlseVxyXG4gICAgICAgIC8vIG91dCBvZiBzeW5jIHdpdGggVkRPTSBzdGF0ZSBkdWUgdG8gZm9jdXMsIGNvbXBvc2l0aW9uIGFuZCBtb2RpZmllcnMuXHJcbiAgICAgICAgLy8gVGhpcyAgIzQ1MjEgYnkgc2tpcHBpbmcgdGhlIHVubmVjZXNzYXJ5IGBjaGVja2VkYCB1cGRhdGUuXHJcbiAgICAgICAgY3VyICE9PSBvbGRQcm9wc1trZXldKSB7XHJcbiAgICAgICAgICAgIC8vIHNvbWUgcHJvcGVydHkgdXBkYXRlcyBjYW4gdGhyb3dcclxuICAgICAgICAgICAgLy8gZS5nLiBgdmFsdWVgIG9uIDxwcm9ncmVzcz4gdy8gbm9uLWZpbml0ZSB2YWx1ZVxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZWxtW2tleV0gPSBjdXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBzaG91bGRVcGRhdGVWYWx1ZShlbG0sIGNoZWNrVmFsKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgLy9AdHMtZXhwZWN0LWVycm9yXHJcbiAgICAhZWxtLmNvbXBvc2luZyAmJlxyXG4gICAgICAgIChlbG0udGFnTmFtZSA9PT0gJ09QVElPTicgfHxcclxuICAgICAgICAgICAgaXNOb3RJbkZvY3VzQW5kRGlydHkoZWxtLCBjaGVja1ZhbCkgfHxcclxuICAgICAgICAgICAgaXNEaXJ0eVdpdGhNb2RpZmllcnMoZWxtLCBjaGVja1ZhbCkpKTtcclxufVxyXG5mdW5jdGlvbiBpc05vdEluRm9jdXNBbmREaXJ0eShlbG0sIGNoZWNrVmFsKSB7XHJcbiAgICAvLyByZXR1cm4gdHJ1ZSB3aGVuIHRleHRib3ggKC5udW1iZXIgYW5kIC50cmltKSBsb3NlcyBmb2N1cyBhbmQgaXRzIHZhbHVlIGlzXHJcbiAgICAvLyBub3QgZXF1YWwgdG8gdGhlIHVwZGF0ZWQgdmFsdWVcclxuICAgIHZhciBub3RJbkZvY3VzID0gdHJ1ZTtcclxuICAgIC8vICM2MTU3XHJcbiAgICAvLyB3b3JrIGFyb3VuZCBJRSBidWcgd2hlbiBhY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbiBhbiBpZnJhbWVcclxuICAgIHRyeSB7XHJcbiAgICAgICAgbm90SW5Gb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGVsbTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiBub3RJbkZvY3VzICYmIGVsbS52YWx1ZSAhPT0gY2hlY2tWYWw7XHJcbn1cclxuZnVuY3Rpb24gaXNEaXJ0eVdpdGhNb2RpZmllcnMoZWxtLCBuZXdWYWwpIHtcclxuICAgIHZhciB2YWx1ZSA9IGVsbS52YWx1ZTtcclxuICAgIHZhciBtb2RpZmllcnMgPSBlbG0uX3ZNb2RpZmllcnM7IC8vIGluamVjdGVkIGJ5IHYtbW9kZWwgcnVudGltZVxyXG4gICAgaWYgKGlzRGVmKG1vZGlmaWVycykpIHtcclxuICAgICAgICBpZiAobW9kaWZpZXJzLm51bWJlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9OdW1iZXIodmFsdWUpICE9PSB0b051bWJlcihuZXdWYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobW9kaWZpZXJzLnRyaW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRyaW0oKSAhPT0gbmV3VmFsLnRyaW0oKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsdWUgIT09IG5ld1ZhbDtcclxufVxyXG52YXIgZG9tUHJvcHMgPSB7XHJcbiAgICBjcmVhdGU6IHVwZGF0ZURPTVByb3BzLFxyXG4gICAgdXBkYXRlOiB1cGRhdGVET01Qcm9wc1xyXG59O1xuXG52YXIgcGFyc2VTdHlsZVRleHQgPSBjYWNoZWQoZnVuY3Rpb24gKGNzc1RleHQpIHtcclxuICAgIHZhciByZXMgPSB7fTtcclxuICAgIHZhciBsaXN0RGVsaW1pdGVyID0gLzsoPyFbXihdKlxcKSkvZztcclxuICAgIHZhciBwcm9wZXJ0eURlbGltaXRlciA9IC86KC4rKS87XHJcbiAgICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlcik7XHJcbiAgICAgICAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXNbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXM7XHJcbn0pO1xyXG4vLyBtZXJnZSBzdGF0aWMgYW5kIGR5bmFtaWMgc3R5bGUgZGF0YSBvbiB0aGUgc2FtZSB2bm9kZVxyXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZURhdGEoZGF0YSkge1xyXG4gICAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKGRhdGEuc3R5bGUpO1xyXG4gICAgLy8gc3RhdGljIHN0eWxlIGlzIHByZS1wcm9jZXNzZWQgaW50byBhbiBvYmplY3QgZHVyaW5nIGNvbXBpbGF0aW9uXHJcbiAgICAvLyBhbmQgaXMgYWx3YXlzIGEgZnJlc2ggb2JqZWN0LCBzbyBpdCdzIHNhZmUgdG8gbWVyZ2UgaW50byBpdFxyXG4gICAgcmV0dXJuIGRhdGEuc3RhdGljU3R5bGUgPyBleHRlbmQoZGF0YS5zdGF0aWNTdHlsZSwgc3R5bGUpIDogc3R5bGU7XHJcbn1cclxuLy8gbm9ybWFsaXplIHBvc3NpYmxlIGFycmF5IC8gc3RyaW5nIHZhbHVlcyBpbnRvIE9iamVjdFxyXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZUJpbmRpbmcoYmluZGluZ1N0eWxlKSB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShiaW5kaW5nU3R5bGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvT2JqZWN0KGJpbmRpbmdTdHlsZSk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGJpbmRpbmdTdHlsZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VTdHlsZVRleHQoYmluZGluZ1N0eWxlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBiaW5kaW5nU3R5bGU7XHJcbn1cclxuLyoqXHJcbiAqIHBhcmVudCBjb21wb25lbnQgc3R5bGUgc2hvdWxkIGJlIGFmdGVyIGNoaWxkJ3NcclxuICogc28gdGhhdCBwYXJlbnQgY29tcG9uZW50J3Mgc3R5bGUgY291bGQgb3ZlcnJpZGUgaXRcclxuICovXHJcbmZ1bmN0aW9uIGdldFN0eWxlKHZub2RlLCBjaGVja0NoaWxkKSB7XHJcbiAgICB2YXIgcmVzID0ge307XHJcbiAgICB2YXIgc3R5bGVEYXRhO1xyXG4gICAgaWYgKGNoZWNrQ2hpbGQpIHtcclxuICAgICAgICB2YXIgY2hpbGROb2RlID0gdm5vZGU7XHJcbiAgICAgICAgd2hpbGUgKGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xyXG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlICYmXHJcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUuZGF0YSAmJlxyXG4gICAgICAgICAgICAgICAgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEodm5vZGUuZGF0YSkpKSB7XHJcbiAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcclxuICAgIH1cclxuICAgIHZhciBwYXJlbnROb2RlID0gdm5vZGU7XHJcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHBhcmVudE5vZGUucGFyZW50IG5vdCBWTm9kZVdpdGhEYXRhXHJcbiAgICB3aGlsZSAoKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpIHtcclxuICAgICAgICBpZiAocGFyZW50Tm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEocGFyZW50Tm9kZS5kYXRhKSkpIHtcclxuICAgICAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XG5cbnZhciBjc3NWYXJSRSA9IC9eLS0vO1xyXG52YXIgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcclxudmFyIHNldFByb3AgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbCkge1xyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoY3NzVmFyUkUudGVzdChuYW1lKSkge1xyXG4gICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcclxuICAgICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUobmFtZSksIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCAnJyksICdpbXBvcnRhbnQnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lKTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgdmFsdWVzIGFycmF5IGNyZWF0ZWQgYnkgYXV0b3ByZWZpeGVyLCBlLmcuXHJcbiAgICAgICAgICAgIC8vIHtkaXNwbGF5OiBbXCItd2Via2l0LWJveFwiLCBcIi1tcy1mbGV4Ym94XCIsIFwiZmxleFwiXX1cclxuICAgICAgICAgICAgLy8gU2V0IHRoZW0gb25lIGJ5IG9uZSwgYW5kIHRoZSBicm93c2VyIHdpbGwgb25seSBzZXQgdGhvc2UgaXQgY2FuIHJlY29nbml6ZVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBlbC5zdHlsZVtub3JtYWxpemVkTmFtZV0gPSB2YWxbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLnN0eWxlW25vcm1hbGl6ZWROYW1lXSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbnZhciB2ZW5kb3JOYW1lcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xyXG52YXIgZW1wdHlTdHlsZTtcclxudmFyIG5vcm1hbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAocHJvcCkge1xyXG4gICAgZW1wdHlTdHlsZSA9IGVtcHR5U3R5bGUgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XHJcbiAgICBwcm9wID0gY2FtZWxpemUocHJvcCk7XHJcbiAgICBpZiAocHJvcCAhPT0gJ2ZpbHRlcicgJiYgcHJvcCBpbiBlbXB0eVN0eWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHByb3A7XHJcbiAgICB9XHJcbiAgICB2YXIgY2FwTmFtZSA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZW5kb3JOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBuYW1lXzEgPSB2ZW5kb3JOYW1lc1tpXSArIGNhcE5hbWU7XHJcbiAgICAgICAgaWYgKG5hbWVfMSBpbiBlbXB0eVN0eWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lXzE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuZnVuY3Rpb24gdXBkYXRlU3R5bGUob2xkVm5vZGUsIHZub2RlKSB7XHJcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XHJcbiAgICB2YXIgb2xkRGF0YSA9IG9sZFZub2RlLmRhdGE7XHJcbiAgICBpZiAoaXNVbmRlZihkYXRhLnN0YXRpY1N0eWxlKSAmJlxyXG4gICAgICAgIGlzVW5kZWYoZGF0YS5zdHlsZSkgJiZcclxuICAgICAgICBpc1VuZGVmKG9sZERhdGEuc3RhdGljU3R5bGUpICYmXHJcbiAgICAgICAgaXNVbmRlZihvbGREYXRhLnN0eWxlKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBjdXIsIG5hbWU7XHJcbiAgICB2YXIgZWwgPSB2bm9kZS5lbG07XHJcbiAgICB2YXIgb2xkU3RhdGljU3R5bGUgPSBvbGREYXRhLnN0YXRpY1N0eWxlO1xyXG4gICAgdmFyIG9sZFN0eWxlQmluZGluZyA9IG9sZERhdGEubm9ybWFsaXplZFN0eWxlIHx8IG9sZERhdGEuc3R5bGUgfHwge307XHJcbiAgICAvLyBpZiBzdGF0aWMgc3R5bGUgZXhpc3RzLCBzdHlsZWJpbmRpbmcgYWxyZWFkeSBtZXJnZWQgaW50byBpdCB3aGVuIGRvaW5nIG5vcm1hbGl6ZVN0eWxlRGF0YVxyXG4gICAgdmFyIG9sZFN0eWxlID0gb2xkU3RhdGljU3R5bGUgfHwgb2xkU3R5bGVCaW5kaW5nO1xyXG4gICAgdmFyIHN0eWxlID0gbm9ybWFsaXplU3R5bGVCaW5kaW5nKHZub2RlLmRhdGEuc3R5bGUpIHx8IHt9O1xyXG4gICAgLy8gc3RvcmUgbm9ybWFsaXplZCBzdHlsZSB1bmRlciBhIGRpZmZlcmVudCBrZXkgZm9yIG5leHQgZGlmZlxyXG4gICAgLy8gbWFrZSBzdXJlIHRvIGNsb25lIGl0IGlmIGl0J3MgcmVhY3RpdmUsIHNpbmNlIHRoZSB1c2VyIGxpa2VseSB3YW50c1xyXG4gICAgLy8gdG8gbXV0YXRlIGl0LlxyXG4gICAgdm5vZGUuZGF0YS5ub3JtYWxpemVkU3R5bGUgPSBpc0RlZihzdHlsZS5fX29iX18pID8gZXh0ZW5kKHt9LCBzdHlsZSkgOiBzdHlsZTtcclxuICAgIHZhciBuZXdTdHlsZSA9IGdldFN0eWxlKHZub2RlLCB0cnVlKTtcclxuICAgIGZvciAobmFtZSBpbiBvbGRTdHlsZSkge1xyXG4gICAgICAgIGlmIChpc1VuZGVmKG5ld1N0eWxlW25hbWVdKSkge1xyXG4gICAgICAgICAgICBzZXRQcm9wKGVsLCBuYW1lLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChuYW1lIGluIG5ld1N0eWxlKSB7XHJcbiAgICAgICAgY3VyID0gbmV3U3R5bGVbbmFtZV07XHJcbiAgICAgICAgaWYgKGN1ciAhPT0gb2xkU3R5bGVbbmFtZV0pIHtcclxuICAgICAgICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcclxuICAgICAgICAgICAgc2V0UHJvcChlbCwgbmFtZSwgY3VyID09IG51bGwgPyAnJyA6IGN1cik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbnZhciBzdHlsZSA9IHtcclxuICAgIGNyZWF0ZTogdXBkYXRlU3R5bGUsXHJcbiAgICB1cGRhdGU6IHVwZGF0ZVN0eWxlXHJcbn07XG5cbnZhciB3aGl0ZXNwYWNlUkUgPSAvXFxzKy87XHJcbi8qKlxyXG4gKiBBZGQgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cclxuICogU1ZHIGVsZW1lbnRzIGluIElFXHJcbiAqL1xyXG5mdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xzKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICghY2xzIHx8ICEoY2xzID0gY2xzLnRyaW0oKSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xyXG4gICAgICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHtcclxuICAgICAgICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGNscyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGN1ciA9IFwiIFwiLmNvbmNhdChlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycsIFwiIFwiKTtcclxuICAgICAgICBpZiAoY3VyLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA8IDApIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIChjdXIgKyBjbHMpLnRyaW0oKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZW1vdmUgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb25cclxuICogU1ZHIGVsZW1lbnRzIGluIElFXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xzKSB7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmICghY2xzIHx8ICEoY2xzID0gY2xzLnRyaW0oKSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgaWYgKGVsLmNsYXNzTGlzdCkge1xyXG4gICAgICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHtcclxuICAgICAgICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShjKTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghZWwuY2xhc3NMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdmFyIGN1ciA9IFwiIFwiLmNvbmNhdChlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycsIFwiIFwiKTtcclxuICAgICAgICB2YXIgdGFyID0gJyAnICsgY2xzICsgJyAnO1xyXG4gICAgICAgIHdoaWxlIChjdXIuaW5kZXhPZih0YXIpID49IDApIHtcclxuICAgICAgICAgICAgY3VyID0gY3VyLnJlcGxhY2UodGFyLCAnICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXIgPSBjdXIudHJpbSgpO1xyXG4gICAgICAgIGlmIChjdXIpIHtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGN1cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uKGRlZikge1xyXG4gICAgaWYgKCFkZWYpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xyXG4gICAgaWYgKHR5cGVvZiBkZWYgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgdmFyIHJlcyA9IHt9O1xyXG4gICAgICAgIGlmIChkZWYuY3NzICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBleHRlbmQocmVzLCBhdXRvQ3NzVHJhbnNpdGlvbihkZWYubmFtZSB8fCAndicpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZXh0ZW5kKHJlcywgZGVmKTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gYXV0b0Nzc1RyYW5zaXRpb24oZGVmKTtcclxuICAgIH1cclxufVxyXG52YXIgYXV0b0Nzc1RyYW5zaXRpb24gPSBjYWNoZWQoZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZW50ZXJDbGFzczogXCJcIi5jb25jYXQobmFtZSwgXCItZW50ZXJcIiksXHJcbiAgICAgICAgZW50ZXJUb0NsYXNzOiBcIlwiLmNvbmNhdChuYW1lLCBcIi1lbnRlci10b1wiKSxcclxuICAgICAgICBlbnRlckFjdGl2ZUNsYXNzOiBcIlwiLmNvbmNhdChuYW1lLCBcIi1lbnRlci1hY3RpdmVcIiksXHJcbiAgICAgICAgbGVhdmVDbGFzczogXCJcIi5jb25jYXQobmFtZSwgXCItbGVhdmVcIiksXHJcbiAgICAgICAgbGVhdmVUb0NsYXNzOiBcIlwiLmNvbmNhdChuYW1lLCBcIi1sZWF2ZS10b1wiKSxcclxuICAgICAgICBsZWF2ZUFjdGl2ZUNsYXNzOiBcIlwiLmNvbmNhdChuYW1lLCBcIi1sZWF2ZS1hY3RpdmVcIilcclxuICAgIH07XHJcbn0pO1xyXG52YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7XHJcbnZhciBUUkFOU0lUSU9OID0gJ3RyYW5zaXRpb24nO1xyXG52YXIgQU5JTUFUSU9OID0gJ2FuaW1hdGlvbic7XHJcbi8vIFRyYW5zaXRpb24gcHJvcGVydHkvZXZlbnQgc25pZmZpbmdcclxudmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nO1xyXG52YXIgdHJhbnNpdGlvbkVuZEV2ZW50ID0gJ3RyYW5zaXRpb25lbmQnO1xyXG52YXIgYW5pbWF0aW9uUHJvcCA9ICdhbmltYXRpb24nO1xyXG52YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJztcclxuaWYgKGhhc1RyYW5zaXRpb24pIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKHdpbmRvdy5vbnRyYW5zaXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIHdpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRyYW5zaXRpb25Qcm9wID0gJ1dlYmtpdFRyYW5zaXRpb24nO1xyXG4gICAgICAgIHRyYW5zaXRpb25FbmRFdmVudCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kJztcclxuICAgIH1cclxuICAgIGlmICh3aW5kb3cub25hbmltYXRpb25lbmQgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIHdpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgYW5pbWF0aW9uUHJvcCA9ICdXZWJraXRBbmltYXRpb24nO1xyXG4gICAgICAgIGFuaW1hdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdEFuaW1hdGlvbkVuZCc7XHJcbiAgICB9XHJcbn1cclxuLy8gYmluZGluZyB0byB3aW5kb3cgaXMgbmVjZXNzYXJ5IHRvIG1ha2UgaG90IHJlbG9hZCB3b3JrIGluIElFIGluIHN0cmljdCBtb2RlXHJcbnZhciByYWYgPSBpbkJyb3dzZXJcclxuICAgID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZVxyXG4gICAgICAgID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdylcclxuICAgICAgICA6IHNldFRpbWVvdXRcclxuICAgIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gKC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZuKSB7IHJldHVybiBmbigpOyB9O1xyXG5mdW5jdGlvbiBuZXh0RnJhbWUoZm4pIHtcclxuICAgIHJhZihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIHJhZihmbik7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xyXG4gICAgdmFyIHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzIHx8IChlbC5fdHJhbnNpdGlvbkNsYXNzZXMgPSBbXSk7XHJcbiAgICBpZiAodHJhbnNpdGlvbkNsYXNzZXMuaW5kZXhPZihjbHMpIDwgMCkge1xyXG4gICAgICAgIHRyYW5zaXRpb25DbGFzc2VzLnB1c2goY2xzKTtcclxuICAgICAgICBhZGRDbGFzcyhlbCwgY2xzKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xyXG4gICAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3Nlcykge1xyXG4gICAgICAgIHJlbW92ZSQyKGVsLl90cmFuc2l0aW9uQ2xhc3NlcywgY2xzKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNsYXNzKGVsLCBjbHMpO1xyXG59XHJcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBjYikge1xyXG4gICAgdmFyIF9hID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSksIHR5cGUgPSBfYS50eXBlLCB0aW1lb3V0ID0gX2EudGltZW91dCwgcHJvcENvdW50ID0gX2EucHJvcENvdW50O1xyXG4gICAgaWYgKCF0eXBlKVxyXG4gICAgICAgIHJldHVybiBjYigpO1xyXG4gICAgdmFyIGV2ZW50ID0gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25FbmRFdmVudCA6IGFuaW1hdGlvbkVuZEV2ZW50O1xyXG4gICAgdmFyIGVuZGVkID0gMDtcclxuICAgIHZhciBlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xyXG4gICAgICAgIGNiKCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIG9uRW5kID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGVsKSB7XHJcbiAgICAgICAgICAgIGlmICgrK2VuZGVkID49IHByb3BDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgZW5kKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XHJcbiAgICAgICAgICAgIGVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHRpbWVvdXQgKyAxKTtcclxuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIG9uRW5kKTtcclxufVxyXG52YXIgdHJhbnNmb3JtUkUgPSAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO1xyXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XHJcbiAgICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xyXG4gICAgLy8gSlNET00gbWF5IHJldHVybiB1bmRlZmluZWQgZm9yIHRyYW5zaXRpb24gcHJvcGVydGllc1xyXG4gICAgdmFyIHRyYW5zaXRpb25EZWxheXMgPSAoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0RlbGF5J10gfHwgJycpLnNwbGl0KCcsICcpO1xyXG4gICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbnMgPSAoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xyXG4gICAgdmFyIHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcclxuICAgIHZhciBhbmltYXRpb25EZWxheXMgPSAoc3R5bGVzW2FuaW1hdGlvblByb3AgKyAnRGVsYXknXSB8fCAnJykuc3BsaXQoJywgJyk7XHJcbiAgICB2YXIgYW5pbWF0aW9uRHVyYXRpb25zID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xyXG4gICAgdmFyIGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcclxuICAgIHZhciB0eXBlO1xyXG4gICAgdmFyIHRpbWVvdXQgPSAwO1xyXG4gICAgdmFyIHByb3BDb3VudCA9IDA7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcclxuICAgICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XHJcbiAgICAgICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XHJcbiAgICAgICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSBBTklNQVRJT047XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xyXG4gICAgICAgICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XHJcbiAgICAgICAgdHlwZSA9XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPiAwXHJcbiAgICAgICAgICAgICAgICA/IHRyYW5zaXRpb25UaW1lb3V0ID4gYW5pbWF0aW9uVGltZW91dFxyXG4gICAgICAgICAgICAgICAgICAgID8gVFJBTlNJVElPTlxyXG4gICAgICAgICAgICAgICAgICAgIDogQU5JTUFUSU9OXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgcHJvcENvdW50ID0gdHlwZVxyXG4gICAgICAgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT05cclxuICAgICAgICAgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcclxuICAgICAgICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aFxyXG4gICAgICAgICAgICA6IDA7XHJcbiAgICB9XHJcbiAgICB2YXIgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJiB0cmFuc2Zvcm1SRS50ZXN0KHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdQcm9wZXJ0eSddKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdHlwZTogdHlwZSxcclxuICAgICAgICB0aW1lb3V0OiB0aW1lb3V0LFxyXG4gICAgICAgIHByb3BDb3VudDogcHJvcENvdW50LFxyXG4gICAgICAgIGhhc1RyYW5zZm9ybTogaGFzVHJhbnNmb3JtXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICB3aGlsZSAoZGVsYXlzLmxlbmd0aCA8IGR1cmF0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgZHVyYXRpb25zLm1hcChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHJldHVybiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pO1xyXG4gICAgfSkpO1xyXG59XHJcbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyIG51bWJlcnNcclxuLy8gaW4gYSBsb2NhbGUtZGVwZW5kZW50IHdheSwgdXNpbmcgYSBjb21tYSBpbnN0ZWFkIG9mIGEgZG90LlxyXG4vLyBJZiBjb21tYSBpcyBub3QgcmVwbGFjZWQgd2l0aCBhIGRvdCwgdGhlIGlucHV0IHdpbGwgYmUgcm91bmRlZCBkb3duIChpLmUuIGFjdGluZ1xyXG4vLyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXHJcbmZ1bmN0aW9uIHRvTXMocykge1xyXG4gICAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKCcsJywgJy4nKSkgKiAxMDAwO1xyXG59XG5cbmZ1bmN0aW9uIGVudGVyKHZub2RlLCB0b2dnbGVEaXNwbGF5KSB7XHJcbiAgICB2YXIgZWwgPSB2bm9kZS5lbG07XHJcbiAgICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vd1xyXG4gICAgaWYgKGlzRGVmKGVsLl9sZWF2ZUNiKSkge1xyXG4gICAgICAgIGVsLl9sZWF2ZUNiLmNhbmNlbGxlZCA9IHRydWU7XHJcbiAgICAgICAgZWwuX2xlYXZlQ2IoKTtcclxuICAgIH1cclxuICAgIHZhciBkYXRhID0gcmVzb2x2ZVRyYW5zaXRpb24odm5vZGUuZGF0YS50cmFuc2l0aW9uKTtcclxuICAgIGlmIChpc1VuZGVmKGRhdGEpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAoaXNEZWYoZWwuX2VudGVyQ2IpIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGNzcyA9IGRhdGEuY3NzLCB0eXBlID0gZGF0YS50eXBlLCBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzLCBlbnRlclRvQ2xhc3MgPSBkYXRhLmVudGVyVG9DbGFzcywgZW50ZXJBY3RpdmVDbGFzcyA9IGRhdGEuZW50ZXJBY3RpdmVDbGFzcywgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzLCBhcHBlYXJUb0NsYXNzID0gZGF0YS5hcHBlYXJUb0NsYXNzLCBhcHBlYXJBY3RpdmVDbGFzcyA9IGRhdGEuYXBwZWFyQWN0aXZlQ2xhc3MsIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlciwgZW50ZXIgPSBkYXRhLmVudGVyLCBhZnRlckVudGVyID0gZGF0YS5hZnRlckVudGVyLCBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQsIGJlZm9yZUFwcGVhciA9IGRhdGEuYmVmb3JlQXBwZWFyLCBhcHBlYXIgPSBkYXRhLmFwcGVhciwgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyLCBhcHBlYXJDYW5jZWxsZWQgPSBkYXRhLmFwcGVhckNhbmNlbGxlZCwgZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uO1xyXG4gICAgLy8gYWN0aXZlSW5zdGFuY2Ugd2lsbCBhbHdheXMgYmUgdGhlIDx0cmFuc2l0aW9uPiBjb21wb25lbnQgbWFuYWdpbmcgdGhpc1xyXG4gICAgLy8gdHJhbnNpdGlvbi4gT25lIGVkZ2UgY2FzZSB0byBjaGVjayBpcyB3aGVuIHRoZSA8dHJhbnNpdGlvbj4gaXMgcGxhY2VkXHJcbiAgICAvLyBhcyB0aGUgcm9vdCBub2RlIG9mIGEgY2hpbGQgY29tcG9uZW50LiBJbiB0aGF0IGNhc2Ugd2UgbmVlZCB0byBjaGVja1xyXG4gICAgLy8gPHRyYW5zaXRpb24+J3MgcGFyZW50IGZvciBhcHBlYXIgY2hlY2suXHJcbiAgICB2YXIgY29udGV4dCA9IGFjdGl2ZUluc3RhbmNlO1xyXG4gICAgdmFyIHRyYW5zaXRpb25Ob2RlID0gYWN0aXZlSW5zdGFuY2UuJHZub2RlO1xyXG4gICAgd2hpbGUgKHRyYW5zaXRpb25Ob2RlICYmIHRyYW5zaXRpb25Ob2RlLnBhcmVudCkge1xyXG4gICAgICAgIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZS5jb250ZXh0O1xyXG4gICAgICAgIHRyYW5zaXRpb25Ob2RlID0gdHJhbnNpdGlvbk5vZGUucGFyZW50O1xyXG4gICAgfVxyXG4gICAgdmFyIGlzQXBwZWFyID0gIWNvbnRleHQuX2lzTW91bnRlZCB8fCAhdm5vZGUuaXNSb290SW5zZXJ0O1xyXG4gICAgaWYgKGlzQXBwZWFyICYmICFhcHBlYXIgJiYgYXBwZWFyICE9PSAnJykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBzdGFydENsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyQ2xhc3MgPyBhcHBlYXJDbGFzcyA6IGVudGVyQ2xhc3M7XHJcbiAgICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0FwcGVhciAmJiBhcHBlYXJBY3RpdmVDbGFzcyA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcztcclxuICAgIHZhciB0b0NsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyVG9DbGFzcyA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3M7XHJcbiAgICB2YXIgYmVmb3JlRW50ZXJIb29rID0gaXNBcHBlYXIgPyBiZWZvcmVBcHBlYXIgfHwgYmVmb3JlRW50ZXIgOiBiZWZvcmVFbnRlcjtcclxuICAgIHZhciBlbnRlckhvb2sgPSBpc0FwcGVhciA/IChpc0Z1bmN0aW9uKGFwcGVhcikgPyBhcHBlYXIgOiBlbnRlcikgOiBlbnRlcjtcclxuICAgIHZhciBhZnRlckVudGVySG9vayA9IGlzQXBwZWFyID8gYWZ0ZXJBcHBlYXIgfHwgYWZ0ZXJFbnRlciA6IGFmdGVyRW50ZXI7XHJcbiAgICB2YXIgZW50ZXJDYW5jZWxsZWRIb29rID0gaXNBcHBlYXJcclxuICAgICAgICA/IGFwcGVhckNhbmNlbGxlZCB8fCBlbnRlckNhbmNlbGxlZFxyXG4gICAgICAgIDogZW50ZXJDYW5jZWxsZWQ7XHJcbiAgICB2YXIgZXhwbGljaXRFbnRlckR1cmF0aW9uID0gdG9OdW1iZXIoaXNPYmplY3QoZHVyYXRpb24pID8gZHVyYXRpb24uZW50ZXIgOiBkdXJhdGlvbik7XHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBleHBsaWNpdEVudGVyRHVyYXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgIGNoZWNrRHVyYXRpb24oZXhwbGljaXRFbnRlckR1cmF0aW9uLCAnZW50ZXInLCB2bm9kZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5O1xyXG4gICAgdmFyIHVzZXJXYW50c0NvbnRyb2wgPSBnZXRIb29rQXJndW1lbnRzTGVuZ3RoKGVudGVySG9vayk7XHJcbiAgICB2YXIgY2IgPSAoZWwuX2VudGVyQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZXhwZWN0c0NTUykge1xyXG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHRvQ2xhc3MpO1xyXG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGlmIChjYi5jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgc3RhcnRDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW50ZXJDYW5jZWxsZWRIb29rICYmIGVudGVyQ2FuY2VsbGVkSG9vayhlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsLl9lbnRlckNiID0gbnVsbDtcclxuICAgIH0pKTtcclxuICAgIGlmICghdm5vZGUuZGF0YS5zaG93KSB7XHJcbiAgICAgICAgLy8gcmVtb3ZlIHBlbmRpbmcgbGVhdmUgZWxlbWVudCBvbiBlbnRlciBieSBpbmplY3RpbmcgYW4gaW5zZXJ0IGhvb2tcclxuICAgICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ2luc2VydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIHZhciBwZW5kaW5nTm9kZSA9IHBhcmVudCAmJiBwYXJlbnQuX3BlbmRpbmcgJiYgcGFyZW50Ll9wZW5kaW5nW3Zub2RlLmtleV07XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nTm9kZSAmJlxyXG4gICAgICAgICAgICAgICAgcGVuZGluZ05vZGUudGFnID09PSB2bm9kZS50YWcgJiZcclxuICAgICAgICAgICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYikge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZ05vZGUuZWxtLl9sZWF2ZUNiKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvblxyXG4gICAgYmVmb3JlRW50ZXJIb29rICYmIGJlZm9yZUVudGVySG9vayhlbCk7XHJcbiAgICBpZiAoZXhwZWN0c0NTUykge1xyXG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgc3RhcnRDbGFzcyk7XHJcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICBpZiAoIWNiLmNhbmNlbGxlZCkge1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCB0b0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRHVyYXRpb24oZXhwbGljaXRFbnRlckR1cmF0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdEVudGVyRHVyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodm5vZGUuZGF0YS5zaG93KSB7XHJcbiAgICAgICAgdG9nZ2xlRGlzcGxheSAmJiB0b2dnbGVEaXNwbGF5KCk7XHJcbiAgICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7XHJcbiAgICAgICAgY2IoKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBsZWF2ZSh2bm9kZSwgcm0pIHtcclxuICAgIHZhciBlbCA9IHZub2RlLmVsbTtcclxuICAgIC8vIGNhbGwgZW50ZXIgY2FsbGJhY2sgbm93XHJcbiAgICBpZiAoaXNEZWYoZWwuX2VudGVyQ2IpKSB7XHJcbiAgICAgICAgZWwuX2VudGVyQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcclxuICAgICAgICBlbC5fZW50ZXJDYigpO1xyXG4gICAgfVxyXG4gICAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xyXG4gICAgaWYgKGlzVW5kZWYoZGF0YSkgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcclxuICAgICAgICByZXR1cm4gcm0oKTtcclxuICAgIH1cclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGlzRGVmKGVsLl9sZWF2ZUNiKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBjc3MgPSBkYXRhLmNzcywgdHlwZSA9IGRhdGEudHlwZSwgbGVhdmVDbGFzcyA9IGRhdGEubGVhdmVDbGFzcywgbGVhdmVUb0NsYXNzID0gZGF0YS5sZWF2ZVRvQ2xhc3MsIGxlYXZlQWN0aXZlQ2xhc3MgPSBkYXRhLmxlYXZlQWN0aXZlQ2xhc3MsIGJlZm9yZUxlYXZlID0gZGF0YS5iZWZvcmVMZWF2ZSwgbGVhdmUgPSBkYXRhLmxlYXZlLCBhZnRlckxlYXZlID0gZGF0YS5hZnRlckxlYXZlLCBsZWF2ZUNhbmNlbGxlZCA9IGRhdGEubGVhdmVDYW5jZWxsZWQsIGRlbGF5TGVhdmUgPSBkYXRhLmRlbGF5TGVhdmUsIGR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjtcclxuICAgIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XHJcbiAgICB2YXIgdXNlcldhbnRzQ29udHJvbCA9IGdldEhvb2tBcmd1bWVudHNMZW5ndGgobGVhdmUpO1xyXG4gICAgdmFyIGV4cGxpY2l0TGVhdmVEdXJhdGlvbiA9IHRvTnVtYmVyKGlzT2JqZWN0KGR1cmF0aW9uKSA/IGR1cmF0aW9uLmxlYXZlIDogZHVyYXRpb24pO1xyXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNEZWYoZXhwbGljaXRMZWF2ZUR1cmF0aW9uKSkge1xyXG4gICAgICAgIGNoZWNrRHVyYXRpb24oZXhwbGljaXRMZWF2ZUR1cmF0aW9uLCAnbGVhdmUnLCB2bm9kZSk7XHJcbiAgICB9XHJcbiAgICB2YXIgY2IgPSAoZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7XHJcbiAgICAgICAgICAgIGVsLnBhcmVudE5vZGUuX3BlbmRpbmdbdm5vZGUua2V5XSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChleHBlY3RzQ1NTKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcclxuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGlmIChjYi5jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGVhdmVDYW5jZWxsZWQgJiYgbGVhdmVDYW5jZWxsZWQoZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcm0oKTtcclxuICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKGVsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuX2xlYXZlQ2IgPSBudWxsO1xyXG4gICAgfSkpO1xyXG4gICAgaWYgKGRlbGF5TGVhdmUpIHtcclxuICAgICAgICBkZWxheUxlYXZlKHBlcmZvcm1MZWF2ZSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwZXJmb3JtTGVhdmUoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBlcmZvcm1MZWF2ZSgpIHtcclxuICAgICAgICAvLyB0aGUgZGVsYXllZCBsZWF2ZSBtYXkgaGF2ZSBhbHJlYWR5IGJlZW4gY2FuY2VsbGVkXHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGlmIChjYi5jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZWNvcmQgbGVhdmluZyBlbGVtZW50XHJcbiAgICAgICAgaWYgKCF2bm9kZS5kYXRhLnNob3cgJiYgZWwucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyB8fCAoZWwucGFyZW50Tm9kZS5fcGVuZGluZyA9IHt9KSlbdm5vZGUua2V5XSA9XHJcbiAgICAgICAgICAgICAgICB2bm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYmVmb3JlTGVhdmUgJiYgYmVmb3JlTGVhdmUoZWwpO1xyXG4gICAgICAgIGlmIChleHBlY3RzQ1NTKSB7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgaWYgKCFjYi5jYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VyV2FudHNDb250cm9sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRHVyYXRpb24oZXhwbGljaXRMZWF2ZUR1cmF0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChjYiwgZXhwbGljaXRMZWF2ZUR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgY2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGVhdmUgJiYgbGVhdmUoZWwsIGNiKTtcclxuICAgICAgICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcclxuICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuLy8gb25seSB1c2VkIGluIGRldiBtb2RlXHJcbmZ1bmN0aW9uIGNoZWNrRHVyYXRpb24odmFsLCBuYW1lLCB2bm9kZSkge1xyXG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgd2FybihcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIi5jb25jYXQobmFtZSwgXCIgZHVyYXRpb24gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gXCIpICtcclxuICAgICAgICAgICAgXCJnb3QgXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHZhbCksIFwiLlwiKSwgdm5vZGUuY29udGV4dCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc05hTih2YWwpKSB7XHJcbiAgICAgICAgd2FybihcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIi5jb25jYXQobmFtZSwgXCIgZHVyYXRpb24gaXMgTmFOIC0gXCIpICtcclxuICAgICAgICAgICAgJ3RoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC4nLCB2bm9kZS5jb250ZXh0KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1ZhbGlkRHVyYXRpb24odmFsKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbCk7XHJcbn1cclxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIHRyYW5zaXRpb24gaG9vaydzIGFyZ3VtZW50IGxlbmd0aC4gVGhlIGhvb2sgbWF5IGJlOlxyXG4gKiAtIGEgbWVyZ2VkIGhvb2sgKGludm9rZXIpIHdpdGggdGhlIG9yaWdpbmFsIGluIC5mbnNcclxuICogLSBhIHdyYXBwZWQgY29tcG9uZW50IG1ldGhvZCAoY2hlY2sgLl9sZW5ndGgpXHJcbiAqIC0gYSBwbGFpbiBmdW5jdGlvbiAoLmxlbmd0aClcclxuICovXHJcbmZ1bmN0aW9uIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoZm4pIHtcclxuICAgIGlmIChpc1VuZGVmKGZuKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIHZhciBpbnZva2VyRm5zID0gZm4uZm5zO1xyXG4gICAgaWYgKGlzRGVmKGludm9rZXJGbnMpKSB7XHJcbiAgICAgICAgLy8gaW52b2tlclxyXG4gICAgICAgIHJldHVybiBnZXRIb29rQXJndW1lbnRzTGVuZ3RoKEFycmF5LmlzQXJyYXkoaW52b2tlckZucykgPyBpbnZva2VyRm5zWzBdIDogaW52b2tlckZucyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIF9lbnRlcihfLCB2bm9kZSkge1xyXG4gICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkge1xyXG4gICAgICAgIGVudGVyKHZub2RlKTtcclxuICAgIH1cclxufVxyXG52YXIgdHJhbnNpdGlvbiA9IGluQnJvd3NlclxyXG4gICAgPyB7XHJcbiAgICAgICAgY3JlYXRlOiBfZW50ZXIsXHJcbiAgICAgICAgYWN0aXZhdGU6IF9lbnRlcixcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICh2bm9kZSwgcm0pIHtcclxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgICAgICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICAgICAgbGVhdmUodm5vZGUsIHJtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJtKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICA6IHt9O1xuXG52YXIgcGxhdGZvcm1Nb2R1bGVzID0gW2F0dHJzLCBrbGFzcywgZXZlbnRzLCBkb21Qcm9wcywgc3R5bGUsIHRyYW5zaXRpb25dO1xuXG4vLyB0aGUgZGlyZWN0aXZlIG1vZHVsZSBzaG91bGQgYmUgYXBwbGllZCBsYXN0LCBhZnRlciBhbGxcclxuLy8gYnVpbHQtaW4gbW9kdWxlcyBoYXZlIGJlZW4gYXBwbGllZC5cclxudmFyIG1vZHVsZXMgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTtcclxudmFyIHBhdGNoID0gY3JlYXRlUGF0Y2hGdW5jdGlvbih7IG5vZGVPcHM6IG5vZGVPcHMsIG1vZHVsZXM6IG1vZHVsZXMgfSk7XG5cbi8qKlxyXG4gKiBOb3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgbGlrZSBhdHRhY2hpbmdcclxuICogcHJvcGVydGllcyB0byBFbGVtZW50cy5cclxuICovXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG5pZiAoaXNJRTkpIHtcclxuICAgIC8vIGh0dHA6Ly93d3cubWF0dHM0MTEuY29tL3Bvc3QvaW50ZXJuZXQtZXhwbG9yZXItOS1vbmlucHV0L1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgIGlmIChlbCAmJiBlbC52bW9kZWwpIHtcclxuICAgICAgICAgICAgdHJpZ2dlcihlbCwgJ2lucHV0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxudmFyIGRpcmVjdGl2ZSA9IHtcclxuICAgIGluc2VydGVkOiBmdW5jdGlvbiAoZWwsIGJpbmRpbmcsIHZub2RlLCBvbGRWbm9kZSkge1xyXG4gICAgICAgIGlmICh2bm9kZS50YWcgPT09ICdzZWxlY3QnKSB7XHJcbiAgICAgICAgICAgIC8vICM2OTAzXHJcbiAgICAgICAgICAgIGlmIChvbGRWbm9kZS5lbG0gJiYgIW9sZFZub2RlLmVsbS5fdk9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5jb21wb25lbnRVcGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bm9kZS5jb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbC5fdk9wdGlvbnMgPSBbXS5tYXAuY2FsbChlbC5vcHRpb25zLCBnZXRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHZub2RlLnRhZyA9PT0gJ3RleHRhcmVhJyB8fCBpc1RleHRJbnB1dFR5cGUoZWwudHlwZSkpIHtcclxuICAgICAgICAgICAgZWwuX3ZNb2RpZmllcnMgPSBiaW5kaW5nLm1vZGlmaWVycztcclxuICAgICAgICAgICAgaWYgKCFiaW5kaW5nLm1vZGlmaWVycy5sYXp5KSB7XHJcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uZW5kJywgb25Db21wb3NpdGlvbkVuZCk7XHJcbiAgICAgICAgICAgICAgICAvLyBTYWZhcmkgPCAxMC4yICYgVUlXZWJWaWV3IGRvZXNuJ3QgZmlyZSBjb21wb3NpdGlvbmVuZCB3aGVuXHJcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGFsc28gZml4ZXMgdGhlIGlzc3VlIHdoZXJlIHNvbWUgYnJvd3NlcnMgZS5nLiBpT1MgQ2hyb21lXHJcbiAgICAgICAgICAgICAgICAvLyBmaXJlcyBcImNoYW5nZVwiIGluc3RlYWQgb2YgXCJpbnB1dFwiIG9uIGF1dG9jb21wbGV0ZS5cclxuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xyXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJRTkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC52bW9kZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudFVwZGF0ZWQ6IGZ1bmN0aW9uIChlbCwgYmluZGluZywgdm5vZGUpIHtcclxuICAgICAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgICAgICBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm5vZGUuY29udGV4dCk7XHJcbiAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlIG9wdGlvbnMgcmVuZGVyZWQgYnkgdi1mb3IgaGF2ZSBjaGFuZ2VkLFxyXG4gICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuXHJcbiAgICAgICAgICAgIC8vIGRldGVjdCBzdWNoIGNhc2VzIGFuZCBmaWx0ZXIgb3V0IHZhbHVlcyB0aGF0IG5vIGxvbmdlciBoYXMgYSBtYXRjaGluZ1xyXG4gICAgICAgICAgICAvLyBvcHRpb24gaW4gdGhlIERPTS5cclxuICAgICAgICAgICAgdmFyIHByZXZPcHRpb25zXzEgPSBlbC5fdk9wdGlvbnM7XHJcbiAgICAgICAgICAgIHZhciBjdXJPcHRpb25zXzEgPSAoZWwuX3ZPcHRpb25zID0gW10ubWFwLmNhbGwoZWwub3B0aW9ucywgZ2V0VmFsdWUpKTtcclxuICAgICAgICAgICAgaWYgKGN1ck9wdGlvbnNfMS5zb21lKGZ1bmN0aW9uIChvLCBpKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCBwcmV2T3B0aW9uc18xW2ldKTsgfSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGlmXHJcbiAgICAgICAgICAgICAgICAvLyBubyBtYXRjaGluZyBvcHRpb24gZm91bmQgZm9yIGF0IGxlYXN0IG9uZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgdmFyIG5lZWRSZXNldCA9IGVsLm11bHRpcGxlXHJcbiAgICAgICAgICAgICAgICAgICAgPyBiaW5kaW5nLnZhbHVlLnNvbWUoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGhhc05vTWF0Y2hpbmdPcHRpb24odiwgY3VyT3B0aW9uc18xKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICA6IGJpbmRpbmcudmFsdWUgIT09IGJpbmRpbmcub2xkVmFsdWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTm9NYXRjaGluZ09wdGlvbihiaW5kaW5nLnZhbHVlLCBjdXJPcHRpb25zXzEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIoZWwsICdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKSB7XHJcbiAgICBhY3R1YWxseVNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bSk7XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChpc0lFIHx8IGlzRWRnZSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhY3R1YWxseVNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bSk7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYWN0dWFsbHlTZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm0pIHtcclxuICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7XHJcbiAgICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xyXG4gICAgaWYgKGlzTXVsdGlwbGUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICB3YXJuKFwiPHNlbGVjdCBtdWx0aXBsZSB2LW1vZGVsPVxcXCJcIi5jb25jYXQoYmluZGluZy5leHByZXNzaW9uLCBcIlxcXCI+IFwiKSArXHJcbiAgICAgICAgICAgICAgICBcImV4cGVjdHMgYW4gQXJyYXkgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290IFwiLmNvbmNhdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhbGwodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDgsIC0xKSksIHZtKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgc2VsZWN0ZWQsIG9wdGlvbjtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xyXG4gICAgICAgIGlmIChpc011bHRpcGxlKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBnZXRWYWx1ZShvcHRpb24pKSA+IC0xO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICE9PSBzZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbiksIHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmICghaXNNdWx0aXBsZSkge1xyXG4gICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBoYXNOb01hdGNoaW5nT3B0aW9uKHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gb3B0aW9ucy5ldmVyeShmdW5jdGlvbiAobykgeyByZXR1cm4gIWxvb3NlRXF1YWwobywgdmFsdWUpOyB9KTtcclxufVxyXG5mdW5jdGlvbiBnZXRWYWx1ZShvcHRpb24pIHtcclxuICAgIHJldHVybiAnX3ZhbHVlJyBpbiBvcHRpb24gPyBvcHRpb24uX3ZhbHVlIDogb3B0aW9uLnZhbHVlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydChlKSB7XHJcbiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25FbmQoZSkge1xyXG4gICAgLy8gcHJldmVudCB0cmlnZ2VyaW5nIGFuIGlucHV0IGV2ZW50IGZvciBubyByZWFzb25cclxuICAgIGlmICghZS50YXJnZXQuY29tcG9zaW5nKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGUudGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xyXG4gICAgdHJpZ2dlcihlLnRhcmdldCwgJ2lucHV0Jyk7XHJcbn1cclxuZnVuY3Rpb24gdHJpZ2dlcihlbCwgdHlwZSkge1xyXG4gICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xyXG4gICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGUpO1xyXG59XG5cbi8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgcG9zc2libGUgdHJhbnNpdGlvbiBkZWZpbmVkIGluc2lkZSB0aGUgY29tcG9uZW50IHJvb3RcclxuZnVuY3Rpb24gbG9jYXRlTm9kZSh2bm9kZSkge1xyXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgcmV0dXJuIHZub2RlLmNvbXBvbmVudEluc3RhbmNlICYmICghdm5vZGUuZGF0YSB8fCAhdm5vZGUuZGF0YS50cmFuc2l0aW9uKVxyXG4gICAgICAgID8gbG9jYXRlTm9kZSh2bm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpXHJcbiAgICAgICAgOiB2bm9kZTtcclxufVxyXG52YXIgc2hvdyA9IHtcclxuICAgIGJpbmQ6IGZ1bmN0aW9uIChlbCwgX2EsIHZub2RlKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gX2EudmFsdWU7XHJcbiAgICAgICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcclxuICAgICAgICB2YXIgdHJhbnNpdGlvbiA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xyXG4gICAgICAgIHZhciBvcmlnaW5hbERpc3BsYXkgPSAoZWwuX192T3JpZ2luYWxEaXNwbGF5ID1cclxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5KTtcclxuICAgICAgICBpZiAodmFsdWUgJiYgdHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICB2bm9kZS5kYXRhLnNob3cgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbnRlcih2bm9kZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBvcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogZnVuY3Rpb24gKGVsLCBfYSwgdm5vZGUpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBfYS52YWx1ZSwgb2xkVmFsdWUgPSBfYS5vbGRWYWx1ZTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xyXG4gICAgICAgIHZhciB0cmFuc2l0aW9uID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XHJcbiAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgdm5vZGUuZGF0YS5zaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRlcih2bm9kZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBlbC5fX3ZPcmlnaW5hbERpc3BsYXk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbC5fX3ZPcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVuYmluZDogZnVuY3Rpb24gKGVsLCBiaW5kaW5nLCB2bm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSkge1xyXG4gICAgICAgIGlmICghaXNEZXN0cm95KSB7XHJcbiAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSBlbC5fX3ZPcmlnaW5hbERpc3BsYXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG52YXIgcGxhdGZvcm1EaXJlY3RpdmVzID0ge1xyXG4gICAgbW9kZWw6IGRpcmVjdGl2ZSxcclxuICAgIHNob3c6IHNob3dcclxufTtcblxuLy8gUHJvdmlkZXMgdHJhbnNpdGlvbiBzdXBwb3J0IGZvciBhIHNpbmdsZSBlbGVtZW50L2NvbXBvbmVudC5cclxudmFyIHRyYW5zaXRpb25Qcm9wcyA9IHtcclxuICAgIG5hbWU6IFN0cmluZyxcclxuICAgIGFwcGVhcjogQm9vbGVhbixcclxuICAgIGNzczogQm9vbGVhbixcclxuICAgIG1vZGU6IFN0cmluZyxcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudGVyQ2xhc3M6IFN0cmluZyxcclxuICAgIGxlYXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGVudGVyVG9DbGFzczogU3RyaW5nLFxyXG4gICAgbGVhdmVUb0NsYXNzOiBTdHJpbmcsXHJcbiAgICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBsZWF2ZUFjdGl2ZUNsYXNzOiBTdHJpbmcsXHJcbiAgICBhcHBlYXJDbGFzczogU3RyaW5nLFxyXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcclxuICAgIGFwcGVhclRvQ2xhc3M6IFN0cmluZyxcclxuICAgIGR1cmF0aW9uOiBbTnVtYmVyLCBTdHJpbmcsIE9iamVjdF1cclxufTtcclxuLy8gaW4gY2FzZSB0aGUgY2hpbGQgaXMgYWxzbyBhbiBhYnN0cmFjdCBjb21wb25lbnQsIGUuZy4gPGtlZXAtYWxpdmU+XHJcbi8vIHdlIHdhbnQgdG8gcmVjdXJzaXZlbHkgcmV0cmlldmUgdGhlIHJlYWwgY29tcG9uZW50IHRvIGJlIHJlbmRlcmVkXHJcbmZ1bmN0aW9uIGdldFJlYWxDaGlsZCh2bm9kZSkge1xyXG4gICAgdmFyIGNvbXBPcHRpb25zID0gdm5vZGUgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucztcclxuICAgIGlmIChjb21wT3B0aW9ucyAmJiBjb21wT3B0aW9ucy5DdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcclxuICAgICAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2bm9kZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBleHRyYWN0VHJhbnNpdGlvbkRhdGEoY29tcCkge1xyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuICAgIHZhciBvcHRpb25zID0gY29tcC4kb3B0aW9ucztcclxuICAgIC8vIHByb3BzXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5wcm9wc0RhdGEpIHtcclxuICAgICAgICBkYXRhW2tleV0gPSBjb21wW2tleV07XHJcbiAgICB9XHJcbiAgICAvLyBldmVudHMuXHJcbiAgICAvLyBleHRyYWN0IGxpc3RlbmVycyBhbmQgcGFzcyB0aGVtIGRpcmVjdGx5IHRvIHRoZSB0cmFuc2l0aW9uIG1ldGhvZHNcclxuICAgIHZhciBsaXN0ZW5lcnMgPSBvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gbGlzdGVuZXJzKSB7XHJcbiAgICAgICAgZGF0YVtjYW1lbGl6ZShrZXkpXSA9IGxpc3RlbmVyc1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuZnVuY3Rpb24gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpIHtcclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcclxuICAgIGlmICgvXFxkLWtlZXAtYWxpdmUkLy50ZXN0KHJhd0NoaWxkLnRhZykpIHtcclxuICAgICAgICByZXR1cm4gaCgna2VlcC1hbGl2ZScsIHtcclxuICAgICAgICAgICAgcHJvcHM6IHJhd0NoaWxkLmNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaGFzUGFyZW50VHJhbnNpdGlvbih2bm9kZSkge1xyXG4gICAgd2hpbGUgKCh2bm9kZSA9IHZub2RlLnBhcmVudCkpIHtcclxuICAgICAgICBpZiAodm5vZGUuZGF0YS50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc1NhbWVDaGlsZChjaGlsZCwgb2xkQ2hpbGQpIHtcclxuICAgIHJldHVybiBvbGRDaGlsZC5rZXkgPT09IGNoaWxkLmtleSAmJiBvbGRDaGlsZC50YWcgPT09IGNoaWxkLnRhZztcclxufVxyXG52YXIgaXNOb3RUZXh0Tm9kZSA9IGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRhZyB8fCBpc0FzeW5jUGxhY2Vob2xkZXIoYyk7IH07XHJcbnZhciBpc1ZTaG93RGlyZWN0aXZlID0gZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubmFtZSA9PT0gJ3Nob3cnOyB9O1xyXG52YXIgVHJhbnNpdGlvbiA9IHtcclxuICAgIG5hbWU6ICd0cmFuc2l0aW9uJyxcclxuICAgIHByb3BzOiB0cmFuc2l0aW9uUHJvcHMsXHJcbiAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XHJcbiAgICAgICAgaWYgKCFjaGlsZHJlbikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZpbHRlciBvdXQgdGV4dCBub2RlcyAocG9zc2libGUgd2hpdGVzcGFjZXMpXHJcbiAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoaXNOb3RUZXh0Tm9kZSk7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICAgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3YXJuIG11bHRpcGxlIGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB3YXJuKCc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50LiBVc2UgJyArXHJcbiAgICAgICAgICAgICAgICAnPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy4nLCB0aGlzLiRwYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcclxuICAgICAgICAvLyB3YXJuIGludmFsaWQgbW9kZVxyXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG1vZGUgJiYgbW9kZSAhPT0gJ2luLW91dCcgJiYgbW9kZSAhPT0gJ291dC1pbicpIHtcclxuICAgICAgICAgICAgd2FybignaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJyArIG1vZGUsIHRoaXMuJHBhcmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByYXdDaGlsZCA9IGNoaWxkcmVuWzBdO1xyXG4gICAgICAgIC8vIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgcm9vdCBub2RlIGFuZCB0aGUgY29tcG9uZW50J3NcclxuICAgICAgICAvLyBwYXJlbnQgY29udGFpbmVyIG5vZGUgYWxzbyBoYXMgdHJhbnNpdGlvbiwgc2tpcC5cclxuICAgICAgICBpZiAoaGFzUGFyZW50VHJhbnNpdGlvbih0aGlzLiR2bm9kZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJhd0NoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhcHBseSB0cmFuc2l0aW9uIGRhdGEgdG8gY2hpbGRcclxuICAgICAgICAvLyB1c2UgZ2V0UmVhbENoaWxkKCkgdG8gaWdub3JlIGFic3RyYWN0IGNvbXBvbmVudHMgZS5nLiBrZWVwLWFsaXZlXHJcbiAgICAgICAgdmFyIGNoaWxkID0gZ2V0UmVhbENoaWxkKHJhd0NoaWxkKTtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICBpZiAoIWNoaWxkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByYXdDaGlsZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2xlYXZpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyKGgsIHJhd0NoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZW5zdXJlIGEga2V5IHRoYXQgaXMgdW5pcXVlIHRvIHRoZSB2bm9kZSB0eXBlIGFuZCB0byB0aGlzIHRyYW5zaXRpb25cclxuICAgICAgICAvLyBjb21wb25lbnQgaW5zdGFuY2UuIFRoaXMga2V5IHdpbGwgYmUgdXNlZCB0byByZW1vdmUgcGVuZGluZyBsZWF2aW5nIG5vZGVzXHJcbiAgICAgICAgLy8gZHVyaW5nIGVudGVyaW5nLlxyXG4gICAgICAgIHZhciBpZCA9IFwiX190cmFuc2l0aW9uLVwiLmNvbmNhdCh0aGlzLl91aWQsIFwiLVwiKTtcclxuICAgICAgICBjaGlsZC5rZXkgPVxyXG4gICAgICAgICAgICBjaGlsZC5rZXkgPT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgPyBjaGlsZC5pc0NvbW1lbnRcclxuICAgICAgICAgICAgICAgICAgICA/IGlkICsgJ2NvbW1lbnQnXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpZCArIGNoaWxkLnRhZ1xyXG4gICAgICAgICAgICAgICAgOiBpc1ByaW1pdGl2ZShjaGlsZC5rZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmcoY2hpbGQua2V5KS5pbmRleE9mKGlkKSA9PT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNoaWxkLmtleVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlkICsgY2hpbGQua2V5XHJcbiAgICAgICAgICAgICAgICAgICAgOiBjaGlsZC5rZXk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSAoKGNoaWxkLmRhdGEgfHwgKGNoaWxkLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPVxyXG4gICAgICAgICAgICBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcykpO1xyXG4gICAgICAgIHZhciBvbGRSYXdDaGlsZCA9IHRoaXMuX3Zub2RlO1xyXG4gICAgICAgIHZhciBvbGRDaGlsZCA9IGdldFJlYWxDaGlsZChvbGRSYXdDaGlsZCk7XHJcbiAgICAgICAgLy8gbWFyayB2LXNob3dcclxuICAgICAgICAvLyBzbyB0aGF0IHRoZSB0cmFuc2l0aW9uIG1vZHVsZSBjYW4gaGFuZCBvdmVyIHRoZSBjb250cm9sIHRvIHRoZSBkaXJlY3RpdmVcclxuICAgICAgICBpZiAoY2hpbGQuZGF0YS5kaXJlY3RpdmVzICYmIGNoaWxkLmRhdGEuZGlyZWN0aXZlcy5zb21lKGlzVlNob3dEaXJlY3RpdmUpKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLmRhdGEuc2hvdyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvbGRDaGlsZCAmJlxyXG4gICAgICAgICAgICBvbGRDaGlsZC5kYXRhICYmXHJcbiAgICAgICAgICAgICFpc1NhbWVDaGlsZChjaGlsZCwgb2xkQ2hpbGQpICYmXHJcbiAgICAgICAgICAgICFpc0FzeW5jUGxhY2Vob2xkZXIob2xkQ2hpbGQpICYmXHJcbiAgICAgICAgICAgIC8vICM2Njg3IGNvbXBvbmVudCByb290IGlzIGEgY29tbWVudCBub2RlXHJcbiAgICAgICAgICAgICEob2xkQ2hpbGQuY29tcG9uZW50SW5zdGFuY2UgJiZcclxuICAgICAgICAgICAgICAgIG9sZENoaWxkLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZS5pc0NvbW1lbnQpKSB7XHJcbiAgICAgICAgICAgIC8vIHJlcGxhY2Ugb2xkIGNoaWxkIHRyYW5zaXRpb24gZGF0YSB3aXRoIGZyZXNoIG9uZVxyXG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgZm9yIGR5bmFtaWMgdHJhbnNpdGlvbnMhXHJcbiAgICAgICAgICAgIHZhciBvbGREYXRhID0gKG9sZENoaWxkLmRhdGEudHJhbnNpdGlvbiA9IGV4dGVuZCh7fSwgZGF0YSkpO1xyXG4gICAgICAgICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlXHJcbiAgICAgICAgICAgIGlmIChtb2RlID09PSAnb3V0LWluJykge1xyXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWF2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1lcmdlVk5vZGVIb29rKG9sZERhdGEsICdhZnRlckxlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9sZWF2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGZvcmNlVXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2luLW91dCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0FzeW5jUGxhY2Vob2xkZXIoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9sZFJhd0NoaWxkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGRlbGF5ZWRMZWF2ZV8xO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxheWVkTGVhdmVfMSgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlKTtcclxuICAgICAgICAgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdlbnRlckNhbmNlbGxlZCcsIHBlcmZvcm1MZWF2ZSk7XHJcbiAgICAgICAgICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnZGVsYXlMZWF2ZScsIGZ1bmN0aW9uIChsZWF2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGF5ZWRMZWF2ZV8xID0gbGVhdmU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmF3Q2hpbGQ7XHJcbiAgICB9XHJcbn07XG5cbi8vIFByb3ZpZGVzIHRyYW5zaXRpb24gc3VwcG9ydCBmb3IgbGlzdCBpdGVtcy5cclxudmFyIHByb3BzID0gZXh0ZW5kKHtcclxuICAgIHRhZzogU3RyaW5nLFxyXG4gICAgbW92ZUNsYXNzOiBTdHJpbmdcclxufSwgdHJhbnNpdGlvblByb3BzKTtcclxuZGVsZXRlIHByb3BzLm1vZGU7XHJcbnZhciBUcmFuc2l0aW9uR3JvdXAgPSB7XHJcbiAgICBwcm9wczogcHJvcHMsXHJcbiAgICBiZWZvcmVNb3VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVwZGF0ZSA9IHRoaXMuX3VwZGF0ZTtcclxuICAgICAgICB0aGlzLl91cGRhdGUgPSBmdW5jdGlvbiAodm5vZGUsIGh5ZHJhdGluZykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2UoX3RoaXMpO1xyXG4gICAgICAgICAgICAvLyBmb3JjZSByZW1vdmluZyBwYXNzXHJcbiAgICAgICAgICAgIF90aGlzLl9fcGF0Y2hfXyhfdGhpcy5fdm5vZGUsIF90aGlzLmtlcHQsIGZhbHNlLCAvLyBoeWRyYXRpbmdcclxuICAgICAgICAgICAgdHJ1ZSAvLyByZW1vdmVPbmx5ICghaW1wb3J0YW50LCBhdm9pZHMgdW5uZWNlc3NhcnkgbW92ZXMpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIF90aGlzLl92bm9kZSA9IF90aGlzLmtlcHQ7XHJcbiAgICAgICAgICAgIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSgpO1xyXG4gICAgICAgICAgICB1cGRhdGUuY2FsbChfdGhpcywgdm5vZGUsIGh5ZHJhdGluZyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgdmFyIHRhZyA9IHRoaXMudGFnIHx8IHRoaXMuJHZub2RlLmRhdGEudGFnIHx8ICdzcGFuJztcclxuICAgICAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuICAgICAgICB2YXIgcHJldkNoaWxkcmVuID0gKHRoaXMucHJldkNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbik7XHJcbiAgICAgICAgdmFyIHJhd0NoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXTtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSAodGhpcy5jaGlsZHJlbiA9IFtdKTtcclxuICAgICAgICB2YXIgdHJhbnNpdGlvbkRhdGEgPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdDaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9IHJhd0NoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICBpZiAoYy50YWcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjLmtleSAhPSBudWxsICYmIFN0cmluZyhjLmtleSkuaW5kZXhPZignX192bGlzdCcpICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXBbYy5rZXldID0gYztcclxuICAgICAgICAgICAgICAgICAgICAoYy5kYXRhIHx8IChjLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3B0cyA9IGMuY29tcG9uZW50T3B0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZV8xID0gb3B0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWcgfHwgJydcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjLnRhZztcclxuICAgICAgICAgICAgICAgICAgICB3YXJuKFwiPHRyYW5zaXRpb24tZ3JvdXA+IGNoaWxkcmVuIG11c3QgYmUga2V5ZWQ6IDxcIi5jb25jYXQobmFtZV8xLCBcIj5cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgdmFyIGtlcHQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHJlbW92ZWQgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmV2Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gcHJldkNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgYy5kYXRhLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTtcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLmdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyBub3QgdHlwZWQgaW4gTm9kZVxyXG4gICAgICAgICAgICAgICAgYy5kYXRhLnBvcyA9IGMuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hcFtjLmtleV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXB0LnB1c2goYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkLnB1c2goYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5rZXB0ID0gaCh0YWcsIG51bGwsIGtlcHQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZWQgPSByZW1vdmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKTtcclxuICAgIH0sXHJcbiAgICB1cGRhdGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW47XHJcbiAgICAgICAgdmFyIG1vdmVDbGFzcyA9IHRoaXMubW92ZUNsYXNzIHx8ICh0aGlzLm5hbWUgfHwgJ3YnKSArICctbW92ZSc7XHJcbiAgICAgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMuaGFzTW92ZShjaGlsZHJlblswXS5lbG0sIG1vdmVDbGFzcykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3ZSBkaXZpZGUgdGhlIHdvcmsgaW50byB0aHJlZSBsb29wcyB0byBhdm9pZCBtaXhpbmcgRE9NIHJlYWRzIGFuZCB3cml0ZXNcclxuICAgICAgICAvLyBpbiBlYWNoIGl0ZXJhdGlvbiAtIHdoaWNoIGhlbHBzIHByZXZlbnQgbGF5b3V0IHRocmFzaGluZy5cclxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcclxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcclxuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGFwcGx5VHJhbnNsYXRpb24pO1xyXG4gICAgICAgIC8vIGZvcmNlIHJlZmxvdyB0byBwdXQgZXZlcnl0aGluZyBpbiBwb3NpdGlvblxyXG4gICAgICAgIC8vIGFzc2lnbiB0byB0aGlzIHRvIGF2b2lkIGJlaW5nIHJlbW92ZWQgaW4gdHJlZS1zaGFraW5nXHJcbiAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXHJcbiAgICAgICAgdGhpcy5fcmVmbG93ID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICBpZiAoYy5kYXRhLm1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxfMSA9IGMuZWxtO1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSBlbF8xLnN0eWxlO1xyXG4gICAgICAgICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsXzEsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgIGVsXzEuYWRkRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIChlbF8xLl9tb3ZlQ2IgPSBmdW5jdGlvbiBjYihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWUgfHwgL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsXzEucmVtb3ZlRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGNiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxfMS5fbW92ZUNiID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsXzEsIG1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGhhc01vdmU6IGZ1bmN0aW9uIChlbCwgbW92ZUNsYXNzKSB7XHJcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICAgICAgICBpZiAoIWhhc1RyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2hhc01vdmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNNb3ZlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xyXG4gICAgICAgICAgICAvLyBDU1MgdHJhbnNpdGlvbnMuIFNpbmNlIHRoZSBlbGVtZW50IG1heSBiZSBpbnNpZGUgYW4gZW50ZXJpbmdcclxuICAgICAgICAgICAgLy8gdHJhbnNpdGlvbiBhdCB0aGlzIHZlcnkgbW9tZW50LCB3ZSBtYWtlIGEgY2xvbmUgb2YgaXQgYW5kIHJlbW92ZVxyXG4gICAgICAgICAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcclxuICAgICAgICAgICAgLy8gaXMgYXBwbGllZC5cclxuICAgICAgICAgICAgdmFyIGNsb25lID0gZWwuY2xvbmVOb2RlKCk7XHJcbiAgICAgICAgICAgIGlmIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMpIHtcclxuICAgICAgICAgICAgICAgIGVsLl90cmFuc2l0aW9uQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uIChjbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhjbG9uZSwgY2xzKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFkZENsYXNzKGNsb25lLCBtb3ZlQ2xhc3MpO1xyXG4gICAgICAgICAgICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5hcHBlbmRDaGlsZChjbG9uZSk7XHJcbiAgICAgICAgICAgIHZhciBpbmZvID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVDaGlsZChjbG9uZSk7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5faGFzTW92ZSA9IGluZm8uaGFzVHJhbnNmb3JtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzKGMpIHtcclxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgaWYgKGMuZWxtLl9tb3ZlQ2IpIHtcclxuICAgICAgICBjLmVsbS5fbW92ZUNiKCk7XHJcbiAgICB9XHJcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cclxuICAgIGlmIChjLmVsbS5fZW50ZXJDYikge1xyXG4gICAgICAgIGMuZWxtLl9lbnRlckNiKCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVjb3JkUG9zaXRpb24oYykge1xyXG4gICAgYy5kYXRhLm5ld1BvcyA9IGMuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG59XHJcbmZ1bmN0aW9uIGFwcGx5VHJhbnNsYXRpb24oYykge1xyXG4gICAgdmFyIG9sZFBvcyA9IGMuZGF0YS5wb3M7XHJcbiAgICB2YXIgbmV3UG9zID0gYy5kYXRhLm5ld1BvcztcclxuICAgIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XHJcbiAgICB2YXIgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDtcclxuICAgIGlmIChkeCB8fCBkeSkge1xyXG4gICAgICAgIGMuZGF0YS5tb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgdmFyIHMgPSBjLmVsbS5zdHlsZTtcclxuICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIuY29uY2F0KGR4LCBcInB4LFwiKS5jb25jYXQoZHksIFwicHgpXCIpO1xyXG4gICAgICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcclxuICAgIH1cclxufVxuXG52YXIgcGxhdGZvcm1Db21wb25lbnRzID0ge1xyXG4gICAgVHJhbnNpdGlvbjogVHJhbnNpdGlvbixcclxuICAgIFRyYW5zaXRpb25Hcm91cDogVHJhbnNpdGlvbkdyb3VwXHJcbn07XG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gc3BlY2lmaWMgdXRpbHNcclxuVnVlLmNvbmZpZy5tdXN0VXNlUHJvcCA9IG11c3RVc2VQcm9wO1xyXG5WdWUuY29uZmlnLmlzUmVzZXJ2ZWRUYWcgPSBpc1Jlc2VydmVkVGFnO1xyXG5WdWUuY29uZmlnLmlzUmVzZXJ2ZWRBdHRyID0gaXNSZXNlcnZlZEF0dHI7XHJcblZ1ZS5jb25maWcuZ2V0VGFnTmFtZXNwYWNlID0gZ2V0VGFnTmFtZXNwYWNlO1xyXG5WdWUuY29uZmlnLmlzVW5rbm93bkVsZW1lbnQgPSBpc1Vua25vd25FbGVtZW50O1xyXG4vLyBpbnN0YWxsIHBsYXRmb3JtIHJ1bnRpbWUgZGlyZWN0aXZlcyAmIGNvbXBvbmVudHNcclxuZXh0ZW5kKFZ1ZS5vcHRpb25zLmRpcmVjdGl2ZXMsIHBsYXRmb3JtRGlyZWN0aXZlcyk7XHJcbmV4dGVuZChWdWUub3B0aW9ucy5jb21wb25lbnRzLCBwbGF0Zm9ybUNvbXBvbmVudHMpO1xyXG4vLyBpbnN0YWxsIHBsYXRmb3JtIHBhdGNoIGZ1bmN0aW9uXHJcblZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fID0gaW5Ccm93c2VyID8gcGF0Y2ggOiBub29wO1xyXG4vLyBwdWJsaWMgbW91bnQgbWV0aG9kXHJcblZ1ZS5wcm90b3R5cGUuJG1vdW50ID0gZnVuY3Rpb24gKGVsLCBoeWRyYXRpbmcpIHtcclxuICAgIGVsID0gZWwgJiYgaW5Ccm93c2VyID8gcXVlcnkoZWwpIDogdW5kZWZpbmVkO1xyXG4gICAgcmV0dXJuIG1vdW50Q29tcG9uZW50KHRoaXMsIGVsLCBoeWRyYXRpbmcpO1xyXG59O1xyXG4vLyBkZXZ0b29scyBnbG9iYWwgaG9va1xyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG5pZiAoaW5Ccm93c2VyKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY29uZmlnLmRldnRvb2xzKSB7XHJcbiAgICAgICAgICAgIGlmIChkZXZ0b29scykge1xyXG4gICAgICAgICAgICAgICAgZGV2dG9vbHMuZW1pdCgnaW5pdCcsIFZ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXSgnRG93bmxvYWQgdGhlIFZ1ZSBEZXZ0b29scyBleHRlbnNpb24gZm9yIGEgYmV0dGVyIGRldmVsb3BtZW50IGV4cGVyaWVuY2U6XFxuJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUtZGV2dG9vbHMnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxyXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmXHJcbiAgICAgICAgICAgIGNvbmZpZy5wcm9kdWN0aW9uVGlwICE9PSBmYWxzZSAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxyXG4gICAgICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShcIllvdSBhcmUgcnVubmluZyBWdWUgaW4gZGV2ZWxvcG1lbnQgbW9kZS5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICBcIk1ha2Ugc3VyZSB0byB0dXJuIG9uIHByb2R1Y3Rpb24gbW9kZSB3aGVuIGRlcGxveWluZyBmb3IgcHJvZHVjdGlvbi5cXG5cIiArXHJcbiAgICAgICAgICAgICAgICBcIlNlZSBtb3JlIHRpcHMgYXQgaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvZGVwbG95bWVudC5odG1sXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIDApO1xyXG59XG5cbmV4cG9ydCB7IEVmZmVjdFNjb3BlLCBjb21wdXRlZCwgY3VzdG9tUmVmLCBWdWUgYXMgZGVmYXVsdCwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVsLCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudEluc3RhbmNlLCBnZXRDdXJyZW50U2NvcGUsIGgsIGluamVjdCwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1JhdywgbWVyZ2VEZWZhdWx0cywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TY29wZURpc3Bvc2UsIG9uU2VydmVyUHJlZmV0Y2gsIG9uVW5tb3VudGVkLCBvblVwZGF0ZWQsIHByb3ZpZGUsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYkMSBhcyByZWYsIHNldCwgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHRvUmF3LCB0b1JlZiwgdG9SZWZzLCB0cmlnZ2VyUmVmLCB1bnJlZiwgdXNlQXR0cnMsIHVzZUNzc01vZHVsZSwgdXNlQ3NzVmFycywgdXNlU2xvdHMsIHZlcnNpb24sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QgfTtcbiIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcblxud2luZG93LlZ1ZSA9IFZ1ZTtcblZ1ZS5jb25maWcuZGV2dG9vbHMgPSB0cnVlO1xuXG5yZXF1aXJlKCcuL21vZHVsZXMvdGVzdCcpO1xucmVxdWlyZSgnLi90c3QnKTtcbiJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwicmVuZGVyIiwiX3ZtIiwidGhpcyIsIl9jIiwiX3NlbGYiLCJfdiIsIl9zIiwidHh0IiwiX3dpdGhTdHJpcHBlZCIsImNvbXBvbmVudCIsInNjcmlwdEV4cG9ydHMiLCJzdGF0aWNSZW5kZXJGbnMiLCJmdW5jdGlvbmFsVGVtcGxhdGUiLCJpbmplY3RTdHlsZXMiLCJzY29wZUlkIiwibW9kdWxlSWRlbnRpZmllciIsInNoYWRvd01vZGUiLCJob29rIiwib3B0aW9ucyIsIl9jb21waWxlZCIsImZ1bmN0aW9uYWwiLCJfc2NvcGVJZCIsImNvbnRleHQiLCIkdm5vZGUiLCJzc3JDb250ZXh0IiwicGFyZW50IiwiX19WVUVfU1NSX0NPTlRFWFRfXyIsImNhbGwiLCJfcmVnaXN0ZXJlZENvbXBvbmVudHMiLCJhZGQiLCJfc3NyUmVnaXN0ZXIiLCIkcm9vdCIsIiRvcHRpb25zIiwic2hhZG93Um9vdCIsIl9pbmplY3RTdHlsZXMiLCJvcmlnaW5hbFJlbmRlciIsImgiLCJleGlzdGluZyIsImJlZm9yZUNyZWF0ZSIsImNvbmNhdCIsImV4cG9ydHMiLCJkYXRhIiwiY3JlYXRlZCIsInVwZGF0ZWQiLCJkZXN0cm95ZWQiLCJtZXRob2RzIiwibW91bnRlZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIlZ1ZSIsImVsIiwiVHN0IiwiY29tcG9uZW50cyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwiZSIsIndpbmRvdyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJlbXB0eU9iamVjdCIsImZyZWV6ZSIsImlzQXJyYXkiLCJBcnJheSIsImlzVW5kZWYiLCJ2IiwiaXNEZWYiLCJpc1RydWUiLCJpc1ByaW1pdGl2ZSIsImlzRnVuY3Rpb24iLCJpc09iamVjdCIsIm9iaiIsIl90b1N0cmluZyIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaXNQbGFpbk9iamVjdCIsImlzUmVnRXhwIiwiaXNWYWxpZEFycmF5SW5kZXgiLCJ2YWwiLCJuIiwicGFyc2VGbG9hdCIsIlN0cmluZyIsIk1hdGgiLCJmbG9vciIsImlzRmluaXRlIiwiaXNQcm9taXNlIiwidGhlbiIsImNhdGNoIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvTnVtYmVyIiwiaXNOYU4iLCJtYWtlTWFwIiwic3RyIiwiZXhwZWN0c0xvd2VyQ2FzZSIsIm1hcCIsImNyZWF0ZSIsImxpc3QiLCJzcGxpdCIsImkiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsImlzUmVzZXJ2ZWRBdHRyaWJ1dGUiLCJyZW1vdmUkMiIsImFyciIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJoYXNPd25Qcm9wZXJ0eSIsImhhc093biIsImtleSIsImNhY2hlZCIsImZuIiwiY2FjaGUiLCJjYW1lbGl6ZVJFIiwiY2FtZWxpemUiLCJyZXBsYWNlIiwiXyIsImMiLCJ0b1VwcGVyQ2FzZSIsImNhcGl0YWxpemUiLCJjaGFyQXQiLCJzbGljZSIsImh5cGhlbmF0ZVJFIiwiaHlwaGVuYXRlIiwiYmluZCIsImN0eCIsImJvdW5kRm4iLCJhIiwibCIsImFyZ3VtZW50cyIsImFwcGx5IiwiX2xlbmd0aCIsInRvQXJyYXkiLCJzdGFydCIsInJldCIsImV4dGVuZCIsInRvIiwiX2Zyb20iLCJ0b09iamVjdCIsInJlcyIsIm5vb3AiLCJiIiwibm8iLCJpZGVudGl0eSIsImxvb3NlRXF1YWwiLCJpc09iamVjdEEiLCJpc09iamVjdEIiLCJpc0FycmF5QSIsImlzQXJyYXlCIiwiZXZlcnkiLCJEYXRlIiwiZ2V0VGltZSIsImtleXNBIiwia2V5cyIsImtleXNCIiwibG9vc2VJbmRleE9mIiwib25jZSIsImNhbGxlZCIsImhhc0NoYW5nZWQiLCJ4IiwieSIsIlNTUl9BVFRSIiwiQVNTRVRfVFlQRVMiLCJMSUZFQ1lDTEVfSE9PS1MiLCJjb25maWciLCJvcHRpb25NZXJnZVN0cmF0ZWdpZXMiLCJzaWxlbnQiLCJwcm9kdWN0aW9uVGlwIiwiZGV2dG9vbHMiLCJwZXJmb3JtYW5jZSIsImVycm9ySGFuZGxlciIsIndhcm5IYW5kbGVyIiwiaWdub3JlZEVsZW1lbnRzIiwia2V5Q29kZXMiLCJpc1Jlc2VydmVkVGFnIiwiaXNSZXNlcnZlZEF0dHIiLCJpc1Vua25vd25FbGVtZW50IiwiZ2V0VGFnTmFtZXNwYWNlIiwicGFyc2VQbGF0Zm9ybVRhZ05hbWUiLCJtdXN0VXNlUHJvcCIsImFzeW5jIiwiX2xpZmVjeWNsZUhvb2tzIiwidW5pY29kZVJlZ0V4cCIsImlzUmVzZXJ2ZWQiLCJjaGFyQ29kZUF0IiwiZGVmIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiYmFpbFJFIiwiUmVnRXhwIiwic291cmNlIiwiaGFzUHJvdG8iLCJpbkJyb3dzZXIiLCJVQSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzSUUiLCJ0ZXN0IiwiaXNJRTkiLCJpc0VkZ2UiLCJpc0lPUyIsIl9pc1NlcnZlciIsImlzRkYiLCJtYXRjaCIsIm5hdGl2ZVdhdGNoIiwid2F0Y2giLCJzdXBwb3J0c1Bhc3NpdmUiLCJvcHRzIiwiZ2V0IiwiaXNTZXJ2ZXJSZW5kZXJpbmciLCJlbnYiLCJWVUVfRU5WIiwiX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyIsImlzTmF0aXZlIiwiQ3RvciIsIl9TZXQiLCJoYXNTeW1ib2wiLCJSZWZsZWN0Iiwib3duS2V5cyIsIlNldCIsInNldCIsImhhcyIsImNsZWFyIiwiY3VycmVudEluc3RhbmNlIiwic2V0Q3VycmVudEluc3RhbmNlIiwidm0iLCJfc2NvcGUiLCJvZmYiLCJvbiIsIndhcm4iLCJ1aWQkMiIsIkRlcCIsImlkIiwic3VicyIsImFkZFN1YiIsInN1YiIsInB1c2giLCJyZW1vdmVTdWIiLCJkZXBlbmQiLCJpbmZvIiwidGFyZ2V0IiwiYWRkRGVwIiwibm90aWZ5IiwidXBkYXRlIiwidGFyZ2V0U3RhY2siLCJwdXNoVGFyZ2V0IiwicG9wVGFyZ2V0IiwicG9wIiwiVk5vZGUiLCJ0YWciLCJjaGlsZHJlbiIsInRleHQiLCJlbG0iLCJjb21wb25lbnRPcHRpb25zIiwiYXN5bmNGYWN0b3J5IiwibnMiLCJmbkNvbnRleHQiLCJmbk9wdGlvbnMiLCJmblNjb3BlSWQiLCJjb21wb25lbnRJbnN0YW5jZSIsInJhdyIsImlzU3RhdGljIiwiaXNSb290SW5zZXJ0IiwiaXNDb21tZW50IiwiaXNDbG9uZWQiLCJpc09uY2UiLCJhc3luY01ldGEiLCJpc0FzeW5jUGxhY2Vob2xkZXIiLCJjcmVhdGVFbXB0eVZOb2RlIiwibm9kZSIsImNyZWF0ZVRleHRWTm9kZSIsImNsb25lVk5vZGUiLCJ2bm9kZSIsImNsb25lZCIsImFycmF5UHJvdG8iLCJhcnJheU1ldGhvZHMiLCJzaGFsbG93UmVhY3RpdmUiLCJtYWtlUmVhY3RpdmUiLCJzaGFsbG93IiwiaXNSZWFkb25seSIsIm9ic2VydmUiLCJfX3ZfaXNSZWFkb25seSIsImZvckVhY2giLCJtZXRob2QiLCJvcmlnaW5hbCIsImFyZ3MiLCJfaSIsImluc2VydGVkIiwicmVzdWx0Iiwib2IiLCJfX29iX18iLCJvYnNlcnZlQXJyYXkiLCJkZXAiLCJpc1JlZiIsIl9fdl9pc1JlZiIsInByb3h5V2l0aFJlZlVud3JhcCIsInJlZiIsInVucmVmIiwib2xkVmFsdWUiLCJzZWVuT2JqZWN0cyIsInRyYXZlcnNlIiwiX3RyYXZlcnNlIiwic2VlbiIsImlzQSIsImlzRnJvemVuIiwiZGVwSWQiLCJub3JtYWxpemVFdmVudCIsIm5hbWUiLCJwYXNzaXZlIiwiY2FwdHVyZSIsImNyZWF0ZUZuSW52b2tlciIsImZucyIsImludm9rZXIiLCJpbnZva2VXaXRoRXJyb3JIYW5kbGluZyIsInVwZGF0ZUxpc3RlbmVycyIsIm9sZE9uIiwicmVtb3ZlIiwiY3JlYXRlT25jZUhhbmRsZXIiLCJjdXIiLCJvbGQiLCJldmVudCIsInBhcmFtcyIsIm1lcmdlVk5vZGVIb29rIiwiaG9va0tleSIsIm9sZEhvb2siLCJ3cmFwcGVkSG9vayIsIm1lcmdlZCIsImNoZWNrUHJvcCIsImhhc2giLCJhbHRLZXkiLCJwcmVzZXJ2ZSIsIm5vcm1hbGl6ZUNoaWxkcmVuIiwibm9ybWFsaXplQXJyYXlDaGlsZHJlbiIsImlzVGV4dE5vZGUiLCJuZXN0ZWRJbmRleCIsImxhc3RJbmRleCIsImxhc3QiLCJzaGlmdCIsIl9pc1ZMaXN0IiwicHJvdmlkZSIsInByb3ZpZGVzIiwiX3Byb3ZpZGVkIiwicGFyZW50UHJvdmlkZXMiLCIkcGFyZW50IiwicmVzb2x2ZUluamVjdCIsImluamVjdCIsInByb3ZpZGVLZXkiLCJmcm9tIiwicHJvdmlkZURlZmF1bHQiLCJkZWZhdWx0IiwicmVzb2x2ZVNsb3RzIiwic2xvdHMiLCJjaGlsZCIsImF0dHJzIiwic2xvdCIsIm5hbWVfMSIsIm5hbWVfMiIsImlzV2hpdGVzcGFjZSIsIm5vcm1hbGl6ZVNjb3BlZFNsb3RzIiwib3duZXJWbSIsInNjb3BlZFNsb3RzIiwibm9ybWFsU2xvdHMiLCJwcmV2U2NvcGVkU2xvdHMiLCJoYXNOb3JtYWxTbG90cyIsImlzU3RhYmxlIiwiJHN0YWJsZSIsIiRrZXkiLCJfbm9ybWFsaXplZCIsIiRoYXNOb3JtYWwiLCJrZXlfMSIsIm5vcm1hbGl6ZVNjb3BlZFNsb3QiLCJrZXlfMiIsInByb3h5Tm9ybWFsU2xvdCIsImlzRXh0ZW5zaWJsZSIsIm5vcm1hbGl6ZWQiLCJwcm94eSIsInJlbmRlckxpc3QiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwicmVuZGVyU2xvdCIsImZhbGxiYWNrUmVuZGVyIiwicHJvcHMiLCJiaW5kT2JqZWN0Iiwibm9kZXMiLCJzY29wZWRTbG90Rm4iLCIkc2NvcGVkU2xvdHMiLCIkc2xvdHMiLCIkY3JlYXRlRWxlbWVudCIsInJlc29sdmVGaWx0ZXIiLCJyZXNvbHZlQXNzZXQiLCJpc0tleU5vdE1hdGNoIiwiZXhwZWN0IiwiYWN0dWFsIiwiY2hlY2tLZXlDb2RlcyIsImV2ZW50S2V5Q29kZSIsImJ1aWx0SW5LZXlDb2RlIiwiZXZlbnRLZXlOYW1lIiwiYnVpbHRJbktleU5hbWUiLCJtYXBwZWRLZXlDb2RlIiwiYmluZE9iamVjdFByb3BzIiwiYXNQcm9wIiwiaXNTeW5jIiwiX2xvb3BfMSIsInR5cGUiLCJkb21Qcm9wcyIsImNhbWVsaXplZEtleSIsImh5cGhlbmF0ZWRLZXkiLCIkZXZlbnQiLCJyZW5kZXJTdGF0aWMiLCJpc0luRm9yIiwiX3N0YXRpY1RyZWVzIiwidHJlZSIsIm1hcmtTdGF0aWMiLCJfcmVuZGVyUHJveHkiLCJtYXJrT25jZSIsIm1hcmtTdGF0aWNOb2RlIiwiYmluZE9iamVjdExpc3RlbmVycyIsIm91cnMiLCJyZXNvbHZlU2NvcGVkU2xvdHMiLCJoYXNEeW5hbWljS2V5cyIsImNvbnRlbnRIYXNoS2V5IiwiYmluZER5bmFtaWNLZXlzIiwiYmFzZU9iaiIsInZhbHVlcyIsInByZXBlbmRNb2RpZmllciIsInN5bWJvbCIsImluc3RhbGxSZW5kZXJIZWxwZXJzIiwiX28iLCJfbiIsIl9sIiwiX3QiLCJfcSIsIl9tIiwiX2YiLCJfayIsIl9iIiwiX2UiLCJfdSIsIl9nIiwiX2QiLCJfcCIsIkZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IiwiY29udGV4dFZtIiwiX3RoaXMiLCJfb3JpZ2luYWwiLCJpc0NvbXBpbGVkIiwibmVlZE5vcm1hbGl6YXRpb24iLCJsaXN0ZW5lcnMiLCJpbmplY3Rpb25zIiwiZCIsImNyZWF0ZUVsZW1lbnQkMSIsImNsb25lQW5kTWFya0Z1bmN0aW9uYWxSZXN1bHQiLCJyZW5kZXJDb250ZXh0IiwiY2xvbmUiLCJtZXJnZVByb3BzIiwiY29tcG9uZW50Vk5vZGVIb29rcyIsImluaXQiLCJoeWRyYXRpbmciLCJfaXNEZXN0cm95ZWQiLCJrZWVwQWxpdmUiLCJtb3VudGVkTm9kZSIsInByZXBhdGNoIiwiX2lzQ29tcG9uZW50IiwiX3BhcmVudFZub2RlIiwiaW5saW5lVGVtcGxhdGUiLCJjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlIiwiYWN0aXZlSW5zdGFuY2UiLCIkbW91bnQiLCJvbGRWbm9kZSIsInByb3BzRGF0YSIsInBhcmVudFZub2RlIiwicmVuZGVyQ2hpbGRyZW4iLCJuZXdTY29wZWRTbG90cyIsIm9sZFNjb3BlZFNsb3RzIiwiaGFzRHluYW1pY1Njb3BlZFNsb3QiLCJuZWVkc0ZvcmNlVXBkYXRlIiwiX3JlbmRlckNoaWxkcmVuIiwicHJldlZOb2RlIiwiX3Zub2RlIiwiX2F0dHJzUHJveHkiLCJzeW5jU2V0dXBBdHRycyIsIiRhdHRycyIsIiRsaXN0ZW5lcnMiLCJ0b2dnbGVPYnNlcnZpbmciLCJfcHJvcHMiLCJwcm9wS2V5cyIsIl9wcm9wS2V5cyIsInByb3BPcHRpb25zIiwidmFsaWRhdGVQcm9wIiwib2xkTGlzdGVuZXJzIiwiX3BhcmVudExpc3RlbmVycyIsInVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyIsIiRmb3JjZVVwZGF0ZSIsInVwZGF0ZUNoaWxkQ29tcG9uZW50IiwiaW5zZXJ0IiwiX2lzTW91bnRlZCIsImNhbGxIb29rJDEiLCJfaW5hY3RpdmUiLCJhY3RpdmF0ZWRDaGlsZHJlbiIsImFjdGl2YXRlQ2hpbGRDb21wb25lbnQiLCJkZXN0cm95IiwiZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50IiwiJGRlc3Ryb3kiLCJob29rc1RvTWVyZ2UiLCJjcmVhdGVDb21wb25lbnQiLCJiYXNlQ3RvciIsIl9iYXNlIiwiY2lkIiwiZmFjdG9yeSIsImVycm9yIiwiZXJyb3JDb21wIiwicmVzb2x2ZWQiLCJvd25lciIsImN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSIsIm93bmVycyIsImxvYWRpbmciLCJsb2FkaW5nQ29tcCIsIm93bmVyc18xIiwic3luY18xIiwidGltZXJMb2FkaW5nXzEiLCJ0aW1lclRpbWVvdXRfMSIsIiRvbiIsImZvcmNlUmVuZGVyXzEiLCJyZW5kZXJDb21wbGV0ZWQiLCJjbGVhclRpbWVvdXQiLCJyZXNvbHZlIiwiZW5zdXJlQ3RvciIsInJlamVjdF8xIiwicmVhc29uIiwicmVzXzEiLCJkZWxheSIsInNldFRpbWVvdXQiLCJ0aW1lb3V0IiwicmVzb2x2ZUFzeW5jQ29tcG9uZW50IiwiY3JlYXRlQXN5bmNQbGFjZWhvbGRlciIsInJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMiLCJtb2RlbCIsInByb3AiLCJjYWxsYmFjayIsInRyYW5zZm9ybU1vZGVsIiwiZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSIsInZub2RlcyIsImNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQiLCJuYXRpdmVPbiIsImFic3RyYWN0IiwiaG9va3MiLCJ0b01lcmdlIiwiX21lcmdlZCIsIm1lcmdlSG9vayIsImluc3RhbGxDb21wb25lbnRIb29rcyIsImYxIiwiZjIiLCJub3JtYWxpemF0aW9uVHlwZSIsImFsd2F5c05vcm1hbGl6ZSIsImlzIiwic2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4iLCJwcmUiLCJhcHBseU5TIiwic3R5bGUiLCJjbGFzcyIsInJlZ2lzdGVyRGVlcEJpbmRpbmdzIiwiX2NyZWF0ZUVsZW1lbnQiLCJmb3JjZSIsImNyZWF0ZVNldHVwQ29udGV4dCIsImluaXRBdHRyc1Byb3h5IiwiX3Nsb3RzUHJveHkiLCJzeW5jU2V0dXBTbG90cyIsImluaXRTbG90c1Byb3h5IiwiZW1pdCIsIiRlbWl0IiwiZXhwb3NlIiwiZXhwb3NlZCIsInByZXYiLCJpbnN0YW5jZSIsImNoYW5nZWQiLCJkZWZpbmVQcm94eUF0dHIiLCJ0YXJnZXQkMSIsImNvbXAiLCJiYXNlIiwiX19lc01vZHVsZSIsImdldEZpcnN0Q29tcG9uZW50Q2hpbGQiLCJhZGQkMSIsInJlbW92ZSQxIiwiJG9mZiIsImNyZWF0ZU9uY2VIYW5kbGVyJDEiLCJfdGFyZ2V0Iiwib25jZUhhbmRsZXIiLCJzZXRBY3RpdmVJbnN0YW5jZSIsInByZXZBY3RpdmVJbnN0YW5jZSIsImlzSW5JbmFjdGl2ZVRyZWUiLCJkaXJlY3QiLCJfZGlyZWN0SW5hY3RpdmUiLCIkY2hpbGRyZW4iLCJoYW5kbGVycyIsImoiLCJfaGFzSG9va0V2ZW50IiwicXVldWUiLCJ3YWl0aW5nIiwiZmx1c2hpbmciLCJhY3RpdmVFZmZlY3RTY29wZSIsImN1cnJlbnRGbHVzaFRpbWVzdGFtcCIsImdldE5vdyIsIm5vdyIsInBlcmZvcm1hbmNlXzEiLCJjcmVhdGVFdmVudCIsInRpbWVTdGFtcCIsImZsdXNoU2NoZWR1bGVyUXVldWUiLCJ3YXRjaGVyIiwic29ydCIsImJlZm9yZSIsInJ1biIsImFjdGl2YXRlZFF1ZXVlIiwidXBkYXRlZFF1ZXVlIiwiY2FsbEFjdGl2YXRlZEhvb2tzIiwiX3dhdGNoZXIiLCJjYWxsVXBkYXRlZEhvb2tzIiwicXVldWVXYXRjaGVyIiwibm9SZWN1cnNlIiwibmV4dFRpY2siLCJFZmZlY3RTY29wZSIsImRldGFjaGVkIiwiYWN0aXZlIiwiZWZmZWN0cyIsImNsZWFudXBzIiwic2NvcGVzIiwiY3VycmVudEVmZmVjdFNjb3BlIiwic3RvcCIsImZyb21QYXJlbnQiLCJ0ZWFyZG93biIsInVpZCQxIiwiV2F0Y2hlciIsImV4cE9yRm4iLCJjYiIsImlzUmVuZGVyV2F0Y2hlciIsImVmZmVjdCIsInNjb3BlIiwiZGVlcCIsInVzZXIiLCJsYXp5Iiwic3luYyIsImRpcnR5IiwiZGVwcyIsIm5ld0RlcHMiLCJkZXBJZHMiLCJuZXdEZXBJZHMiLCJleHByZXNzaW9uIiwiZ2V0dGVyIiwicGF0aCIsInNlZ21lbnRzIiwicGFyc2VQYXRoIiwiaGFuZGxlRXJyb3IiLCJjbGVhbnVwRGVwcyIsInRtcCIsImV2YWx1YXRlIiwiX2lzQmVpbmdEZXN0cm95ZWQiLCJvblN0b3AiLCJXQVRDSEVSIiwiZXJyIiwiZXJyb3JDYXB0dXJlZCIsImdsb2JhbEhhbmRsZUVycm9yIiwiaGFuZGxlciIsIl9pc1Z1ZSIsIl9oYW5kbGVkIiwibG9nRXJyb3IiLCJ0aW1lckZ1bmMiLCJpc1VzaW5nTWljcm9UYXNrIiwiY2FsbGJhY2tzIiwicGVuZGluZyIsImZsdXNoQ2FsbGJhY2tzIiwiY29waWVzIiwiUHJvbWlzZSIsInBfMSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJzZXRJbW1lZGlhdGUiLCJjb3VudGVyXzEiLCJvYnNlcnZlciIsInRleHROb2RlXzEiLCJjcmVhdGVUZXh0Tm9kZSIsImNoYXJhY3RlckRhdGEiLCJfcmVzb2x2ZSIsImNyZWF0ZUxpZmVDeWNsZSIsImhvb2tOYW1lIiwibWVyZ2VMaWZlY3ljbGVIb29rIiwiaW5qZWN0SG9vayIsImFycmF5S2V5cyIsImdldE93blByb3BlcnR5TmFtZXMiLCJOT19JTklJVElBTF9WQUxVRSIsInNob3VsZE9ic2VydmUiLCJtb2NrRGVwIiwiT2JzZXJ2ZXIiLCJtb2NrIiwidm1Db3VudCIsIl9fcHJvdG9fXyIsImRlZmluZVJlYWN0aXZlIiwic3NyTW9ja1JlYWN0aXZpdHkiLCJfX3Zfc2tpcCIsImN1c3RvbVNldHRlciIsInByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic2V0dGVyIiwiY2hpbGRPYiIsImRlcGVuZEFycmF5IiwibmV3VmFsIiwibWF4IiwiZGVsIiwic3RyYXRzIiwibWVyZ2VEYXRhIiwidG9WYWwiLCJmcm9tVmFsIiwibWVyZ2VEYXRhT3JGbiIsInBhcmVudFZhbCIsImNoaWxkVmFsIiwiaW5zdGFuY2VEYXRhIiwiZGVmYXVsdERhdGEiLCJkZWR1cGVIb29rcyIsIm1lcmdlQXNzZXRzIiwicGFyZW50XzEiLCJjb21wdXRlZCIsImRlZmF1bHRTdHJhdCIsIm1lcmdlT3B0aW9ucyIsIm5vcm1hbGl6ZVByb3BzIiwibm9ybWFsaXplSW5qZWN0IiwiZGlycyIsImRpcmVjdGl2ZXMiLCJub3JtYWxpemVEaXJlY3RpdmVzJDEiLCJleHRlbmRzIiwibWl4aW5zIiwibWVyZ2VGaWVsZCIsInN0cmF0Iiwid2Fybk1pc3NpbmciLCJhc3NldHMiLCJjYW1lbGl6ZWRJZCIsIlBhc2NhbENhc2VJZCIsImFic2VudCIsImJvb2xlYW5JbmRleCIsImdldFR5cGVJbmRleCIsIkJvb2xlYW4iLCJzdHJpbmdJbmRleCIsImdldFR5cGUiLCJnZXRQcm9wRGVmYXVsdFZhbHVlIiwicHJldlNob3VsZE9ic2VydmUiLCJmdW5jdGlvblR5cGVDaGVja1JFIiwiaXNTYW1lVHlwZSIsImV4cGVjdGVkVHlwZXMiLCJsZW4iLCJzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24iLCJzb3VyY2VLZXkiLCJpbml0U3RhdGUiLCJwcm9wc09wdGlvbnMiLCJpbml0UHJvcHMkMSIsInNldHVwIiwiX3NldHVwQ29udGV4dCIsInNldHVwUmVzdWx0IiwiX3NldHVwU3RhdGUiLCJfX3NmYyIsIl9zZXR1cFByb3h5IiwiaW5pdFNldHVwIiwiaW5pdE1ldGhvZHMiLCJfZGF0YSIsImdldERhdGEiLCJpbml0RGF0YSIsIndhdGNoZXJzIiwiX2NvbXB1dGVkV2F0Y2hlcnMiLCJpc1NTUiIsInVzZXJEZWYiLCJjb21wdXRlZFdhdGNoZXJPcHRpb25zIiwiZGVmaW5lQ29tcHV0ZWQiLCJpbml0Q29tcHV0ZWQkMSIsImNyZWF0ZVdhdGNoZXIiLCJpbml0V2F0Y2giLCJzaG91bGRDYWNoZSIsImNyZWF0ZUNvbXB1dGVkR2V0dGVyIiwiY3JlYXRlR2V0dGVySW52b2tlciIsIiR3YXRjaCIsInVpZCIsInN1cGVyIiwic3VwZXJPcHRpb25zIiwibW9kaWZpZWRPcHRpb25zIiwibW9kaWZpZWQiLCJsYXRlc3QiLCJzZWFsZWQiLCJzZWFsZWRPcHRpb25zIiwicmVzb2x2ZU1vZGlmaWVkT3B0aW9ucyIsImV4dGVuZE9wdGlvbnMiLCJfaW5pdCIsImluaXRFeHRlbmQiLCJTdXBlciIsIlN1cGVySWQiLCJjYWNoZWRDdG9ycyIsIl9DdG9yIiwiU3ViIiwiY29uc3RydWN0b3IiLCJDb21wIiwiaW5pdFByb3BzIiwiaW5pdENvbXB1dGVkIiwibWl4aW4iLCJ1c2UiLCJnZXRDb21wb25lbnROYW1lIiwibWF0Y2hlcyIsInBhdHRlcm4iLCJwcnVuZUNhY2hlIiwia2VlcEFsaXZlSW5zdGFuY2UiLCJmaWx0ZXIiLCJlbnRyeSIsInBydW5lQ2FjaGVFbnRyeSIsImN1cnJlbnQiLCJfdWlkIiwidm5vZGVDb21wb25lbnRPcHRpb25zIiwiX2NvbXBvbmVudFRhZyIsImluaXRJbnRlcm5hbENvbXBvbmVudCIsIiRyZWZzIiwiaW5pdExpZmVjeWNsZSIsIl9ldmVudHMiLCJpbml0RXZlbnRzIiwicGFyZW50RGF0YSIsImluaXRSZW5kZXIiLCJpbml0SW5qZWN0aW9ucyIsInByb3ZpZGVPcHRpb24iLCJwcm92aWRlZCIsImluaXRQcm92aWRlIiwiaW5pdE1peGluJDEiLCJkYXRhRGVmIiwicHJvcHNEZWYiLCIkc2V0IiwiJGRlbGV0ZSIsImltbWVkaWF0ZSIsInN0YXRlTWl4aW4iLCJob29rUkUiLCIkb25jZSIsImlfMSIsImNicyIsImV2ZW50c01peGluIiwiX3VwZGF0ZSIsInByZXZFbCIsIiRlbCIsInByZXZWbm9kZSIsInJlc3RvcmVBY3RpdmVJbnN0YW5jZSIsIl9fcGF0Y2hfXyIsIl9fdnVlX18iLCJsaWZlY3ljbGVNaXhpbiIsIiRuZXh0VGljayIsIl9yZW5kZXIiLCJfYSIsInJlbmRlck1peGluIiwicGF0dGVyblR5cGVzIiwiYnVpbHRJbkNvbXBvbmVudHMiLCJLZWVwQWxpdmUiLCJpbmNsdWRlIiwiZXhjbHVkZSIsIk51bWJlciIsImNhY2hlVk5vZGUiLCJ2bm9kZVRvQ2FjaGUiLCJrZXlUb0NhY2hlIiwicGFyc2VJbnQiLCJjb25maWdEZWYiLCJ1dGlsIiwiZGVsZXRlIiwib2JzZXJ2YWJsZSIsInBsdWdpbiIsImluc3RhbGxlZFBsdWdpbnMiLCJfaW5zdGFsbGVkUGx1Z2lucyIsInVuc2hpZnQiLCJpbnN0YWxsIiwiaW5pdFVzZSIsImluaXRNaXhpbiIsImRlZmluaXRpb24iLCJpbml0QXNzZXRSZWdpc3RlcnMiLCJpbml0R2xvYmFsQVBJIiwidmVyc2lvbiIsImFjY2VwdFZhbHVlIiwiaXNFbnVtZXJhdGVkQXR0ciIsImlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSIsImlzQm9vbGVhbkF0dHIiLCJ4bGlua05TIiwiaXNYbGluayIsImdldFhsaW5rUHJvcCIsImlzRmFsc3lBdHRyVmFsdWUiLCJnZW5DbGFzc0ZvclZub2RlIiwicGFyZW50Tm9kZSIsImNoaWxkTm9kZSIsIm1lcmdlQ2xhc3NEYXRhIiwic3RhdGljQ2xhc3MiLCJkeW5hbWljQ2xhc3MiLCJzdHJpbmdpZnlDbGFzcyIsInJlbmRlckNsYXNzIiwic3RyaW5naWZpZWQiLCJzdHJpbmdpZnlBcnJheSIsInN0cmluZ2lmeU9iamVjdCIsIm5hbWVzcGFjZU1hcCIsInN2ZyIsIm1hdGgiLCJpc0hUTUxUYWciLCJpc1NWRyIsInVua25vd25FbGVtZW50Q2FjaGUiLCJpc1RleHRJbnB1dFR5cGUiLCJub2RlT3BzIiwiY3JlYXRlRWxlbWVudCIsInRhZ05hbWUiLCJtdWx0aXBsZSIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnROUyIsIm5hbWVzcGFjZSIsImNyZWF0ZUNvbW1lbnQiLCJpbnNlcnRCZWZvcmUiLCJuZXdOb2RlIiwicmVmZXJlbmNlTm9kZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJuZXh0U2libGluZyIsInNldFRleHRDb250ZW50IiwidGV4dENvbnRlbnQiLCJzZXRTdHlsZVNjb3BlIiwicmVnaXN0ZXJSZWYiLCJpc1JlbW92YWwiLCJyZWZWYWx1ZSIsIiRyZWZzVmFsdWUiLCJpc0ZvciIsInJlZkluRm9yIiwiX2lzU3RyaW5nIiwiX2lzUmVmIiwicmVmcyIsImluY2x1ZGVzIiwic2V0U2V0dXBSZWYiLCJlbXB0eU5vZGUiLCJzYW1lVm5vZGUiLCJ0eXBlQSIsInR5cGVCIiwic2FtZUlucHV0VHlwZSIsImNyZWF0ZUtleVRvT2xkSWR4IiwiYmVnaW5JZHgiLCJlbmRJZHgiLCJ1cGRhdGVEaXJlY3RpdmVzIiwib2xkRGlyIiwiZGlyIiwiaXNDcmVhdGUiLCJpc0Rlc3Ryb3kiLCJvbGREaXJzIiwibm9ybWFsaXplRGlyZWN0aXZlcyIsIm5ld0RpcnMiLCJkaXJzV2l0aEluc2VydCIsImRpcnNXaXRoUG9zdHBhdGNoIiwib2xkQXJnIiwiYXJnIiwiY2FsbEhvb2siLCJjb21wb25lbnRVcGRhdGVkIiwiY2FsbEluc2VydCIsImVtcHR5TW9kaWZpZXJzIiwibW9kaWZpZXJzIiwiZ2V0UmF3RGlyTmFtZSIsInJhd05hbWUiLCJqb2luIiwiYmFzZU1vZHVsZXMiLCJ1cGRhdGVBdHRycyIsImluaGVyaXRBdHRycyIsIm9sZEF0dHJzIiwiX3ZfYXR0cl9wcm94eSIsInNldEF0dHIiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInJlbW92ZUF0dHJpYnV0ZSIsImlzSW5QcmUiLCJiYXNlU2V0QXR0ciIsImNvbnZlcnRFbnVtZXJhdGVkVmFsdWUiLCJzZXRBdHRyaWJ1dGVOUyIsIl9faWVwaCIsImJsb2NrZXJfMSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVDbGFzcyIsIm9sZERhdGEiLCJjbHMiLCJ0cmFuc2l0aW9uQ2xhc3MiLCJfdHJhbnNpdGlvbkNsYXNzZXMiLCJfcHJldkNsYXNzIiwia2xhc3MiLCJ1c2VNaWNyb3Rhc2tGaXgiLCJhdHRhY2hlZFRpbWVzdGFtcF8xIiwib3JpZ2luYWxfMSIsIl93cmFwcGVyIiwiY3VycmVudFRhcmdldCIsIm93bmVyRG9jdW1lbnQiLCJ1cGRhdGVET01MaXN0ZW5lcnMiLCJldmVudF8xIiwiY2hhbmdlIiwibm9ybWFsaXplRXZlbnRzIiwic3ZnQ29udGFpbmVyIiwiZXZlbnRzIiwidXBkYXRlRE9NUHJvcHMiLCJvbGRQcm9wcyIsImNoaWxkTm9kZXMiLCJfdmFsdWUiLCJzdHJDdXIiLCJzaG91bGRVcGRhdGVWYWx1ZSIsImlubmVySFRNTCIsImZpcnN0Q2hpbGQiLCJjaGVja1ZhbCIsImNvbXBvc2luZyIsIm5vdEluRm9jdXMiLCJhY3RpdmVFbGVtZW50IiwiaXNOb3RJbkZvY3VzQW5kRGlydHkiLCJfdk1vZGlmaWVycyIsIm51bWJlciIsInRyaW0iLCJpc0RpcnR5V2l0aE1vZGlmaWVycyIsInBhcnNlU3R5bGVUZXh0IiwiY3NzVGV4dCIsInByb3BlcnR5RGVsaW1pdGVyIiwibm9ybWFsaXplU3R5bGVEYXRhIiwibm9ybWFsaXplU3R5bGVCaW5kaW5nIiwic3RhdGljU3R5bGUiLCJiaW5kaW5nU3R5bGUiLCJlbXB0eVN0eWxlIiwiY3NzVmFyUkUiLCJpbXBvcnRhbnRSRSIsInNldFByb3AiLCJzZXRQcm9wZXJ0eSIsIm5vcm1hbGl6ZWROYW1lIiwibm9ybWFsaXplIiwidmVuZG9yTmFtZXMiLCJjYXBOYW1lIiwidXBkYXRlU3R5bGUiLCJvbGRTdGF0aWNTdHlsZSIsIm9sZFN0eWxlQmluZGluZyIsIm5vcm1hbGl6ZWRTdHlsZSIsIm9sZFN0eWxlIiwibmV3U3R5bGUiLCJjaGVja0NoaWxkIiwic3R5bGVEYXRhIiwiZ2V0U3R5bGUiLCJ3aGl0ZXNwYWNlUkUiLCJhZGRDbGFzcyIsImNsYXNzTGlzdCIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUNsYXNzIiwidGFyIiwicmVzb2x2ZVRyYW5zaXRpb24iLCJjc3MiLCJhdXRvQ3NzVHJhbnNpdGlvbiIsImVudGVyQ2xhc3MiLCJlbnRlclRvQ2xhc3MiLCJlbnRlckFjdGl2ZUNsYXNzIiwibGVhdmVDbGFzcyIsImxlYXZlVG9DbGFzcyIsImxlYXZlQWN0aXZlQ2xhc3MiLCJoYXNUcmFuc2l0aW9uIiwiVFJBTlNJVElPTiIsIkFOSU1BVElPTiIsInRyYW5zaXRpb25Qcm9wIiwidHJhbnNpdGlvbkVuZEV2ZW50IiwiYW5pbWF0aW9uUHJvcCIsImFuaW1hdGlvbkVuZEV2ZW50Iiwib250cmFuc2l0aW9uZW5kIiwib253ZWJraXR0cmFuc2l0aW9uZW5kIiwib25hbmltYXRpb25lbmQiLCJvbndlYmtpdGFuaW1hdGlvbmVuZCIsInJhZiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5leHRGcmFtZSIsImFkZFRyYW5zaXRpb25DbGFzcyIsInRyYW5zaXRpb25DbGFzc2VzIiwicmVtb3ZlVHJhbnNpdGlvbkNsYXNzIiwid2hlblRyYW5zaXRpb25FbmRzIiwiZXhwZWN0ZWRUeXBlIiwiZ2V0VHJhbnNpdGlvbkluZm8iLCJwcm9wQ291bnQiLCJlbmRlZCIsImVuZCIsIm9uRW5kIiwidHJhbnNmb3JtUkUiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwidHJhbnNpdGlvbkRlbGF5cyIsInRyYW5zaXRpb25EdXJhdGlvbnMiLCJ0cmFuc2l0aW9uVGltZW91dCIsImdldFRpbWVvdXQiLCJhbmltYXRpb25EZWxheXMiLCJhbmltYXRpb25EdXJhdGlvbnMiLCJhbmltYXRpb25UaW1lb3V0IiwiaGFzVHJhbnNmb3JtIiwiZGVsYXlzIiwiZHVyYXRpb25zIiwidG9NcyIsInMiLCJlbnRlciIsInRvZ2dsZURpc3BsYXkiLCJfbGVhdmVDYiIsImNhbmNlbGxlZCIsInRyYW5zaXRpb24iLCJfZW50ZXJDYiIsIm5vZGVUeXBlIiwiYXBwZWFyQ2xhc3MiLCJhcHBlYXJUb0NsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJiZWZvcmVFbnRlciIsImFmdGVyRW50ZXIiLCJlbnRlckNhbmNlbGxlZCIsImJlZm9yZUFwcGVhciIsImFwcGVhciIsImFmdGVyQXBwZWFyIiwiYXBwZWFyQ2FuY2VsbGVkIiwiZHVyYXRpb24iLCJ0cmFuc2l0aW9uTm9kZSIsImlzQXBwZWFyIiwic3RhcnRDbGFzcyIsImFjdGl2ZUNsYXNzIiwidG9DbGFzcyIsImJlZm9yZUVudGVySG9vayIsImVudGVySG9vayIsImFmdGVyRW50ZXJIb29rIiwiZW50ZXJDYW5jZWxsZWRIb29rIiwiZXhwbGljaXRFbnRlckR1cmF0aW9uIiwiZXhwZWN0c0NTUyIsInVzZXJXYW50c0NvbnRyb2wiLCJnZXRIb29rQXJndW1lbnRzTGVuZ3RoIiwic2hvdyIsInBlbmRpbmdOb2RlIiwiX3BlbmRpbmciLCJpc1ZhbGlkRHVyYXRpb24iLCJsZWF2ZSIsInJtIiwiYmVmb3JlTGVhdmUiLCJhZnRlckxlYXZlIiwibGVhdmVDYW5jZWxsZWQiLCJkZWxheUxlYXZlIiwiZXhwbGljaXRMZWF2ZUR1cmF0aW9uIiwicGVyZm9ybUxlYXZlIiwiaW52b2tlckZucyIsIl9lbnRlciIsInBhdGNoIiwiYmFja2VuZCIsIm1vZHVsZXMiLCJyZW1vdmVOb2RlIiwiY3JlYXRlRWxtIiwiaW5zZXJ0ZWRWbm9kZVF1ZXVlIiwicGFyZW50RWxtIiwicmVmRWxtIiwibmVzdGVkIiwib3duZXJBcnJheSIsImlzUmVhY3RpdmF0ZWQiLCJpbml0Q29tcG9uZW50IiwiaW5uZXJOb2RlIiwiYWN0aXZhdGUiLCJyZWFjdGl2YXRlQ29tcG9uZW50Iiwic2V0U2NvcGUiLCJjcmVhdGVDaGlsZHJlbiIsImludm9rZUNyZWF0ZUhvb2tzIiwicGVuZGluZ0luc2VydCIsImlzUGF0Y2hhYmxlIiwiaV8yIiwiYW5jZXN0b3IiLCJhZGRWbm9kZXMiLCJzdGFydElkeCIsImludm9rZURlc3Ryb3lIb29rIiwicmVtb3ZlVm5vZGVzIiwiY2giLCJyZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rIiwiaV8zIiwiY2hpbGRFbG0iLCJjcmVhdGVSbUNiIiwiZmluZElkeEluT2xkIiwib2xkQ2giLCJpXzUiLCJwYXRjaFZub2RlIiwicmVtb3ZlT25seSIsImh5ZHJhdGUiLCJuZXdDaCIsIm9sZEtleVRvSWR4IiwiaWR4SW5PbGQiLCJ2bm9kZVRvTW92ZSIsIm9sZFN0YXJ0SWR4IiwibmV3U3RhcnRJZHgiLCJvbGRFbmRJZHgiLCJvbGRTdGFydFZub2RlIiwib2xkRW5kVm5vZGUiLCJuZXdFbmRJZHgiLCJuZXdTdGFydFZub2RlIiwibmV3RW5kVm5vZGUiLCJjYW5Nb3ZlIiwidXBkYXRlQ2hpbGRyZW4iLCJwb3N0cGF0Y2giLCJpbnZva2VJbnNlcnRIb29rIiwiaW5pdGlhbCIsImlfNiIsImlzUmVuZGVyZWRNb2R1bGUiLCJpblZQcmUiLCJoYXNDaGlsZE5vZGVzIiwiY2hpbGRyZW5NYXRjaCIsImlfNyIsImZ1bGxJbnZva2UiLCJpc0luaXRpYWxQYXRjaCIsImlzUmVhbEVsZW1lbnQiLCJoYXNBdHRyaWJ1dGUiLCJvbGRFbG0iLCJwYXRjaGFibGUiLCJpXzgiLCJpXzkiLCJpbnNlcnRfMSIsImlfMTAiLCJjcmVhdGVQYXRjaEZ1bmN0aW9uIiwidm1vZGVsIiwidHJpZ2dlciIsImRpcmVjdGl2ZSIsImJpbmRpbmciLCJfdk9wdGlvbnMiLCJzZXRTZWxlY3RlZCIsImdldFZhbHVlIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvbkVuZCIsInByZXZPcHRpb25zXzEiLCJjdXJPcHRpb25zXzEiLCJzb21lIiwibyIsImhhc05vTWF0Y2hpbmdPcHRpb24iLCJhY3R1YWxseVNldFNlbGVjdGVkIiwiaXNNdWx0aXBsZSIsInNlbGVjdGVkIiwib3B0aW9uIiwic2VsZWN0ZWRJbmRleCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJsb2NhdGVOb2RlIiwib3JpZ2luYWxEaXNwbGF5IiwiX192T3JpZ2luYWxEaXNwbGF5IiwiZGlzcGxheSIsInVuYmluZCIsInBsYXRmb3JtRGlyZWN0aXZlcyIsInRyYW5zaXRpb25Qcm9wcyIsIm1vZGUiLCJnZXRSZWFsQ2hpbGQiLCJjb21wT3B0aW9ucyIsImV4dHJhY3RUcmFuc2l0aW9uRGF0YSIsInBsYWNlaG9sZGVyIiwicmF3Q2hpbGQiLCJpc05vdFRleHROb2RlIiwiaXNWU2hvd0RpcmVjdGl2ZSIsIlRyYW5zaXRpb24iLCJoYXNQYXJlbnRUcmFuc2l0aW9uIiwiX2xlYXZpbmciLCJvbGRSYXdDaGlsZCIsIm9sZENoaWxkIiwiaXNTYW1lQ2hpbGQiLCJkZWxheWVkTGVhdmVfMSIsIm1vdmVDbGFzcyIsIlRyYW5zaXRpb25Hcm91cCIsImJlZm9yZU1vdW50Iiwia2VwdCIsInByZXZDaGlsZHJlbiIsInJhd0NoaWxkcmVuIiwidHJhbnNpdGlvbkRhdGEiLCJyZW1vdmVkIiwicG9zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaGFzTW92ZSIsImNhbGxQZW5kaW5nQ2JzIiwicmVjb3JkUG9zaXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwiX3JlZmxvdyIsImJvZHkiLCJvZmZzZXRIZWlnaHQiLCJtb3ZlZCIsImVsXzEiLCJ0cmFuc2Zvcm0iLCJXZWJraXRUcmFuc2Zvcm0iLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJfbW92ZUNiIiwicHJvcGVydHlOYW1lIiwiX2hhc01vdmUiLCJjbG9uZU5vZGUiLCJuZXdQb3MiLCJvbGRQb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsInBsYXRmb3JtQ29tcG9uZW50cyIsImF0dHIiLCJIVE1MVW5rbm93bkVsZW1lbnQiLCJIVE1MRWxlbWVudCIsInVwZGF0ZUNvbXBvbmVudCIsInByZVdhdGNoZXJzIiwiX3ByZVdhdGNoZXJzIiwibW91bnRDb21wb25lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnkiXSwic291cmNlUm9vdCI6IiJ9